function ld(m,A){for(var x=0;x<A.length;x++){const E=A[x];if(typeof E!="string"&&!Array.isArray(E)){for(const b in E)if(b!=="default"&&!(b in m)){const w=Object.getOwnPropertyDescriptor(E,b);w&&Object.defineProperty(m,b,w.get?w:{enumerable:!0,get:()=>E[b]})}}}return Object.freeze(Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}))}(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))E(b);new MutationObserver(b=>{for(const w of b)if(w.type==="childList")for(const D of w.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&E(D)}).observe(document,{childList:!0,subtree:!0});function x(b){const w={};return b.integrity&&(w.integrity=b.integrity),b.referrerPolicy&&(w.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?w.credentials="include":b.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function E(b){if(b.ep)return;b.ep=!0;const w=x(b);fetch(b.href,w)}})();var mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sd(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var mc={exports:{}},os={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df;function od(){if(df)return os;df=1;var m=Symbol.for("react.transitional.element"),A=Symbol.for("react.fragment");function x(E,b,w){var D=null;if(w!==void 0&&(D=""+w),b.key!==void 0&&(D=""+b.key),"key"in b){w={};for(var V in b)V!=="key"&&(w[V]=b[V])}else w=b;return b=w.ref,{$$typeof:m,type:E,key:D,ref:b!==void 0?b:null,props:w}}return os.Fragment=A,os.jsx=x,os.jsxs=x,os}var gf;function ud(){return gf||(gf=1,mc.exports=od()),mc.exports}var ue=ud(),Ec={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function cd(){if(xf)return Yt;xf=1;var m=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),k=Symbol.iterator;function At(B){return B===null||typeof B!="object"?null:(B=k&&B[k]||B["@@iterator"],typeof B=="function"?B:null)}var xt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,St={};function Ut(B,at,dt){this.props=B,this.context=at,this.refs=St,this.updater=dt||xt}Ut.prototype.isReactComponent={},Ut.prototype.setState=function(B,at){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,at,"setState")},Ut.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function xe(){}xe.prototype=Ut.prototype;function Nt(B,at,dt){this.props=B,this.context=at,this.refs=St,this.updater=dt||xt}var Et=Nt.prototype=new xe;Et.constructor=Nt,te(Et,Ut.prototype),Et.isPureReactComponent=!0;var kt=Array.isArray,Ht={H:null,A:null,T:null,S:null},Lt=Object.prototype.hasOwnProperty;function ut(B,at,dt,wt,ct,Rt){return dt=Rt.ref,{$$typeof:m,type:B,key:at,ref:dt!==void 0?dt:null,props:Rt}}function Gt(B,at){return ut(B.type,at,void 0,void 0,void 0,B.props)}function q(B){return typeof B=="object"&&B!==null&&B.$$typeof===m}function Vt(B){var at={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(dt){return at[dt]})}var Ce=/\/+/g;function Tt(B,at){return typeof B=="object"&&B!==null&&B.key!=null?Vt(""+B.key):at.toString(36)}function Pt(){}function Ae(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(Pt,Pt):(B.status="pending",B.then(function(at){B.status==="pending"&&(B.status="fulfilled",B.value=at)},function(at){B.status==="pending"&&(B.status="rejected",B.reason=at)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function j(B,at,dt,wt,ct){var Rt=typeof B;(Rt==="undefined"||Rt==="boolean")&&(B=null);var lt=!1;if(B===null)lt=!0;else switch(Rt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(B.$$typeof){case m:case A:lt=!0;break;case z:return lt=B._init,j(lt(B._payload),at,dt,wt,ct)}}if(lt)return ct=ct(B),lt=wt===""?"."+Tt(B,0):wt,kt(ct)?(dt="",lt!=null&&(dt=lt.replace(Ce,"$&/")+"/"),j(ct,at,dt,"",function(be){return be})):ct!=null&&(q(ct)&&(ct=Gt(ct,dt+(ct.key==null||B&&B.key===ct.key?"":(""+ct.key).replace(Ce,"$&/")+"/")+lt)),at.push(ct)),1;lt=0;var ke=wt===""?".":wt+":";if(kt(B))for(var Mt=0;Mt<B.length;Mt++)wt=B[Mt],Rt=ke+Tt(wt,Mt),lt+=j(wt,at,dt,Rt,ct);else if(Mt=At(B),typeof Mt=="function")for(B=Mt.call(B),Mt=0;!(wt=B.next()).done;)wt=wt.value,Rt=ke+Tt(wt,Mt++),lt+=j(wt,at,dt,Rt,ct);else if(Rt==="object"){if(typeof B.then=="function")return j(Ae(B),at,dt,wt,ct);throw at=String(B),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return lt}function J(B,at,dt){if(B==null)return B;var wt=[],ct=0;return j(B,wt,"","",function(Rt){return at.call(dt,Rt,ct++)}),wt}function et(B){if(B._status===-1){var at=B._result;at=at(),at.then(function(dt){(B._status===0||B._status===-1)&&(B._status=1,B._result=dt)},function(dt){(B._status===0||B._status===-1)&&(B._status=2,B._result=dt)}),B._status===-1&&(B._status=0,B._result=at)}if(B._status===1)return B._result.default;throw B._result}var ht=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Wt(){}return Yt.Children={map:J,forEach:function(B,at,dt){J(B,function(){at.apply(this,arguments)},dt)},count:function(B){var at=0;return J(B,function(){at++}),at},toArray:function(B){return J(B,function(at){return at})||[]},only:function(B){if(!q(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Yt.Component=Ut,Yt.Fragment=x,Yt.Profiler=b,Yt.PureComponent=Nt,Yt.StrictMode=E,Yt.Suspense=F,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht,Yt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Yt.cache=function(B){return function(){return B.apply(null,arguments)}},Yt.cloneElement=function(B,at,dt){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var wt=te({},B.props),ct=B.key,Rt=void 0;if(at!=null)for(lt in at.ref!==void 0&&(Rt=void 0),at.key!==void 0&&(ct=""+at.key),at)!Lt.call(at,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&at.ref===void 0||(wt[lt]=at[lt]);var lt=arguments.length-2;if(lt===1)wt.children=dt;else if(1<lt){for(var ke=Array(lt),Mt=0;Mt<lt;Mt++)ke[Mt]=arguments[Mt+2];wt.children=ke}return ut(B.type,ct,void 0,void 0,Rt,wt)},Yt.createContext=function(B){return B={$$typeof:D,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:w,_context:B},B},Yt.createElement=function(B,at,dt){var wt,ct={},Rt=null;if(at!=null)for(wt in at.key!==void 0&&(Rt=""+at.key),at)Lt.call(at,wt)&&wt!=="key"&&wt!=="__self"&&wt!=="__source"&&(ct[wt]=at[wt]);var lt=arguments.length-2;if(lt===1)ct.children=dt;else if(1<lt){for(var ke=Array(lt),Mt=0;Mt<lt;Mt++)ke[Mt]=arguments[Mt+2];ct.children=ke}if(B&&B.defaultProps)for(wt in lt=B.defaultProps,lt)ct[wt]===void 0&&(ct[wt]=lt[wt]);return ut(B,Rt,void 0,void 0,null,ct)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(B){return{$$typeof:V,render:B}},Yt.isValidElement=q,Yt.lazy=function(B){return{$$typeof:z,_payload:{_status:-1,_result:B},_init:et}},Yt.memo=function(B,at){return{$$typeof:S,type:B,compare:at===void 0?null:at}},Yt.startTransition=function(B){var at=Ht.T,dt={};Ht.T=dt;try{var wt=B(),ct=Ht.S;ct!==null&&ct(dt,wt),typeof wt=="object"&&wt!==null&&typeof wt.then=="function"&&wt.then(Wt,ht)}catch(Rt){ht(Rt)}finally{Ht.T=at}},Yt.unstable_useCacheRefresh=function(){return Ht.H.useCacheRefresh()},Yt.use=function(B){return Ht.H.use(B)},Yt.useActionState=function(B,at,dt){return Ht.H.useActionState(B,at,dt)},Yt.useCallback=function(B,at){return Ht.H.useCallback(B,at)},Yt.useContext=function(B){return Ht.H.useContext(B)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(B,at){return Ht.H.useDeferredValue(B,at)},Yt.useEffect=function(B,at){return Ht.H.useEffect(B,at)},Yt.useId=function(){return Ht.H.useId()},Yt.useImperativeHandle=function(B,at,dt){return Ht.H.useImperativeHandle(B,at,dt)},Yt.useInsertionEffect=function(B,at){return Ht.H.useInsertionEffect(B,at)},Yt.useLayoutEffect=function(B,at){return Ht.H.useLayoutEffect(B,at)},Yt.useMemo=function(B,at){return Ht.H.useMemo(B,at)},Yt.useOptimistic=function(B,at){return Ht.H.useOptimistic(B,at)},Yt.useReducer=function(B,at,dt){return Ht.H.useReducer(B,at,dt)},Yt.useRef=function(B){return Ht.H.useRef(B)},Yt.useState=function(B){return Ht.H.useState(B)},Yt.useSyncExternalStore=function(B,at,dt){return Ht.H.useSyncExternalStore(B,at,dt)},Yt.useTransition=function(){return Ht.H.useTransition()},Yt.version="19.0.0",Yt}var Af;function bc(){return Af||(Af=1,Ec.exports=cd()),Ec.exports}var En=bc(),yc={exports:{}},us={},Cc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function fd(){return mf||(mf=1,function(m){function A(J,et){var ht=J.length;J.push(et);t:for(;0<ht;){var Wt=ht-1>>>1,B=J[Wt];if(0<b(B,et))J[Wt]=et,J[ht]=B,ht=Wt;else break t}}function x(J){return J.length===0?null:J[0]}function E(J){if(J.length===0)return null;var et=J[0],ht=J.pop();if(ht!==et){J[0]=ht;t:for(var Wt=0,B=J.length,at=B>>>1;Wt<at;){var dt=2*(Wt+1)-1,wt=J[dt],ct=dt+1,Rt=J[ct];if(0>b(wt,ht))ct<B&&0>b(Rt,wt)?(J[Wt]=Rt,J[ct]=ht,Wt=ct):(J[Wt]=wt,J[dt]=ht,Wt=dt);else if(ct<B&&0>b(Rt,ht))J[Wt]=Rt,J[ct]=ht,Wt=ct;else break t}}return et}function b(J,et){var ht=J.sortIndex-et.sortIndex;return ht!==0?ht:J.id-et.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;m.unstable_now=function(){return w.now()}}else{var D=Date,V=D.now();m.unstable_now=function(){return D.now()-V}}var F=[],S=[],z=1,k=null,At=3,xt=!1,te=!1,St=!1,Ut=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,Nt=typeof setImmediate<"u"?setImmediate:null;function Et(J){for(var et=x(S);et!==null;){if(et.callback===null)E(S);else if(et.startTime<=J)E(S),et.sortIndex=et.expirationTime,A(F,et);else break;et=x(S)}}function kt(J){if(St=!1,Et(J),!te)if(x(F)!==null)te=!0,Ae();else{var et=x(S);et!==null&&j(kt,et.startTime-J)}}var Ht=!1,Lt=-1,ut=5,Gt=-1;function q(){return!(m.unstable_now()-Gt<ut)}function Vt(){if(Ht){var J=m.unstable_now();Gt=J;var et=!0;try{t:{te=!1,St&&(St=!1,xe(Lt),Lt=-1),xt=!0;var ht=At;try{e:{for(Et(J),k=x(F);k!==null&&!(k.expirationTime>J&&q());){var Wt=k.callback;if(typeof Wt=="function"){k.callback=null,At=k.priorityLevel;var B=Wt(k.expirationTime<=J);if(J=m.unstable_now(),typeof B=="function"){k.callback=B,Et(J),et=!0;break e}k===x(F)&&E(F),Et(J)}else E(F);k=x(F)}if(k!==null)et=!0;else{var at=x(S);at!==null&&j(kt,at.startTime-J),et=!1}}break t}finally{k=null,At=ht,xt=!1}et=void 0}}finally{et?Ce():Ht=!1}}}var Ce;if(typeof Nt=="function")Ce=function(){Nt(Vt)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,Pt=Tt.port2;Tt.port1.onmessage=Vt,Ce=function(){Pt.postMessage(null)}}else Ce=function(){Ut(Vt,0)};function Ae(){Ht||(Ht=!0,Ce())}function j(J,et){Lt=Ut(function(){J(m.unstable_now())},et)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(J){J.callback=null},m.unstable_continueExecution=function(){te||xt||(te=!0,Ae())},m.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ut=0<J?Math.floor(1e3/J):5},m.unstable_getCurrentPriorityLevel=function(){return At},m.unstable_getFirstCallbackNode=function(){return x(F)},m.unstable_next=function(J){switch(At){case 1:case 2:case 3:var et=3;break;default:et=At}var ht=At;At=et;try{return J()}finally{At=ht}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(J,et){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ht=At;At=J;try{return et()}finally{At=ht}},m.unstable_scheduleCallback=function(J,et,ht){var Wt=m.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Wt+ht:Wt):ht=Wt,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ht+B,J={id:z++,callback:et,priorityLevel:J,startTime:ht,expirationTime:B,sortIndex:-1},ht>Wt?(J.sortIndex=ht,A(S,J),x(F)===null&&J===x(S)&&(St?(xe(Lt),Lt=-1):St=!0,j(kt,ht-Wt))):(J.sortIndex=B,A(F,J),te||xt||(te=!0,Ae())),J},m.unstable_shouldYield=q,m.unstable_wrapCallback=function(J){var et=At;return function(){var ht=At;At=et;try{return J.apply(this,arguments)}finally{At=ht}}}}(wc)),wc}var Ef;function hd(){return Ef||(Ef=1,Cc.exports=fd()),Cc.exports}var Sc={exports:{}},Bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yf;function dd(){if(yf)return Bn;yf=1;var m=bc();function A(F){var S="https://react.dev/errors/"+F;if(1<arguments.length){S+="?args[]="+encodeURIComponent(arguments[1]);for(var z=2;z<arguments.length;z++)S+="&args[]="+encodeURIComponent(arguments[z])}return"Minified React error #"+F+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(){}var E={d:{f:x,r:function(){throw Error(A(522))},D:x,C:x,L:x,m:x,X:x,S:x,M:x},p:0,findDOMNode:null},b=Symbol.for("react.portal");function w(F,S,z){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:k==null?null:""+k,children:F,containerInfo:S,implementation:z}}var D=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function V(F,S){if(F==="font")return"";if(typeof S=="string")return S==="use-credentials"?S:""}return Bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Bn.createPortal=function(F,S){var z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S||S.nodeType!==1&&S.nodeType!==9&&S.nodeType!==11)throw Error(A(299));return w(F,S,null,z)},Bn.flushSync=function(F){var S=D.T,z=E.p;try{if(D.T=null,E.p=2,F)return F()}finally{D.T=S,E.p=z,E.d.f()}},Bn.preconnect=function(F,S){typeof F=="string"&&(S?(S=S.crossOrigin,S=typeof S=="string"?S==="use-credentials"?S:"":void 0):S=null,E.d.C(F,S))},Bn.prefetchDNS=function(F){typeof F=="string"&&E.d.D(F)},Bn.preinit=function(F,S){if(typeof F=="string"&&S&&typeof S.as=="string"){var z=S.as,k=V(z,S.crossOrigin),At=typeof S.integrity=="string"?S.integrity:void 0,xt=typeof S.fetchPriority=="string"?S.fetchPriority:void 0;z==="style"?E.d.S(F,typeof S.precedence=="string"?S.precedence:void 0,{crossOrigin:k,integrity:At,fetchPriority:xt}):z==="script"&&E.d.X(F,{crossOrigin:k,integrity:At,fetchPriority:xt,nonce:typeof S.nonce=="string"?S.nonce:void 0})}},Bn.preinitModule=function(F,S){if(typeof F=="string")if(typeof S=="object"&&S!==null){if(S.as==null||S.as==="script"){var z=V(S.as,S.crossOrigin);E.d.M(F,{crossOrigin:z,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0})}}else S==null&&E.d.M(F)},Bn.preload=function(F,S){if(typeof F=="string"&&typeof S=="object"&&S!==null&&typeof S.as=="string"){var z=S.as,k=V(z,S.crossOrigin);E.d.L(F,z,{crossOrigin:k,integrity:typeof S.integrity=="string"?S.integrity:void 0,nonce:typeof S.nonce=="string"?S.nonce:void 0,type:typeof S.type=="string"?S.type:void 0,fetchPriority:typeof S.fetchPriority=="string"?S.fetchPriority:void 0,referrerPolicy:typeof S.referrerPolicy=="string"?S.referrerPolicy:void 0,imageSrcSet:typeof S.imageSrcSet=="string"?S.imageSrcSet:void 0,imageSizes:typeof S.imageSizes=="string"?S.imageSizes:void 0,media:typeof S.media=="string"?S.media:void 0})}},Bn.preloadModule=function(F,S){if(typeof F=="string")if(S){var z=V(S.as,S.crossOrigin);E.d.m(F,{as:typeof S.as=="string"&&S.as!=="script"?S.as:void 0,crossOrigin:z,integrity:typeof S.integrity=="string"?S.integrity:void 0})}else E.d.m(F)},Bn.requestFormReset=function(F){E.d.r(F)},Bn.unstable_batchedUpdates=function(F,S){return F(S)},Bn.useFormState=function(F,S,z){return D.H.useFormState(F,S,z)},Bn.useFormStatus=function(){return D.H.useHostTransitionStatus()},Bn.version="19.0.0",Bn}var Cf;function gd(){if(Cf)return Sc.exports;Cf=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(A){console.error(A)}}return m(),Sc.exports=dd(),Sc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function xd(){if(wf)return us;wf=1;var m=hd(),A=bc(),x=gd();function E(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var w=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),xt=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),St=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),kt=Symbol.for("react.memo_cache_sentinel"),Ht=Symbol.iterator;function Lt(t){return t===null||typeof t!="object"?null:(t=Ht&&t[Ht]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Symbol.for("react.client.reference");function Gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ut?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case V:return"Portal";case z:return"Profiler";case S:return"StrictMode";case St:return"Suspense";case Ut:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case xt:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case te:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xe:return n=t.displayName||null,n!==null?n:Gt(t.type)||"Memo";case Nt:n=t._payload,t=t._init;try{return Gt(t(n))}catch{}}return null}var q=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vt=Object.assign,Ce,Tt;function Pt(t){if(Ce===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ce=n&&n[1]||"",Tt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+t+Tt}var Ae=!1;function j(t,n){if(!t||Ae)return"";Ae=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var X=W}Reflect.construct(t,[],it)}else{try{it.call()}catch(W){X=W}t.call(it.prototype)}}else{try{throw Error()}catch(W){X=W}(it=t())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),C=d[0],N=d[1];if(C&&N){var I=C.split(`
`),U=N.split(`
`);for(f=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(o===I.length||f===U.length)for(o=I.length-1,f=U.length-1;1<=o&&0<=f&&I[o]!==U[f];)f--;for(;1<=o&&0<=f;o--,f--)if(I[o]!==U[f]){if(o!==1||f!==1)do if(o--,f--,0>f||I[o]!==U[f]){var K=`
`+I[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Pt(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return Pt(t.type);case 16:return Pt("Lazy");case 13:return Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return t=j(t.type,!1),t;case 11:return t=j(t.type.render,!1),t;case 1:return t=j(t.type,!0),t;default:return""}}function et(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ht(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Wt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function B(t){if(ht(t)!==t)throw Error(E(188))}function at(t){var n=t.alternate;if(!n){if(n=ht(t),n===null)throw Error(E(188));return n!==t?null:t}for(var r=t,o=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return B(f),t;if(d===o)return B(f),n;d=d.sibling}throw Error(E(188))}if(r.return!==o.return)r=f,o=d;else{for(var C=!1,N=f.child;N;){if(N===r){C=!0,r=f,o=d;break}if(N===o){C=!0,o=f,r=d;break}N=N.sibling}if(!C){for(N=d.child;N;){if(N===r){C=!0,r=d,o=f;break}if(N===o){C=!0,o=d,r=f;break}N=N.sibling}if(!C)throw Error(E(189))}}if(r.alternate!==o)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:n}function dt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=dt(t),n!==null)return n;t=t.sibling}return null}var wt=Array.isArray,ct=x.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},lt=[],ke=-1;function Mt(t){return{current:t}}function be(t){0>ke||(t.current=lt[ke],lt[ke]=null,ke--)}function fe(t,n){ke++,lt[ke]=t.current,t.current=n}var re=Mt(null),Mn=Mt(null),Bt=Mt(null),Pn=Mt(null);function yn(t,n){switch(fe(Bt,n),fe(Mn,t),fe(re,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?P0(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=P0(t),n=j0(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}be(re),fe(re,n)}function ai(){be(re),be(Mn),be(Bt)}function qe(t){t.memoizedState!==null&&fe(Pn,t);var n=re.current,r=j0(n,t.type);n!==r&&(fe(Mn,t),fe(re,r))}function me(t){Mn.current===t&&(be(re),be(Mn)),Pn.current===t&&(be(Pn),is._currentValue=Rt)}var Kt=Object.prototype.hasOwnProperty,ha=m.unstable_scheduleCallback,mt=m.unstable_cancelCallback,Mr=m.unstable_shouldYield,fs=m.unstable_requestPaint,en=m.unstable_now,dl=m.unstable_getCurrentPriorityLevel,jn=m.unstable_ImmediatePriority,gl=m.unstable_UserBlockingPriority,Zn=m.unstable_NormalPriority,Cn=m.unstable_LowPriority,xl=m.unstable_IdlePriority,Or=m.log,Co=m.unstable_setDisableYieldValue,De=null,ot=null;function We(t){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(De,t,void 0,(t.current.flags&128)===128)}catch{}}function ee(t){if(typeof Or=="function"&&Co(t),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(De,t)}catch{}}var ne=Math.clz32?Math.clz32:hs,$a=Math.log,Al=Math.LN2;function hs(t){return t>>>=0,t===0?32:31-($a(t)/Al|0)|0}var ie=128,ri=4194304;function bi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tr(t,n){var r=t.pendingLanes;if(r===0)return 0;var o=0,f=t.suspendedLanes,d=t.pingedLanes,C=t.warmLanes;t=t.finishedLanes!==0;var N=r&134217727;return N!==0?(r=N&~f,r!==0?o=bi(r):(d&=N,d!==0?o=bi(d):t||(C=N&~C,C!==0&&(o=bi(C))))):(N=r&~f,N!==0?o=bi(N):d!==0?o=bi(d):t||(C=r&~C,C!==0&&(o=bi(C)))),o===0?0:n!==0&&n!==o&&(n&f)===0&&(f=o&-o,C=n&-n,f>=C||f===32&&(C&4194176)!==0)?n:o}function wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ml(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var t=ie;return ie<<=1,(ie&4194176)===0&&(ie=128),t}function ji(){var t=ri;return ri<<=1,(ri&62914560)===0&&(ri=4194304),t}function da(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function On(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wo(t,n,r,o,f,d){var C=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var N=t.entanglements,I=t.expirationTimes,U=t.hiddenUpdates;for(r=C&~r;0<r;){var K=31-ne(r),it=1<<K;N[K]=0,I[K]=-1;var X=U[K];if(X!==null)for(U[K]=null,K=0;K<X.length;K++){var W=X[K];W!==null&&(W.lane&=-536870913)}r&=~it}o!==0&&vi(t,o,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(C&~n))}function vi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-ne(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194218}function Ir(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-ne(r),f=1<<o;f&n|t[o]&n&&(t[o]|=n),r&=~f}}function Sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ni(){var t=ct.p;return t!==0?t:(t=window.event,t===void 0?32:sf(t.type))}function Yn(t,n){var r=ct.p;try{return ct.p=t,n()}finally{ct.p=r}}var ft=Math.random().toString(36).slice(2),He="__reactFiber$"+ft,dn="__reactProps$"+ft,Ke="__reactContainer$"+ft,Mi="__reactEvents$"+ft,_r="__reactListeners$"+ft,Dr="__reactHandles$"+ft,Qn="__reactResources$"+ft,er="__reactMarker$"+ft;function El(t){delete t[He],delete t[dn],delete t[Mi],delete t[_r],delete t[Dr]}function gn(t){var n=t[He];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ke]||r[He]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=V0(t);t!==null;){if(r=t[He])return r;t=V0(t)}return n}t=r,r=t.parentNode}return null}function Ge(t){if(t=t[He]||t[Ke]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ee(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(E(33))}function Yi(t){var n=t[Qn];return n||(n=t[Qn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Me(t){t[er]=!0}var Rr=new Set,tt={};function Gi(t,n){we(t,n),we(t+"Capture",n)}function we(t,n){for(tt[t]=n,t=0;t<n.length;t++)Rr.add(n[t])}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ce={},se={};function Jt(t){return Kt.call(se,t)?!0:Kt.call(ce,t)?!1:So.test(t)?se[t]=!0:(ce[t]=!0,!1)}function ga(t,n,r){if(Jt(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function xa(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function qn(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function he(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ei(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function po(t){var n=Ei(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,d=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(C){o=""+C,d.call(this,C)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Re(t){t._valueTracker||(t._valueTracker=po(t))}function yi(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Ei(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Aa=/[\n"\\]/g;function Xt(t){return t.replace(Aa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nn(t,n,r,o,f,d,C,N){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),n!=null?C==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+he(n)):t.value!==""+he(n)&&(t.value=""+he(n)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),n!=null?M(t,C,he(n)):r!=null?M(t,C,he(r)):o!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+he(N):t.removeAttribute("name")}function Y(t,n,r,o,f,d,C,N){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+he(r):"",n=n!=null?""+he(n):r,N||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=N?t.checked:!!o,t.defaultChecked=!!o,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function M(t,n,r){n==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ct(t,n,r,o){if(t=t.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=n.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+he(r),n=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Je(t,n,r){if(n!=null&&(n=""+he(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+he(r):""}function Ln(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(E(92));if(wt(o)){if(1<o.length)throw Error(E(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=he(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function ma(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Un(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||yl.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function bt(t,n,r){if(n!=null&&typeof n!="object")throw Error(E(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&Un(t,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Un(t,d,n[d])}function Oe(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),To=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return To.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ya=null;function nr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ca=null,Ue=null;function wa(t){var n=Ge(t);if(n&&(t=n.stateNode)){var r=t[dn]||null;t:switch(t=n.stateNode,n.type){case"input":if(nn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Xt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var f=o[dn]||null;if(!f)throw Error(E(90));nn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&yi(o)}break t;case"textarea":Je(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ct(t,!!r.multiple,n,!1)}}}var li=!1;function It(t,n,r){if(li)return t(n,r);li=!0;try{var o=t(n);return o}finally{if(li=!1,(Ca!==null||Ue!==null)&&(Ws(),Ca&&(n=Ca,t=Ue,Ue=Ca=null,wa(n),t)))for(n=0;n<t.length;n++)wa(t[n])}}function ir(t,n){var r=t.stateNode;if(r===null)return null;var o=r[dn]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,n,typeof r));return r}var zt=!1;if(In)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch{zt=!1}var Oi=null,ar=null,rr=null;function Ii(){if(rr)return rr;var t,n=ar,r=n.length,o,f="value"in Oi?Oi.value:Oi.textContent,d=f.length;for(t=0;t<r&&n[t]===f[t];t++);var C=r-t;for(o=1;o<=C&&n[r-o]===f[d-o];o++);return rr=f.slice(t,1<o?1-o:void 0)}function Lr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function _i(){return!0}function Sa(){return!1}function an(t){function n(r,o,f,d,C){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=C,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(r=t[N],this[N]=r?r(d):d[N]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_i:Sa,this.isPropagationStopped=Sa,this}return Vt(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=an(Di),Ci=Vt({},Di,{view:0,detail:0}),_n=an(Ci),Ur,zr,pa,Fr=Vt({},Ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pa&&(pa&&t.type==="mousemove"?(Ur=t.screenX-pa.screenX,zr=t.screenY-pa.screenY):zr=Ur=0,pa=t),Ur)},movementY:function(t){return"movementY"in t?t.movementY:zr}}),gs=an(Fr),bo=Vt({},Fr,{dataTransfer:0}),ye=an(bo),xs=Vt({},Ci,{relatedTarget:0}),Ta=an(xs),Bi=Vt({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),vo=an(Bi),Z=Vt({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jt=an(Z),un=Vt({},Di,{data:0}),lr=an(un),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function sr(){return Oo}var $e=Vt({},Ci,{key:function(t){if(t.key){var n=As[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?No[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cl=an($e),Fe=Vt({},Fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=an(Fe),Vi=Vt({},Ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),Se=an(Vi),Ot=Vt({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),Io=an(Ot),Ie=Vt({},Fr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xi=an(Ie),ba=Vt({},Di,{newState:0,oldState:0}),_o=an(ba),si=[9,13,27,32],ur=In&&"CompositionEvent"in window,va=null;In&&"documentMode"in document&&(va=document.documentMode);var wl=In&&"TextEvent"in window&&!va,Sl=In&&(!ur||va&&8<va&&11>=va),pl=" ",ms=!1;function Zi(t,n){switch(t){case"keyup":return si.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function cr(t,n){switch(t){case"compositionend":return kr(n);case"keypress":return n.which!==32?null:(ms=!0,pl);case"textInput":return t=n.data,t===pl&&ms?null:t;default:return null}}function Do(t,n){if(Na)return t==="compositionend"||!ur&&Zi(t,n)?(t=Ii(),rr=ar=Oi=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Sl&&n.locale!=="ko"?null:n.data;default:return null}}var Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fr(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Li[t.type]:n==="textarea"}function zn(t,n,r,o){Ca?Ue?Ue.push(o):Ue=[o]:Ca=o,n=eo(n,"onChange"),0<n.length&&(r=new Ri("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var Ma=null,Dn=null;function Ro(t){U0(t,0)}function Oa(t){var n=Ee(t);if(yi(n))return t}function Es(t,n){if(t==="change")return n}var Tl=!1;if(In){var Gn;if(In){var bl="oninput"in document;if(!bl){var Hr=document.createElement("div");Hr.setAttribute("oninput","return;"),bl=typeof Hr.oninput=="function"}Gn=bl}else Gn=!1;Tl=Gn&&(!document.documentMode||9<document.documentMode)}function Ia(){Ma&&(Ma.detachEvent("onpropertychange",ae),Dn=Ma=null)}function ae(t){if(t.propertyName==="value"&&Oa(Dn)){var n=[];zn(n,Dn,t,nr(t)),It(Ro,n)}}function Pr(t,n,r){t==="focusin"?(Ia(),Ma=n,Dn=r,Ma.attachEvent("onpropertychange",ae)):t==="focusout"&&Ia()}function p(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oa(Dn)}function e(t,n){if(t==="click")return Oa(n)}function i(t,n){if(t==="input"||t==="change")return Oa(n)}function a(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var l=typeof Object.is=="function"?Object.is:a;function s(t,n){if(l(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!Kt.call(n,f)||!l(t[f],n[f]))return!1}return!0}function u(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c(t,n){var r=u(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=u(r)}}function h(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?h(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Br(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Br(t.document)}return n}function y(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function T(t,n){var r=g(n);n=t.focusedElem;var o=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&h(n.ownerDocument.documentElement,n)){if(o!==null&&y(n)){if(t=o.start,r=o.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var f=n.textContent.length,d=Math.min(o.start,f);o=o.end===void 0?d:Math.min(o.end,f),!r.extend&&d>o&&(f=o,o=d,d=f),f=c(n,d);var C=c(n,o);f&&C&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==C.node||r.focusOffset!==C.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),r.removeAllRanges(),d>o?(r.addRange(t),r.extend(C.node,C.offset)):(t.setEnd(C.node,C.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var v=In&&"documentMode"in document&&11>=document.documentMode,O=null,_=null,R=null,P=!1;function Q(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;P||O==null||O!==Br(o)||(o=O,"selectionStart"in o&&y(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),R&&s(R,o)||(R=o,o=eo(_,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=O)))}function rt(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var st={animationend:rt("Animation","AnimationEnd"),animationiteration:rt("Animation","AnimationIteration"),animationstart:rt("Animation","AnimationStart"),transitionrun:rt("Transition","TransitionRun"),transitionstart:rt("Transition","TransitionStart"),transitioncancel:rt("Transition","TransitionCancel"),transitionend:rt("Transition","TransitionEnd")},nt={},Zt={};In&&(Zt=document.createElement("div").style,"AnimationEvent"in window||(delete st.animationend.animation,delete st.animationiteration.animation,delete st.animationstart.animation),"TransitionEvent"in window||delete st.transitionend.transition);function _t(t){if(nt[t])return nt[t];if(!st[t])return t;var n=st[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Zt)return nt[t]=n[r];return t}var pn=_t("animationend"),Vn=_t("animationiteration"),Tn=_t("animationstart"),pe=_t("transitionrun"),cn=_t("transitionstart"),Fn=_t("transitioncancel"),Qi=_t("transitionend"),qi=new Map,ys="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(t,n){qi.set(t,n),Gi(n,[t])}var oi=[],jr=0,Bo=0;function Cs(){for(var t=jr,n=Bo=jr=0;n<t;){var r=oi[n];oi[n++]=null;var o=oi[n];oi[n++]=null;var f=oi[n];oi[n++]=null;var d=oi[n];if(oi[n++]=null,o!==null&&f!==null){var C=o.pending;C===null?f.next=f:(f.next=C.next,C.next=f),o.pending=f}d!==0&&Mc(r,f,d)}}function ws(t,n,r,o){oi[jr++]=t,oi[jr++]=n,oi[jr++]=r,oi[jr++]=o,Bo|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Lo(t,n,r,o){return ws(t,n,r,o),Ss(t)}function _a(t,n){return ws(t,null,null,n),Ss(t)}function Mc(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,d=t.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;f&&n!==null&&t.tag===3&&(d=t.stateNode,f=31-ne(r),d=d.hiddenUpdates,t=d[f],t===null?d[f]=[n]:t.push(n),n.lane=r|536870912)}function Ss(t){if(50<Wl)throw Wl=0,Pu=null,Error(E(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Yr={},Oc=new WeakMap;function ui(t,n){if(typeof t=="object"&&t!==null){var r=Oc.get(t);return r!==void 0?r:(n={value:t,source:n,stack:et(n)},Oc.set(t,n),n)}return{value:t,source:n,stack:et(n)}}var Gr=[],Vr=0,ps=null,Ts=0,ci=[],fi=0,hr=null,Wi=1,Ki="";function dr(t,n){Gr[Vr++]=Ts,Gr[Vr++]=ps,ps=t,Ts=n}function Ic(t,n,r){ci[fi++]=Wi,ci[fi++]=Ki,ci[fi++]=hr,hr=t;var o=Wi;t=Ki;var f=32-ne(o)-1;o&=~(1<<f),r+=1;var d=32-ne(n)+f;if(30<d){var C=f-f%5;d=(o&(1<<C)-1).toString(32),o>>=C,f-=C,Wi=1<<32-ne(n)+f|r<<f|o,Ki=d+t}else Wi=1<<d|r<<f|o,Ki=t}function Uo(t){t.return!==null&&(dr(t,1),Ic(t,1,0))}function zo(t){for(;t===ps;)ps=Gr[--Vr],Gr[Vr]=null,Ts=Gr[--Vr],Gr[Vr]=null;for(;t===hr;)hr=ci[--fi],ci[fi]=null,Ki=ci[--fi],ci[fi]=null,Wi=ci[--fi],ci[fi]=null}var kn=null,bn=null,de=!1,wi=null,Ui=!1,Fo=Error(E(519));function gr(t){var n=Error(E(418,""));throw Ml(ui(n,t)),Fo}function _c(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[He]=t,n[dn]=o,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(r=0;r<Jl.length;r++)le(Jl[r],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":le("invalid",n),Y(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Re(n);break;case"select":le("invalid",n);break;case"textarea":le("invalid",n),Ln(n,o.value,o.defaultValue,o.children),Re(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||H0(n.textContent,r)?(o.popover!=null&&(le("beforetoggle",n),le("toggle",n)),o.onScroll!=null&&le("scroll",n),o.onScrollEnd!=null&&le("scrollend",n),o.onClick!=null&&(n.onclick=no),n=!0):n=!1,n||gr(t)}function Dc(t){for(kn=t.return;kn;)switch(kn.tag){case 3:case 27:Ui=!0;return;case 5:case 13:Ui=!1;return;default:kn=kn.return}}function vl(t){if(t!==kn)return!1;if(!de)return Dc(t),de=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ac(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&bn&&gr(t),Dc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){bn=pi(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}bn=null}}else bn=kn?pi(t.stateNode.nextSibling):null;return!0}function Nl(){bn=kn=null,de=!1}function Ml(t){wi===null?wi=[t]:wi.push(t)}var Ol=Error(E(460)),Rc=Error(E(474)),ko={then:function(){}};function Bc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bs(){}function Lc(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(bs,bs),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ol?Error(E(483)):t;default:if(typeof n.status=="string")n.then(bs,bs);else{if(t=Be,t!==null&&100<t.shellSuspendCounter)throw Error(E(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ol?Error(E(483)):t}throw Il=n,Ol}}var Il=null;function Uc(){if(Il===null)throw Error(E(459));var t=Il;return Il=null,t}var Xr=null,_l=0;function vs(t){var n=_l;return _l+=1,Xr===null&&(Xr=[]),Lc(Xr,t,n)}function Dl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ns(t,n){throw n.$$typeof===w?Error(E(525)):(t=Object.prototype.toString.call(n),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function zc(t){var n=t._init;return n(t._payload)}function Fc(t){function n(H,L){if(t){var G=H.deletions;G===null?(H.deletions=[L],H.flags|=16):G.push(L)}}function r(H,L){if(!t)return null;for(;L!==null;)n(H,L),L=L.sibling;return null}function o(H){for(var L=new Map;H!==null;)H.key!==null?L.set(H.key,H):L.set(H.index,H),H=H.sibling;return L}function f(H,L){return H=Ya(H,L),H.index=0,H.sibling=null,H}function d(H,L,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<L?(H.flags|=33554434,L):G):(H.flags|=33554434,L)):(H.flags|=1048576,L)}function C(H){return t&&H.alternate===null&&(H.flags|=33554434),H}function N(H,L,G,$){return L===null||L.tag!==6?(L=Ru(G,H.mode,$),L.return=H,L):(L=f(L,G),L.return=H,L)}function I(H,L,G,$){var yt=G.type;return yt===F?K(H,L,G.props.children,$,G.key):L!==null&&(L.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Nt&&zc(yt)===L.type)?(L=f(L,G.props),Dl(L,G),L.return=H,L):(L=Vs(G.type,G.key,G.props,null,H.mode,$),Dl(L,G),L.return=H,L)}function U(H,L,G,$){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=Bu(G,H.mode,$),L.return=H,L):(L=f(L,G.children||[]),L.return=H,L)}function K(H,L,G,$,yt){return L===null||L.tag!==7?(L=Tr(G,H.mode,$,yt),L.return=H,L):(L=f(L,G),L.return=H,L)}function it(H,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Ru(""+L,H.mode,G),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case D:return G=Vs(L.type,L.key,L.props,null,H.mode,G),Dl(G,L),G.return=H,G;case V:return L=Bu(L,H.mode,G),L.return=H,L;case Nt:var $=L._init;return L=$(L._payload),it(H,L,G)}if(wt(L)||Lt(L))return L=Tr(L,H.mode,G,null),L.return=H,L;if(typeof L.then=="function")return it(H,vs(L),G);if(L.$$typeof===xt)return it(H,js(H,L),G);Ns(H,L)}return null}function X(H,L,G,$){var yt=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return yt!==null?null:N(H,L,""+G,$);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return G.key===yt?I(H,L,G,$):null;case V:return G.key===yt?U(H,L,G,$):null;case Nt:return yt=G._init,G=yt(G._payload),X(H,L,G,$)}if(wt(G)||Lt(G))return yt!==null?null:K(H,L,G,$,null);if(typeof G.then=="function")return X(H,L,vs(G),$);if(G.$$typeof===xt)return X(H,L,js(H,G),$);Ns(H,G)}return null}function W(H,L,G,$,yt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return H=H.get(G)||null,N(L,H,""+$,yt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return H=H.get($.key===null?G:$.key)||null,I(L,H,$,yt);case V:return H=H.get($.key===null?G:$.key)||null,U(L,H,$,yt);case Nt:var qt=$._init;return $=qt($._payload),W(H,L,G,$,yt)}if(wt($)||Lt($))return H=H.get(G)||null,K(L,H,$,yt,null);if(typeof $.then=="function")return W(H,L,G,vs($),yt);if($.$$typeof===xt)return W(H,L,G,js(L,$),yt);Ns(L,$)}return null}function pt(H,L,G,$){for(var yt=null,qt=null,vt=L,Dt=L=0,mn=null;vt!==null&&Dt<G.length;Dt++){vt.index>Dt?(mn=vt,vt=null):mn=vt.sibling;var ge=X(H,vt,G[Dt],$);if(ge===null){vt===null&&(vt=mn);break}t&&vt&&ge.alternate===null&&n(H,vt),L=d(ge,L,Dt),qt===null?yt=ge:qt.sibling=ge,qt=ge,vt=mn}if(Dt===G.length)return r(H,vt),de&&dr(H,Dt),yt;if(vt===null){for(;Dt<G.length;Dt++)vt=it(H,G[Dt],$),vt!==null&&(L=d(vt,L,Dt),qt===null?yt=vt:qt.sibling=vt,qt=vt);return de&&dr(H,Dt),yt}for(vt=o(vt);Dt<G.length;Dt++)mn=W(vt,H,Dt,G[Dt],$),mn!==null&&(t&&mn.alternate!==null&&vt.delete(mn.key===null?Dt:mn.key),L=d(mn,L,Dt),qt===null?yt=mn:qt.sibling=mn,qt=mn);return t&&vt.forEach(function(Wa){return n(H,Wa)}),de&&dr(H,Dt),yt}function Ft(H,L,G,$){if(G==null)throw Error(E(151));for(var yt=null,qt=null,vt=L,Dt=L=0,mn=null,ge=G.next();vt!==null&&!ge.done;Dt++,ge=G.next()){vt.index>Dt?(mn=vt,vt=null):mn=vt.sibling;var Wa=X(H,vt,ge.value,$);if(Wa===null){vt===null&&(vt=mn);break}t&&vt&&Wa.alternate===null&&n(H,vt),L=d(Wa,L,Dt),qt===null?yt=Wa:qt.sibling=Wa,qt=Wa,vt=mn}if(ge.done)return r(H,vt),de&&dr(H,Dt),yt;if(vt===null){for(;!ge.done;Dt++,ge=G.next())ge=it(H,ge.value,$),ge!==null&&(L=d(ge,L,Dt),qt===null?yt=ge:qt.sibling=ge,qt=ge);return de&&dr(H,Dt),yt}for(vt=o(vt);!ge.done;Dt++,ge=G.next())ge=W(vt,H,Dt,ge.value,$),ge!==null&&(t&&ge.alternate!==null&&vt.delete(ge.key===null?Dt:ge.key),L=d(ge,L,Dt),qt===null?yt=ge:qt.sibling=ge,qt=ge);return t&&vt.forEach(function(rd){return n(H,rd)}),de&&dr(H,Dt),yt}function Ze(H,L,G,$){if(typeof G=="object"&&G!==null&&G.type===F&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case D:t:{for(var yt=G.key;L!==null;){if(L.key===yt){if(yt=G.type,yt===F){if(L.tag===7){r(H,L.sibling),$=f(L,G.props.children),$.return=H,H=$;break t}}else if(L.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Nt&&zc(yt)===L.type){r(H,L.sibling),$=f(L,G.props),Dl($,G),$.return=H,H=$;break t}r(H,L);break}else n(H,L);L=L.sibling}G.type===F?($=Tr(G.props.children,H.mode,$,G.key),$.return=H,H=$):($=Vs(G.type,G.key,G.props,null,H.mode,$),Dl($,G),$.return=H,H=$)}return C(H);case V:t:{for(yt=G.key;L!==null;){if(L.key===yt)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){r(H,L.sibling),$=f(L,G.children||[]),$.return=H,H=$;break t}else{r(H,L);break}else n(H,L);L=L.sibling}$=Bu(G,H.mode,$),$.return=H,H=$}return C(H);case Nt:return yt=G._init,G=yt(G._payload),Ze(H,L,G,$)}if(wt(G))return pt(H,L,G,$);if(Lt(G)){if(yt=Lt(G),typeof yt!="function")throw Error(E(150));return G=yt.call(G),Ft(H,L,G,$)}if(typeof G.then=="function")return Ze(H,L,vs(G),$);if(G.$$typeof===xt)return Ze(H,L,js(H,G),$);Ns(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(r(H,L.sibling),$=f(L,G),$.return=H,H=$):(r(H,L),$=Ru(G,H.mode,$),$.return=H,H=$),C(H)):r(H,L)}return function(H,L,G,$){try{_l=0;var yt=Ze(H,L,G,$);return Xr=null,yt}catch(vt){if(vt===Ol)throw vt;var qt=xi(29,vt,null,H.mode);return qt.lanes=$,qt.return=H,qt}finally{}}}var xr=Fc(!0),kc=Fc(!1),Zr=Mt(null),Ms=Mt(0);function Hc(t,n){t=oa,fe(Ms,t),fe(Zr,n),oa=t|n.baseLanes}function Ho(){fe(Ms,oa),fe(Zr,Zr.current)}function Po(){oa=Ms.current,be(Zr),be(Ms)}var hi=Mt(null),zi=null;function Da(t){var n=t.alternate;fe(fn,fn.current&1),fe(hi,t),zi===null&&(n===null||Zr.current!==null||n.memoizedState!==null)&&(zi=t)}function Pc(t){if(t.tag===22){if(fe(fn,fn.current),fe(hi,t),zi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(zi=t)}}else Ra()}function Ra(){fe(fn,fn.current),fe(hi,hi.current)}function Ji(t){be(hi),zi===t&&(zi=null),be(fn)}var fn=Mt(0);function Os(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xf=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Zf=m.unstable_scheduleCallback,Qf=m.unstable_NormalPriority,hn={$$typeof:xt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jo(){return{controller:new Xf,data:new Map,refCount:0}}function Rl(t){t.refCount--,t.refCount===0&&Zf(Qf,function(){t.controller.abort()})}var Bl=null,Yo=0,Qr=0,qr=null;function qf(t,n){if(Bl===null){var r=Bl=[];Yo=0,Qr=qu(),qr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Yo++,n.then(jc,jc),n}function jc(){if(--Yo===0&&Bl!==null){qr!==null&&(qr.status="fulfilled");var t=Bl;Bl=null,Qr=0,qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Wf(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var Yc=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&qf(t,n),Yc!==null&&Yc(t,n)};var Ar=Mt(null);function Go(){var t=Ar.current;return t!==null?t:Be.pooledCache}function Is(t,n){n===null?fe(Ar,Ar.current):fe(Ar,n.pool)}function Gc(){var t=Go();return t===null?null:{parent:hn._currentValue,pool:t}}var Ba=0,Qt=null,ve=null,rn=null,_s=!1,Wr=!1,mr=!1,Ds=0,Ll=0,Kr=null,Kf=0;function tn(){throw Error(E(321))}function Vo(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!l(t[r],n[r]))return!1;return!0}function Xo(t,n,r,o,f,d){return Ba=d,Qt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Er:La,mr=!1,d=r(o,f),mr=!1,Wr&&(d=Xc(n,r,o,f)),Vc(t),d}function Vc(t){q.H=Fi;var n=ve!==null&&ve.next!==null;if(Ba=0,rn=ve=Qt=null,_s=!1,Ll=0,Kr=null,n)throw Error(E(300));t===null||xn||(t=t.dependencies,t!==null&&Ps(t)&&(xn=!0))}function Xc(t,n,r,o){Qt=t;var f=0;do{if(Wr&&(Kr=null),Ll=0,Wr=!1,25<=f)throw Error(E(301));if(f+=1,rn=ve=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=yr,d=n(r,o)}while(Wr);return d}function Jf(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Ul(n):n,t=t.useState()[0],(ve!==null?ve.memoizedState:null)!==t&&(Qt.flags|=1024),n}function Zo(){var t=Ds!==0;return Ds=0,t}function Qo(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function qo(t){if(_s){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_s=!1}Ba=0,rn=ve=Qt=null,Wr=!1,Ll=Ds=0,Kr=null}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Qt.memoizedState=rn=t:rn=rn.next=t,rn}function ln(){if(ve===null){var t=Qt.alternate;t=t!==null?t.memoizedState:null}else t=ve.next;var n=rn===null?Qt.memoizedState:rn.next;if(n!==null)rn=n,ve=t;else{if(t===null)throw Qt.alternate===null?Error(E(467)):Error(E(310));ve=t,t={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},rn===null?Qt.memoizedState=rn=t:rn=rn.next=t}return rn}var Rs;Rs=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ul(t){var n=Ll;return Ll+=1,Kr===null&&(Kr=[]),t=Lc(Kr,t,n),n=Qt,(rn===null?n.memoizedState:rn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Er:La),t}function Bs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===xt)return Rn(t)}throw Error(E(438,String(t)))}function Wo(t){var n=null,r=Qt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Qt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Rs(),Qt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=kt;return n.index++,r}function $i(t,n){return typeof n=="function"?n(t):n}function Ls(t){var n=ln();return Ko(n,ve,t)}function Ko(t,n,r){var o=t.queue;if(o===null)throw Error(E(311));o.lastRenderedReducer=r;var f=t.baseQueue,d=o.pending;if(d!==null){if(f!==null){var C=f.next;f.next=d.next,d.next=C}n.baseQueue=f=d,o.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{n=f.next;var N=C=null,I=null,U=n,K=!1;do{var it=U.lane&-536870913;if(it!==U.lane?(oe&it)===it:(Ba&it)===it){var X=U.revertLane;if(X===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),it===Qr&&(K=!0);else if((Ba&X)===X){U=U.next,X===Qr&&(K=!0);continue}else it={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(N=I=it,C=d):I=I.next=it,Qt.lanes|=X,Ga|=X;it=U.action,mr&&r(d,it),d=U.hasEagerState?U.eagerState:r(d,it)}else X={lane:it,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(N=I=X,C=d):I=I.next=X,Qt.lanes|=it,Ga|=it;U=U.next}while(U!==null&&U!==n);if(I===null?C=d:I.next=N,!l(d,t.memoizedState)&&(xn=!0,K&&(r=qr,r!==null)))throw r;t.memoizedState=d,t.baseState=C,t.baseQueue=I,o.lastRenderedState=d}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Jo(t){var n=ln(),r=n.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var C=f=f.next;do d=t(d,C.action),C=C.next;while(C!==f);l(d,n.memoizedState)||(xn=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function Zc(t,n,r){var o=Qt,f=ln(),d=de;if(d){if(r===void 0)throw Error(E(407));r=r()}else r=n();var C=!l((ve||f).memoizedState,r);if(C&&(f.memoizedState=r,xn=!0),f=f.queue,eu(Wc.bind(null,o,f,t),[t]),f.getSnapshot!==n||C||rn!==null&&rn.memoizedState.tag&1){if(o.flags|=2048,Jr(9,qc.bind(null,o,f,r,n),{destroy:void 0},null),Be===null)throw Error(E(349));d||(Ba&60)!==0||Qc(o,n,r)}return r}function Qc(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Qt.updateQueue,n===null?(n=Rs(),Qt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function qc(t,n,r,o){n.value=r,n.getSnapshot=o,Kc(n)&&Jc(t)}function Wc(t,n,r){return r(function(){Kc(n)&&Jc(t)})}function Kc(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!l(t,r)}catch{return!0}}function Jc(t){var n=_a(t,2);n!==null&&Hn(n,t,2)}function $o(t){var n=Xn();if(typeof t=="function"){var r=t;if(t=r(),mr){ee(!0);try{r()}finally{ee(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},n}function $c(t,n,r,o){return t.baseState=r,Ko(t,ve,typeof o=="function"?o:$i)}function $f(t,n,r,o,f){if(Fs(t))throw Error(E(485));if(t=n.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){d.listeners.push(C)}};q.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,t1(n,d)):(d.next=r.next,n.pending=r.next=d)}}function t1(t,n){var r=n.action,o=n.payload,f=t.state;if(n.isTransition){var d=q.T,C={};q.T=C;try{var N=r(f,o),I=q.S;I!==null&&I(C,N),e1(t,n,N)}catch(U){tu(t,n,U)}finally{q.T=d}}else try{d=r(f,o),e1(t,n,d)}catch(U){tu(t,n,U)}}function e1(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){n1(t,n,o)},function(o){return tu(t,n,o)}):n1(t,n,r)}function n1(t,n,r){n.status="fulfilled",n.value=r,i1(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,t1(t,r)))}function tu(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,i1(n),n=n.next;while(n!==o)}t.action=null}function i1(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function a1(t,n){return n}function r1(t,n){if(de){var r=Be.formState;if(r!==null){t:{var o=Qt;if(de){if(bn){e:{for(var f=bn,d=Ui;f.nodeType!==8;){if(!d){f=null;break e}if(f=pi(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){bn=pi(f.nextSibling),o=f.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=Xn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a1,lastRenderedState:n},r.queue=o,r=p1.bind(null,Qt,o),o.dispatch=r,o=$o(!1),d=lu.bind(null,Qt,!1,o.queue),o=Xn(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,r=$f.bind(null,Qt,f,d,r),f.dispatch=r,o.memoizedState=t,[n,r,!1]}function l1(t){var n=ln();return s1(n,ve,t)}function s1(t,n,r){n=Ko(t,n,a1)[0],t=Ls($i)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Ul(n):n;var o=ln(),f=o.queue,d=f.dispatch;return r!==o.memoizedState&&(Qt.flags|=2048,Jr(9,th.bind(null,f,r),{destroy:void 0},null)),[n,d,t]}function th(t,n){t.action=n}function o1(t){var n=ln(),r=ve;if(r!==null)return s1(n,r,t);ln(),n=n.memoizedState,r=ln();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Jr(t,n,r,o){return t={tag:t,create:n,inst:r,deps:o,next:null},n=Qt.updateQueue,n===null&&(n=Rs(),Qt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function u1(){return ln().memoizedState}function Us(t,n,r,o){var f=Xn();Qt.flags|=t,f.memoizedState=Jr(1|n,r,{destroy:void 0},o===void 0?null:o)}function zs(t,n,r,o){var f=ln();o=o===void 0?null:o;var d=f.memoizedState.inst;ve!==null&&o!==null&&Vo(o,ve.memoizedState.deps)?f.memoizedState=Jr(n,r,d,o):(Qt.flags|=t,f.memoizedState=Jr(1|n,r,d,o))}function c1(t,n){Us(8390656,8,t,n)}function eu(t,n){zs(2048,8,t,n)}function f1(t,n){return zs(4,2,t,n)}function h1(t,n){return zs(4,4,t,n)}function d1(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function g1(t,n,r){r=r!=null?r.concat([t]):null,zs(4,4,d1.bind(null,n,t),r)}function nu(){}function x1(t,n){var r=ln();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Vo(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function A1(t,n){var r=ln();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Vo(n,o[1]))return o[0];if(o=t(),mr){ee(!0);try{t()}finally{ee(!1)}}return r.memoizedState=[o,n],o}function iu(t,n,r){return r===void 0||(Ba&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=E0(),Qt.lanes|=t,Ga|=t,r)}function m1(t,n,r,o){return l(r,n)?r:Zr.current!==null?(t=iu(t,r,o),l(t,n)||(xn=!0),t):(Ba&42)===0?(xn=!0,t.memoizedState=r):(t=E0(),Qt.lanes|=t,Ga|=t,n)}function E1(t,n,r,o,f){var d=ct.p;ct.p=d!==0&&8>d?d:8;var C=q.T,N={};q.T=N,lu(t,!1,n,r);try{var I=f(),U=q.S;if(U!==null&&U(N,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=Wf(I,o);zl(t,n,K,ti(t))}else zl(t,n,o,ti(t))}catch(it){zl(t,n,{then:function(){},status:"rejected",reason:it},ti())}finally{ct.p=d,q.T=C}}function eh(){}function au(t,n,r,o){if(t.tag!==5)throw Error(E(476));var f=y1(t).queue;E1(t,f,n,Rt,r===null?eh:function(){return C1(t),r(o)})}function y1(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function C1(t){var n=y1(t).next.queue;zl(t,n,{},ti())}function ru(){return Rn(is)}function w1(){return ln().memoizedState}function S1(){return ln().memoizedState}function nh(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=ti();t=Fa(r);var o=ka(n,t,r);o!==null&&(Hn(o,n,r),Hl(o,n,r)),n={cache:jo()},t.payload=n;return}n=n.return}}function ih(t,n,r){var o=ti();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Fs(t)?T1(n,r):(r=Lo(t,n,r,o),r!==null&&(Hn(r,t,o),b1(r,n,o)))}function p1(t,n,r){var o=ti();zl(t,n,r,o)}function zl(t,n,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fs(t))T1(n,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var C=n.lastRenderedState,N=d(C,r);if(f.hasEagerState=!0,f.eagerState=N,l(N,C))return ws(t,n,f,0),Be===null&&Cs(),!1}catch{}finally{}if(r=Lo(t,n,f,o),r!==null)return Hn(r,t,o),b1(r,n,o),!0}return!1}function lu(t,n,r,o){if(o={lane:2,revertLane:qu(),action:o,hasEagerState:!1,eagerState:null,next:null},Fs(t)){if(n)throw Error(E(479))}else n=Lo(t,r,o,2),n!==null&&Hn(n,t,2)}function Fs(t){var n=t.alternate;return t===Qt||n!==null&&n===Qt}function T1(t,n){Wr=_s=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function b1(t,n,r){if((r&4194176)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ir(t,r)}}var Fi={readContext:Rn,use:Bs,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn};Fi.useCacheRefresh=tn,Fi.useMemoCache=tn,Fi.useHostTransitionStatus=tn,Fi.useFormState=tn,Fi.useActionState=tn,Fi.useOptimistic=tn;var Er={readContext:Rn,use:Bs,useCallback:function(t,n){return Xn().memoizedState=[t,n===void 0?null:n],t},useContext:Rn,useEffect:c1,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Us(4194308,4,d1.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Us(4194308,4,t,n)},useInsertionEffect:function(t,n){Us(4,2,t,n)},useMemo:function(t,n){var r=Xn();n=n===void 0?null:n;var o=t();if(mr){ee(!0);try{t()}finally{ee(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Xn();if(r!==void 0){var f=r(n);if(mr){ee(!0);try{r(n)}finally{ee(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=ih.bind(null,Qt,t),[o.memoizedState,t]},useRef:function(t){var n=Xn();return t={current:t},n.memoizedState=t},useState:function(t){t=$o(t);var n=t.queue,r=p1.bind(null,Qt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:nu,useDeferredValue:function(t,n){var r=Xn();return iu(r,t,n)},useTransition:function(){var t=$o(!1);return t=E1.bind(null,Qt,t.queue,!0,!1),Xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Qt,f=Xn();if(de){if(r===void 0)throw Error(E(407));r=r()}else{if(r=n(),Be===null)throw Error(E(349));(oe&60)!==0||Qc(o,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,c1(Wc.bind(null,o,d,t),[t]),o.flags|=2048,Jr(9,qc.bind(null,o,d,r,n),{destroy:void 0},null),r},useId:function(){var t=Xn(),n=Be.identifierPrefix;if(de){var r=Ki,o=Wi;r=(o&~(1<<32-ne(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=Ds++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Kf++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return Xn().memoizedState=nh.bind(null,Qt)}};Er.useMemoCache=Wo,Er.useHostTransitionStatus=ru,Er.useFormState=r1,Er.useActionState=r1,Er.useOptimistic=function(t){var n=Xn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=lu.bind(null,Qt,!0,r),r.dispatch=n,[t,n]};var La={readContext:Rn,use:Bs,useCallback:x1,useContext:Rn,useEffect:eu,useImperativeHandle:g1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:A1,useReducer:Ls,useRef:u1,useState:function(){return Ls($i)},useDebugValue:nu,useDeferredValue:function(t,n){var r=ln();return m1(r,ve.memoizedState,t,n)},useTransition:function(){var t=Ls($i)[0],n=ln().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:Zc,useId:w1};La.useCacheRefresh=S1,La.useMemoCache=Wo,La.useHostTransitionStatus=ru,La.useFormState=l1,La.useActionState=l1,La.useOptimistic=function(t,n){var r=ln();return $c(r,ve,t,n)};var yr={readContext:Rn,use:Bs,useCallback:x1,useContext:Rn,useEffect:eu,useImperativeHandle:g1,useInsertionEffect:f1,useLayoutEffect:h1,useMemo:A1,useReducer:Jo,useRef:u1,useState:function(){return Jo($i)},useDebugValue:nu,useDeferredValue:function(t,n){var r=ln();return ve===null?iu(r,t,n):m1(r,ve.memoizedState,t,n)},useTransition:function(){var t=Jo($i)[0],n=ln().memoizedState;return[typeof t=="boolean"?t:Ul(t),n]},useSyncExternalStore:Zc,useId:w1};yr.useCacheRefresh=S1,yr.useMemoCache=Wo,yr.useHostTransitionStatus=ru,yr.useFormState=o1,yr.useActionState=o1,yr.useOptimistic=function(t,n){var r=ln();return ve!==null?$c(r,ve,t,n):(r.baseState=t,[t,r.queue.dispatch])};function su(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:Vt({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ou={isMounted:function(t){return(t=t._reactInternals)?ht(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var o=ti(),f=Fa(o);f.payload=n,r!=null&&(f.callback=r),n=ka(t,f,o),n!==null&&(Hn(n,t,o),Hl(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=ti(),f=Fa(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=ka(t,f,o),n!==null&&(Hn(n,t,o),Hl(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=ti(),o=Fa(r);o.tag=2,n!=null&&(o.callback=n),n=ka(t,o,r),n!==null&&(Hn(n,t,r),Hl(n,t,r))}};function v1(t,n,r,o,f,d,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,C):n.prototype&&n.prototype.isPureReactComponent?!s(r,o)||!s(f,d):!0}function N1(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&ou.enqueueReplaceState(n,n.state,null)}function Cr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=Vt({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}var ks=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function M1(t){ks(t)}function O1(t){console.error(t)}function I1(t){ks(t)}function Hs(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function _1(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function uu(t,n,r){return r=Fa(r),r.tag=3,r.payload={element:null},r.callback=function(){Hs(t,n)},r}function D1(t){return t=Fa(t),t.tag=3,t}function R1(t,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;t.payload=function(){return f(d)},t.callback=function(){_1(n,r,o)}}var C=r.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){_1(n,r,o),typeof f!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function ah(t,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&kl(n,r,f,!0),r=hi.current,r!==null){switch(r.tag){case 13:return zi===null?Gu():r.alternate===null&&Xe===0&&(Xe=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===ko?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Xu(t,o,f)),!1;case 22:return r.flags|=65536,o===ko?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Xu(t,o,f)),!1}throw Error(E(435,r.tag))}return Xu(t,o,f),Gu(),!1}if(de)return n=hi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Fo&&(t=Error(E(422),{cause:o}),Ml(ui(t,r)))):(o!==Fo&&(n=Error(E(423),{cause:o}),Ml(ui(n,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=ui(o,r),f=uu(t.stateNode,o,f),Tu(t,f),Xe!==4&&(Xe=2)),!1;var d=Error(E(520),{cause:o});if(d=ui(d,r),Ql===null?Ql=[d]:Ql.push(d),Xe!==4&&(Xe=2),n===null)return!0;o=ui(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=uu(r.stateNode,o,t),Tu(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Va===null||!Va.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=D1(f),R1(f,t,r,o),Tu(r,f),!1}r=r.return}while(r!==null);return!1}var B1=Error(E(461)),xn=!1;function vn(t,n,r,o){n.child=t===null?kc(n,null,r,o):xr(n,t.child,r,o)}function L1(t,n,r,o,f){r=r.render;var d=n.ref;if("ref"in o){var C={};for(var N in o)N!=="ref"&&(C[N]=o[N])}else C=o;return Sr(n),o=Xo(t,n,r,C,d,f),N=Zo(),t!==null&&!xn?(Qo(t,n,f),ta(t,n,f)):(de&&N&&Uo(n),n.flags|=1,vn(t,n,o,f),n.child)}function U1(t,n,r,o,f){if(t===null){var d=r.type;return typeof d=="function"&&!Du(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,z1(t,n,d,o,f)):(t=Vs(r.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Eu(t,f)){var C=d.memoizedProps;if(r=r.compare,r=r!==null?r:s,r(C,o)&&t.ref===n.ref)return ta(t,n,f)}return n.flags|=1,t=Ya(d,o),t.ref=n.ref,t.return=n,n.child=t}function z1(t,n,r,o,f){if(t!==null){var d=t.memoizedProps;if(s(d,o)&&t.ref===n.ref)if(xn=!1,n.pendingProps=o=d,Eu(t,f))(t.flags&131072)!==0&&(xn=!0);else return n.lanes=t.lanes,ta(t,n,f)}return cu(t,n,r,o,f)}function F1(t,n,r){var o=n.pendingProps,f=o.children,d=(n.stateNode._pendingVisibility&2)!==0,C=t!==null?t.memoizedState:null;if(Fl(t,n),o.mode==="hidden"||d){if((n.flags&128)!==0){if(o=C!==null?C.baseLanes|r:r,t!==null){for(f=n.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return k1(t,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Is(n,C!==null?C.cachePool:null),C!==null?Hc(n,C):Ho(),Pc(n);else return n.lanes=n.childLanes=536870912,k1(t,n,C!==null?C.baseLanes|r:r,r)}else C!==null?(Is(n,C.cachePool),Hc(n,C),Ra(),n.memoizedState=null):(t!==null&&Is(n,null),Ho(),Ra());return vn(t,n,f,r),n.child}function k1(t,n,r,o){var f=Go();return f=f===null?null:{parent:hn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Is(n,null),Ho(),Pc(n),t!==null&&kl(t,n,o,!0),null}function Fl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(E(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function cu(t,n,r,o,f){return Sr(n),r=Xo(t,n,r,o,void 0,f),o=Zo(),t!==null&&!xn?(Qo(t,n,f),ta(t,n,f)):(de&&o&&Uo(n),n.flags|=1,vn(t,n,r,f),n.child)}function H1(t,n,r,o,f,d){return Sr(n),n.updateQueue=null,r=Xc(n,o,r,f),Vc(t),o=Zo(),t!==null&&!xn?(Qo(t,n,d),ta(t,n,d)):(de&&o&&Uo(n),n.flags|=1,vn(t,n,r,d),n.child)}function P1(t,n,r,o,f){if(Sr(n),n.stateNode===null){var d=Yr,C=r.contextType;typeof C=="object"&&C!==null&&(d=Rn(C)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ou,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Su(n),C=r.contextType,d.context=typeof C=="object"&&C!==null?Rn(C):Yr,d.state=n.memoizedState,C=r.getDerivedStateFromProps,typeof C=="function"&&(su(n,r,C,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(C=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),C!==d.state&&ou.enqueueReplaceState(d,d.state,null),jl(n,o,d,f),Pl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){d=n.stateNode;var N=n.memoizedProps,I=Cr(r,N);d.props=I;var U=d.context,K=r.contextType;C=Yr,typeof K=="object"&&K!==null&&(C=Rn(K));var it=r.getDerivedStateFromProps;K=typeof it=="function"||typeof d.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(N||U!==C)&&N1(n,d,o,C),za=!1;var X=n.memoizedState;d.state=X,jl(n,o,d,f),Pl(),U=n.memoizedState,N||X!==U||za?(typeof it=="function"&&(su(n,r,it,o),U=n.memoizedState),(I=za||v1(n,r,I,o,X,U,C))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),d.props=o,d.state=U,d.context=C,o=I):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,pu(t,n),C=n.memoizedProps,K=Cr(r,C),d.props=K,it=n.pendingProps,X=d.context,U=r.contextType,I=Yr,typeof U=="object"&&U!==null&&(I=Rn(U)),N=r.getDerivedStateFromProps,(U=typeof N=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(C!==it||X!==I)&&N1(n,d,o,I),za=!1,X=n.memoizedState,d.state=X,jl(n,o,d,f),Pl();var W=n.memoizedState;C!==it||X!==W||za||t!==null&&t.dependencies!==null&&Ps(t.dependencies)?(typeof N=="function"&&(su(n,r,N,o),W=n.memoizedState),(K=za||v1(n,r,K,o,X,W,I)||t!==null&&t.dependencies!==null&&Ps(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,W,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,W,I)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=W),d.props=o,d.state=W,d.context=I,o=K):(typeof d.componentDidUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&X===t.memoizedState||(n.flags|=1024),o=!1)}return d=o,Fl(t,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&o?(n.child=xr(n,t.child,null,f),n.child=xr(n,null,r,f)):vn(t,n,r,f),n.memoizedState=d.state,t=n.child):t=ta(t,n,f),t}function j1(t,n,r,o){return Nl(),n.flags|=256,vn(t,n,r,o),n.child}var fu={dehydrated:null,treeContext:null,retryLane:0};function hu(t){return{baseLanes:t,cachePool:Gc()}}function du(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ai),t}function Y1(t,n,r){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,C;if((C=d)||(C=t!==null&&t.memoizedState===null?!1:(fn.current&2)!==0),C&&(f=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,t===null){if(de){if(f?Da(n):Ra(),de){var N=bn,I;if(I=N){t:{for(I=N,N=Ui;I.nodeType!==8;){if(!N){N=null;break t}if(I=pi(I.nextSibling),I===null){N=null;break t}}N=I}N!==null?(n.memoizedState={dehydrated:N,treeContext:hr!==null?{id:Wi,overflow:Ki}:null,retryLane:536870912},I=xi(18,null,null,0),I.stateNode=N,I.return=n,n.child=I,kn=n,bn=null,I=!0):I=!1}I||gr(n)}if(N=n.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ji(n)}return N=o.children,o=o.fallback,f?(Ra(),f=n.mode,N=xu({mode:"hidden",children:N},f),o=Tr(o,f,r,null),N.return=n,o.return=n,N.sibling=o,n.child=N,f=n.child,f.memoizedState=hu(r),f.childLanes=du(t,C,r),n.memoizedState=fu,o):(Da(n),gu(n,N))}if(I=t.memoizedState,I!==null&&(N=I.dehydrated,N!==null)){if(d)n.flags&256?(Da(n),n.flags&=-257,n=Au(t,n,r)):n.memoizedState!==null?(Ra(),n.child=t.child,n.flags|=128,n=null):(Ra(),f=o.fallback,N=n.mode,o=xu({mode:"visible",children:o.children},N),f=Tr(f,N,r,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,xr(n,t.child,null,r),o=n.child,o.memoizedState=hu(r),o.childLanes=du(t,C,r),n.memoizedState=fu,n=f);else if(Da(n),N.data==="$!"){if(C=N.nextSibling&&N.nextSibling.dataset,C)var U=C.dgst;C=U,o=Error(E(419)),o.stack="",o.digest=C,Ml({value:o,source:null,stack:null}),n=Au(t,n,r)}else if(xn||kl(t,n,r,!1),C=(r&t.childLanes)!==0,xn||C){if(C=Be,C!==null){if(o=r&-r,(o&42)!==0)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=(o&(C.suspendedLanes|r))!==0?0:o,o!==0&&o!==I.retryLane)throw I.retryLane=o,_a(t,o),Hn(C,t,o),B1}N.data==="$?"||Gu(),n=Au(t,n,r)}else N.data==="$?"?(n.flags|=128,n.child=t.child,n=yh.bind(null,t),N._reactRetry=n,n=null):(t=I.treeContext,bn=pi(N.nextSibling),kn=n,de=!0,wi=null,Ui=!1,t!==null&&(ci[fi++]=Wi,ci[fi++]=Ki,ci[fi++]=hr,Wi=t.id,Ki=t.overflow,hr=n),n=gu(n,o.children),n.flags|=4096);return n}return f?(Ra(),f=o.fallback,N=n.mode,I=t.child,U=I.sibling,o=Ya(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&31457280,U!==null?f=Ya(U,f):(f=Tr(f,N,r,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,N=t.child.memoizedState,N===null?N=hu(r):(I=N.cachePool,I!==null?(U=hn._currentValue,I=I.parent!==U?{parent:U,pool:U}:I):I=Gc(),N={baseLanes:N.baseLanes|r,cachePool:I}),f.memoizedState=N,f.childLanes=du(t,C,r),n.memoizedState=fu,o):(Da(n),r=t.child,t=r.sibling,r=Ya(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(C=n.deletions,C===null?(n.deletions=[t],n.flags|=16):C.push(t)),n.child=r,n.memoizedState=null,r)}function gu(t,n){return n=xu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function xu(t,n){return x0(t,n,0,null)}function Au(t,n,r){return xr(n,t.child,null,r),t=gu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function G1(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Cu(t.return,n,r)}function mu(t,n,r,o,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=r,d.tailMode=f)}function V1(t,n,r){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(vn(t,n,o.children,r),o=fn.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&G1(t,r,n);else if(t.tag===19)G1(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(fe(fn,o),f){case"forwards":for(r=n.child,f=null;r!==null;)t=r.alternate,t!==null&&Os(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),mu(n,!1,f,r,d);break;case"backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&Os(t)===null){n.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}mu(n,!0,r,null,d);break;case"together":mu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ta(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Ga|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(kl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(E(153));if(n.child!==null){for(t=n.child,r=Ya(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ya(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Eu(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ps(t)))}function rh(t,n,r){switch(n.tag){case 3:yn(n,n.stateNode.containerInfo),Ua(n,hn,t.memoizedState.cache),Nl();break;case 27:case 5:qe(n);break;case 4:yn(n,n.stateNode.containerInfo);break;case 10:Ua(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Da(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Y1(t,n,r):(Da(n),t=ta(t,n,r),t!==null?t.sibling:null);Da(n);break;case 19:var f=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(kl(t,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return V1(t,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),fe(fn,fn.current),o)break;return null;case 22:case 23:return n.lanes=0,F1(t,n,r);case 24:Ua(n,hn,t.memoizedState.cache)}return ta(t,n,r)}function X1(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)xn=!0;else{if(!Eu(t,r)&&(n.flags&128)===0)return xn=!1,rh(t,n,r);xn=(t.flags&131072)!==0}else xn=!1,de&&(n.flags&1048576)!==0&&Ic(n,Ts,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")Du(o)?(t=Cr(o,t),n.tag=1,n=P1(null,n,o,t,r)):(n.tag=0,n=cu(null,n,o,t,r));else{if(o!=null){if(f=o.$$typeof,f===te){n.tag=11,n=L1(null,n,o,t,r);break t}else if(f===xe){n.tag=14,n=U1(null,n,o,t,r);break t}}throw n=Gt(o)||o,Error(E(306,n,""))}}return n;case 0:return cu(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=Cr(o,n.pendingProps),P1(t,n,o,f,r);case 3:t:{if(yn(n,n.stateNode.containerInfo),t===null)throw Error(E(387));var d=n.pendingProps;f=n.memoizedState,o=f.element,pu(t,n),jl(n,d,null,r);var C=n.memoizedState;if(d=C.cache,Ua(n,hn,d),d!==f.cache&&wu(n,[hn],r,!0),Pl(),d=C.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=j1(t,n,d,r);break t}else if(d!==o){o=ui(Error(E(424)),n),Ml(o),n=j1(t,n,d,r);break t}else for(bn=pi(n.stateNode.containerInfo.firstChild),kn=n,de=!0,wi=null,Ui=!0,r=kc(n,null,d,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Nl(),d===o){n=ta(t,n,r);break t}vn(t,n,d,r)}n=n.child}return n;case 26:return Fl(t,n),t===null?(r=q0(n.type,null,n.pendingProps,null))?n.memoizedState=r:de||(r=n.type,t=n.pendingProps,o=io(Bt.current).createElement(r),o[He]=n,o[dn]=t,Nn(o,r,t),Me(o),n.stateNode=o):n.memoizedState=q0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qe(n),t===null&&de&&(o=n.stateNode=X0(n.type,n.pendingProps,Bt.current),kn=n,Ui=!0,bn=pi(o.firstChild)),o=n.pendingProps.children,t!==null||de?vn(t,n,o,r):n.child=xr(n,null,o,r),Fl(t,n),n.child;case 5:return t===null&&de&&((f=o=bn)&&(o=Lh(o,n.type,n.pendingProps,Ui),o!==null?(n.stateNode=o,kn=n,bn=pi(o.firstChild),Ui=!1,f=!0):f=!1),f||gr(n)),qe(n),f=n.type,d=n.pendingProps,C=t!==null?t.memoizedProps:null,o=d.children,ac(f,d)?o=null:C!==null&&ac(f,C)&&(n.flags|=32),n.memoizedState!==null&&(f=Xo(t,n,Jf,null,null,r),is._currentValue=f),Fl(t,n),vn(t,n,o,r),n.child;case 6:return t===null&&de&&((t=r=bn)&&(r=Uh(r,n.pendingProps,Ui),r!==null?(n.stateNode=r,kn=n,bn=null,t=!0):t=!1),t||gr(n)),null;case 13:return Y1(t,n,r);case 4:return yn(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=xr(n,null,o,r):vn(t,n,o,r),n.child;case 11:return L1(t,n,n.type,n.pendingProps,r);case 7:return vn(t,n,n.pendingProps,r),n.child;case 8:return vn(t,n,n.pendingProps.children,r),n.child;case 12:return vn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ua(n,n.type,o.value),vn(t,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,Sr(n),f=Rn(f),o=o(f),n.flags|=1,vn(t,n,o,r),n.child;case 14:return U1(t,n,n.type,n.pendingProps,r);case 15:return z1(t,n,n.type,n.pendingProps,r);case 19:return V1(t,n,r);case 22:return F1(t,n,r);case 24:return Sr(n),o=Rn(hn),t===null?(f=Go(),f===null&&(f=Be,d=jo(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:o,cache:f},Su(n),Ua(n,hn,f)):((t.lanes&r)!==0&&(pu(t,n),jl(n,null,null,r),Pl()),f=t.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ua(n,hn,o)):(o=d.cache,Ua(n,hn,o),o!==f.cache&&wu(n,[hn],r,!0))),vn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(E(156,n.tag))}var yu=Mt(null),wr=null,ea=null;function Ua(t,n,r){fe(yu,n._currentValue),n._currentValue=r}function na(t){t._currentValue=yu.current,be(yu)}function Cu(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function wu(t,n,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var C=f.child;d=d.firstContext;t:for(;d!==null;){var N=d;d=f;for(var I=0;I<n.length;I++)if(N.context===n[I]){d.lanes|=r,N=d.alternate,N!==null&&(N.lanes|=r),Cu(d.return,r,t),o||(C=null);break t}d=N.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(E(341));C.lanes|=r,d=C.alternate,d!==null&&(d.lanes|=r),Cu(C,r,t),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===t){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function kl(t,n,r,o){t=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(E(387));if(C=C.memoizedProps,C!==null){var N=f.type;l(f.pendingProps.value,C.value)||(t!==null?t.push(N):t=[N])}}else if(f===Pn.current){if(C=f.alternate,C===null)throw Error(E(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(is):t=[is])}f=f.return}t!==null&&wu(n,t,r,o),n.flags|=262144}function Ps(t){for(t=t.firstContext;t!==null;){if(!l(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sr(t){wr=t,ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rn(t){return Z1(wr,t)}function js(t,n){return wr===null&&Sr(t),Z1(t,n)}function Z1(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ea===null){if(t===null)throw Error(E(308));ea=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ea=ea.next=n;return r}var za=!1;function Su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ka(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Ss(t),Mc(t,null,r),n}return ws(t,o,n,r),Ss(t)}function Hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ir(t,r)}}function Tu(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var C={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=C:d=d.next=C,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var bu=!1;function Pl(){if(bu){var t=qr;if(t!==null)throw t}}function jl(t,n,r,o){bu=!1;var f=t.updateQueue;za=!1;var d=f.firstBaseUpdate,C=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var I=N,U=I.next;I.next=null,C===null?d=U:C.next=U,C=I;var K=t.alternate;K!==null&&(K=K.updateQueue,N=K.lastBaseUpdate,N!==C&&(N===null?K.firstBaseUpdate=U:N.next=U,K.lastBaseUpdate=I))}if(d!==null){var it=f.baseState;C=0,K=U=I=null,N=d;do{var X=N.lane&-536870913,W=X!==N.lane;if(W?(oe&X)===X:(o&X)===X){X!==0&&X===Qr&&(bu=!0),K!==null&&(K=K.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var pt=t,Ft=N;X=n;var Ze=r;switch(Ft.tag){case 1:if(pt=Ft.payload,typeof pt=="function"){it=pt.call(Ze,it,X);break t}it=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=Ft.payload,X=typeof pt=="function"?pt.call(Ze,it,X):pt,X==null)break t;it=Vt({},it,X);break t;case 2:za=!0}}X=N.callback,X!==null&&(t.flags|=64,W&&(t.flags|=8192),W=f.callbacks,W===null?f.callbacks=[X]:W.push(X))}else W={lane:X,tag:N.tag,payload:N.payload,callback:N.callback,next:null},K===null?(U=K=W,I=it):K=K.next=W,C|=X;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;W=N,N=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);K===null&&(I=it),f.baseState=I,f.firstBaseUpdate=U,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Ga|=C,t.lanes=C,t.memoizedState=it}}function Q1(t,n){if(typeof t!="function")throw Error(E(191,t));t.call(n)}function q1(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Q1(r[t],n)}function Yl(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var d=r.create,C=r.inst;o=d(),C.destroy=o}r=r.next}while(r!==f)}}catch(N){_e(n,n.return,N)}}function Ha(t,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&t)===t){var C=o.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,f=n;var I=r;try{N()}catch(U){_e(f,I,U)}}}o=o.next}while(o!==d)}}catch(U){_e(n,n.return,U)}}function W1(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{q1(n,r)}catch(o){_e(t,t.return,o)}}}function K1(t,n,r){r.props=Cr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){_e(t,n,o)}}function pr(t,n){try{var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof r=="function"?t.refCleanup=r(f):r.current=f}}catch(d){_e(t,n,d)}}function Kn(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){_e(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){_e(t,n,f)}else r.current=null}function J1(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){_e(t,t.return,f)}}function $1(t,n,r){try{var o=t.stateNode;Ih(o,t.type,r,n),o[dn]=n}catch(f){_e(t,t.return,f)}}function t0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function vu(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||t0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nu(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=no));else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Nu(t,n,r),t=t.sibling;t!==null;)Nu(t,n,r),t=t.sibling}function Ys(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&o!==27&&(t=t.child,t!==null))for(Ys(t,n,r),t=t.sibling;t!==null;)Ys(t,n,r),t=t.sibling}var ia=!1,Ve=!1,Mu=!1,e0=typeof WeakSet=="function"?WeakSet:Set,An=null,n0=!1;function lh(t,n){if(t=t.containerInfo,nc=uo,t=g(t),y(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var C=0,N=-1,I=-1,U=0,K=0,it=t,X=null;e:for(;;){for(var W;it!==r||f!==0&&it.nodeType!==3||(N=C+f),it!==d||o!==0&&it.nodeType!==3||(I=C+o),it.nodeType===3&&(C+=it.nodeValue.length),(W=it.firstChild)!==null;)X=it,it=W;for(;;){if(it===t)break e;if(X===r&&++U===f&&(N=C),X===d&&++K===o&&(I=C),(W=it.nextSibling)!==null)break;it=X,X=it.parentNode}it=W}r=N===-1||I===-1?null:{start:N,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(ic={focusedElem:t,selectionRange:r},uo=!1,An=n;An!==null;)if(n=An,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,An=t;else for(;An!==null;){switch(n=An,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var pt=Cr(r.type,f,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(pt,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ft){_e(r,r.return,Ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)sc(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(E(163))}if(t=n.sibling,t!==null){t.return=n.return,An=t;break}An=n.return}return pt=n0,n0=!1,pt}function i0(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ra(t,r),o&4&&Yl(5,r);break;case 1:if(ra(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(N){_e(r,r.return,N)}else{var f=Cr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(N){_e(r,r.return,N)}}o&64&&W1(r),o&512&&pr(r,r.return);break;case 3:if(ra(t,r),o&64&&(o=r.updateQueue,o!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{q1(o,t)}catch(N){_e(r,r.return,N)}}break;case 26:ra(t,r),o&512&&pr(r,r.return);break;case 27:case 5:ra(t,r),n===null&&o&4&&J1(r),o&512&&pr(r,r.return);break;case 12:ra(t,r);break;case 13:ra(t,r),o&4&&l0(t,r);break;case 22:if(f=r.memoizedState!==null||ia,!f){n=n!==null&&n.memoizedState!==null||Ve;var d=ia,C=Ve;ia=f,(Ve=n)&&!C?Pa(t,r,(r.subtreeFlags&8772)!==0):ra(t,r),ia=d,Ve=C}o&512&&(r.memoizedProps.mode==="manual"?pr(r,r.return):Kn(r,r.return));break;default:ra(t,r)}}function a0(t){var n=t.alternate;n!==null&&(t.alternate=null,a0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&El(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var sn=null,Jn=!1;function aa(t,n,r){for(r=r.child;r!==null;)r0(t,n,r),r=r.sibling}function r0(t,n,r){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(De,r)}catch{}switch(r.tag){case 26:Ve||Kn(r,n),aa(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ve||Kn(r,n);var o=sn,f=Jn;for(sn=r.stateNode,aa(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);El(r),sn=o,Jn=f;break;case 5:Ve||Kn(r,n);case 6:f=sn;var d=Jn;if(sn=null,aa(t,n,r),sn=f,Jn=d,sn!==null)if(Jn)try{t=sn,o=r.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)}catch(C){_e(r,n,C)}else try{sn.removeChild(r.stateNode)}catch(C){_e(r,n,C)}break;case 18:sn!==null&&(Jn?(n=sn,r=r.stateNode,n.nodeType===8?lc(n.parentNode,r):n.nodeType===1&&lc(n,r),ss(n)):lc(sn,r.stateNode));break;case 4:o=sn,f=Jn,sn=r.stateNode.containerInfo,Jn=!0,aa(t,n,r),sn=o,Jn=f;break;case 0:case 11:case 14:case 15:Ve||Ha(2,r,n),Ve||Ha(4,r,n),aa(t,n,r);break;case 1:Ve||(Kn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&K1(r,n,o)),aa(t,n,r);break;case 21:aa(t,n,r);break;case 22:Ve||Kn(r,n),Ve=(o=Ve)||r.memoizedState!==null,aa(t,n,r),Ve=o;break;default:aa(t,n,r)}}function l0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ss(t)}catch(r){_e(n,n.return,r)}}function sh(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new e0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new e0),n;default:throw Error(E(435,t.tag))}}function Ou(t,n){var r=sh(t);n.forEach(function(o){var f=Ch.bind(null,t,o);r.has(o)||(r.add(o),o.then(f,f))})}function di(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],d=t,C=n,N=C;t:for(;N!==null;){switch(N.tag){case 27:case 5:sn=N.stateNode,Jn=!1;break t;case 3:sn=N.stateNode.containerInfo,Jn=!0;break t;case 4:sn=N.stateNode.containerInfo,Jn=!0;break t}N=N.return}if(sn===null)throw Error(E(160));r0(d,C,f),sn=null,Jn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)s0(n,t),n=n.sibling}var Si=null;function s0(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:di(n,t),gi(t),o&4&&(Ha(3,t,t.return),Yl(3,t),Ha(5,t,t.return));break;case 1:di(n,t),gi(t),o&512&&(Ve||r===null||Kn(r,r.return)),o&64&&ia&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=Si;if(di(n,t),gi(t),o&512&&(Ve||r===null||Kn(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){t:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[er]||d[He]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Nn(d,o,r),d[He]=t,Me(d),o=d;break t;case"link":var C=J0("link","href",f).get(o+(r.href||""));if(C){for(var N=0;N<C.length;N++)if(d=C[N],d.getAttribute("href")===(r.href==null?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){C.splice(N,1);break e}}d=f.createElement(o),Nn(d,o,r),f.head.appendChild(d);break;case"meta":if(C=J0("meta","content",f).get(o+(r.content||""))){for(N=0;N<C.length;N++)if(d=C[N],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){C.splice(N,1);break e}}d=f.createElement(o),Nn(d,o,r),f.head.appendChild(d);break;default:throw Error(E(468,o))}d[He]=t,Me(d),o=d}t.stateNode=o}else $0(f,t.type,t.stateNode);else t.stateNode=K0(f,o,t.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?$0(f,t.type,t.stateNode):K0(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$1(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&t.alternate===null){f=t.stateNode,d=t.memoizedProps;try{for(var I=f.firstChild;I;){var U=I.nextSibling,K=I.nodeName;I[er]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&I.rel.toLowerCase()==="stylesheet"||f.removeChild(I),I=U}for(var it=t.type,X=f.attributes;X.length;)f.removeAttributeNode(X[0]);Nn(f,it,d),f[He]=t,f[dn]=d}catch(pt){_e(t,t.return,pt)}}case 5:if(di(n,t),gi(t),o&512&&(Ve||r===null||Kn(r,r.return)),t.flags&32){f=t.stateNode;try{ma(f,"")}catch(pt){_e(t,t.return,pt)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,$1(t,f,r!==null?r.memoizedProps:f)),o&1024&&(Mu=!0);break;case 6:if(di(n,t),gi(t),o&4){if(t.stateNode===null)throw Error(E(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pt){_e(t,t.return,pt)}}break;case 3:if(lo=null,f=Si,Si=ao(n.containerInfo),di(n,t),Si=f,gi(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ss(n.containerInfo)}catch(pt){_e(t,t.return,pt)}Mu&&(Mu=!1,o0(t));break;case 4:o=Si,Si=ao(t.stateNode.containerInfo),di(n,t),gi(t),Si=o;break;case 12:di(n,t),gi(t);break;case 13:di(n,t),gi(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Fu=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 22:if(o&512&&(Ve||r===null||Kn(r,r.return)),I=t.memoizedState!==null,U=r!==null&&r.memoizedState!==null,K=ia,it=Ve,ia=K||I,Ve=it||U,di(n,t),Ve=it,ia=K,gi(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=I?n._visibility&-2:n._visibility|1,I&&(n=ia||Ve,r===null||U||n||$r(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){U=r=n;try{if(f=U.stateNode,I)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{C=U.stateNode,N=U.memoizedProps.style;var W=N!=null&&N.hasOwnProperty("display")?N.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(pt){_e(U,U.return,pt)}}}else if(n.tag===6){if(r===null){U=n;try{U.stateNode.nodeValue=I?"":U.memoizedProps}catch(pt){_e(U,U.return,pt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ou(t,r))));break;case 19:di(n,t),gi(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 21:break;default:di(n,t),gi(t)}}function gi(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(t0(r)){var o=r;break t}r=r.return}throw Error(E(160))}switch(o.tag){case 27:var f=o.stateNode,d=vu(t);Ys(t,d,f);break;case 5:var C=o.stateNode;o.flags&32&&(ma(C,""),o.flags&=-33);var N=vu(t);Ys(t,N,C);break;case 3:case 4:var I=o.stateNode.containerInfo,U=vu(t);Nu(t,U,I);break;default:throw Error(E(161))}}}catch(K){_e(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function o0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;o0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ra(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)i0(t,n.alternate,n),n=n.sibling}function $r(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ha(4,n,n.return),$r(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&K1(n,n.return,r),$r(n);break;case 26:case 27:case 5:Kn(n,n.return),$r(n);break;case 22:Kn(n,n.return),n.memoizedState===null&&$r(n);break;default:$r(n)}t=t.sibling}}function Pa(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,d=n,C=d.flags;switch(d.tag){case 0:case 11:case 15:Pa(f,d,r),Yl(4,d);break;case 1:if(Pa(f,d,r),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){_e(o,o.return,U)}if(o=d,f=o.updateQueue,f!==null){var N=o.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)Q1(I[f],N)}catch(U){_e(o,o.return,U)}}r&&C&64&&W1(d),pr(d,d.return);break;case 26:case 27:case 5:Pa(f,d,r),r&&o===null&&C&4&&J1(d),pr(d,d.return);break;case 12:Pa(f,d,r);break;case 13:Pa(f,d,r),r&&C&4&&l0(f,d);break;case 22:d.memoizedState===null&&Pa(f,d,r),pr(d,d.return);break;default:Pa(f,d,r)}n=n.sibling}}function Iu(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Rl(r))}function _u(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Rl(t))}function ja(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)u0(t,n,r,o),n=n.sibling}function u0(t,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ja(t,n,r,o),f&2048&&Yl(9,n);break;case 3:ja(t,n,r,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Rl(t)));break;case 12:if(f&2048){ja(t,n,r,o),t=n.stateNode;try{var d=n.memoizedProps,C=d.id,N=d.onPostCommit;typeof N=="function"&&N(C,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){_e(n,n.return,I)}}else ja(t,n,r,o);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?ja(t,n,r,o):Gl(t,n):d._visibility&4?ja(t,n,r,o):(d._visibility|=4,tl(t,n,r,o,(n.subtreeFlags&10256)!==0)),f&2048&&Iu(n.alternate,n);break;case 24:ja(t,n,r,o),f&2048&&_u(n.alternate,n);break;default:ja(t,n,r,o)}}function tl(t,n,r,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,C=n,N=r,I=o,U=C.flags;switch(C.tag){case 0:case 11:case 15:tl(d,C,N,I,f),Yl(8,C);break;case 23:break;case 22:var K=C.stateNode;C.memoizedState!==null?K._visibility&4?tl(d,C,N,I,f):Gl(d,C):(K._visibility|=4,tl(d,C,N,I,f)),f&&U&2048&&Iu(C.alternate,C);break;case 24:tl(d,C,N,I,f),f&&U&2048&&_u(C.alternate,C);break;default:tl(d,C,N,I,f)}n=n.sibling}}function Gl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,f=o.flags;switch(o.tag){case 22:Gl(r,o),f&2048&&Iu(o.alternate,o);break;case 24:Gl(r,o),f&2048&&_u(o.alternate,o);break;default:Gl(r,o)}n=n.sibling}}var Vl=8192;function el(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)c0(t),t=t.sibling}function c0(t){switch(t.tag){case 26:el(t),t.flags&Vl&&t.memoizedState!==null&&qh(Si,t.memoizedState,t.memoizedProps);break;case 5:el(t);break;case 3:case 4:var n=Si;Si=ao(t.stateNode.containerInfo),el(t),Si=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,el(t),Vl=n):el(t));break;default:el(t)}}function f0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Xl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];An=o,d0(o,t)}f0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h0(t),t=t.sibling}function h0(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&Ha(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Gs(t)):Xl(t);break;default:Xl(t)}}function Gs(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];An=o,d0(o,t)}f0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ha(8,n,n.return),Gs(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Gs(n));break;default:Gs(n)}t=t.sibling}}function d0(t,n){for(;An!==null;){var r=An;switch(r.tag){case 0:case 11:case 15:Ha(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Rl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,An=o;else t:for(r=t;An!==null;){o=An;var f=o.sibling,d=o.return;if(a0(o),o===r){An=null;break t}if(f!==null){f.return=d,An=f;break t}An=d}}}function oh(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(t,n,r,o){return new oh(t,n,r,o)}function Du(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ya(t,n){var r=t.alternate;return r===null?(r=xi(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function g0(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vs(t,n,r,o,f,d){var C=0;if(o=t,typeof t=="function")Du(t)&&(C=1);else if(typeof t=="string")C=Zh(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case F:return Tr(r.children,f,d,n);case S:C=8,f|=24;break;case z:return t=xi(12,r,n,f|2),t.elementType=z,t.lanes=d,t;case St:return t=xi(13,r,n,f),t.elementType=St,t.lanes=d,t;case Ut:return t=xi(19,r,n,f),t.elementType=Ut,t.lanes=d,t;case Et:return x0(r,f,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case xt:C=10;break t;case At:C=9;break t;case te:C=11;break t;case xe:C=14;break t;case Nt:C=16,o=null;break t}C=29,r=Error(E(130,t===null?"null":typeof t,"")),o=null}return n=xi(C,r,n,f),n.elementType=t,n.type=o,n.lanes=d,n}function Tr(t,n,r,o){return t=xi(7,t,o,n),t.lanes=r,t}function x0(t,n,r,o){t=xi(22,t,o,n),t.elementType=Et,t.lanes=r;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(E(456));if((f._pendingVisibility&2)===0){var C=_a(d,2);C!==null&&(f._pendingVisibility|=2,Hn(C,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(E(456));if((f._pendingVisibility&2)!==0){var C=_a(d,2);C!==null&&(f._pendingVisibility&=-3,Hn(C,d,2))}}};return t.stateNode=f,t}function Ru(t,n,r){return t=xi(6,t,null,n),t.lanes=r,t}function Bu(t,n,r){return n=xi(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function la(t){t.flags|=4}function A0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tf(n)){if(n=hi.current,n!==null&&((oe&4194176)===oe?zi!==null:(oe&62914560)!==oe&&(oe&536870912)===0||n!==zi))throw Il=ko,Rc;t.flags|=8192}}function Xs(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,il|=n)}function Zl(t,n){if(!de)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function je(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function uh(t,n,r){var o=n.pendingProps;switch(zo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),na(hn),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vl(n)?la(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,wi!==null&&(ju(wi),wi=null))),je(n),null;case 26:return r=n.memoizedState,t===null?(la(n),r!==null?(je(n),A0(n,r)):(je(n),n.flags&=-16777217)):r?r!==t.memoizedState?(la(n),je(n),A0(n,r)):(je(n),n.flags&=-16777217):(t.memoizedProps!==o&&la(n),je(n),n.flags&=-16777217),null;case 27:me(n),r=Bt.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&la(n);else{if(!o){if(n.stateNode===null)throw Error(E(166));return je(n),null}t=re.current,vl(n)?_c(n):(t=X0(f,o,r),n.stateNode=t,la(n))}return je(n),null;case 5:if(me(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&la(n);else{if(!o){if(n.stateNode===null)throw Error(E(166));return je(n),null}if(t=re.current,vl(n))_c(n);else{switch(f=io(Bt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}t[He]=n,t[dn]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(Nn(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&la(n)}}return je(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&la(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(E(166));if(t=Bt.current,vl(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,f=kn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[He]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||H0(t.nodeValue,r)),t||gr(n)}else t=io(t).createTextNode(o),t[He]=n,n.stateNode=t}return je(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=vl(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(E(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(E(317));f[He]=n}else Nl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),f=!1}else wi!==null&&(ju(wi),wi=null),f=!0;if(!f)return n.flags&256?(Ji(n),n):(Ji(n),null)}if(Ji(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Xs(n,n.updateQueue),je(n),null;case 4:return ai(),t===null&&$u(n.stateNode.containerInfo),je(n),null;case 10:return na(n.type),je(n),null;case 19:if(be(fn),f=n.memoizedState,f===null)return je(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Zl(f,!1);else{if(Xe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Os(t),d!==null){for(n.flags|=128,Zl(f,!1),t=d.updateQueue,n.updateQueue=t,Xs(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)g0(r,t),r=r.sibling;return fe(fn,fn.current&1|2),n.child}t=t.sibling}f.tail!==null&&en()>Zs&&(n.flags|=128,o=!0,Zl(f,!1),n.lanes=4194304)}else{if(!o)if(t=Os(d),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,Xs(n,t),Zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!de)return je(n),null}else 2*en()-f.renderingStartTime>Zs&&r!==536870912&&(n.flags|=128,o=!0,Zl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(t=f.last,t!==null?t.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=en(),n.sibling=null,t=fn.current,fe(fn,o?t&1|2:t&1),n):(je(n),null);case 22:case 23:return Ji(n),Po(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),r=n.updateQueue,r!==null&&Xs(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&be(Ar),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),na(hn),je(n),null;case 25:return null}throw Error(E(156,n.tag))}function ch(t,n){switch(zo(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return na(hn),ai(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return me(n),null;case 13:if(Ji(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(E(340));Nl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return be(fn),null;case 4:return ai(),null;case 10:return na(n.type),null;case 22:case 23:return Ji(n),Po(),t!==null&&be(Ar),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return na(hn),null;case 25:return null;default:return null}}function m0(t,n){switch(zo(n),n.tag){case 3:na(hn),ai();break;case 26:case 27:case 5:me(n);break;case 4:ai();break;case 13:Ji(n);break;case 19:be(fn);break;case 10:na(n.type);break;case 22:case 23:Ji(n),Po(),t!==null&&be(Ar);break;case 24:na(hn)}}var fh={getCacheForType:function(t){var n=Rn(hn),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},hh=typeof WeakMap=="function"?WeakMap:Map,Ye=0,Be=null,$t=null,oe=0,Le=0,$n=null,sa=!1,nl=!1,Lu=!1,oa=0,Xe=0,Ga=0,br=0,Uu=0,Ai=0,il=0,Ql=null,ki=null,zu=!1,Fu=0,Zs=1/0,Qs=null,Va=null,qs=!1,vr=null,ql=0,ku=0,Hu=null,Wl=0,Pu=null;function ti(){if((Ye&2)!==0&&oe!==0)return oe&-oe;if(q.T!==null){var t=Qr;return t!==0?t:qu()}return Ni()}function E0(){Ai===0&&(Ai=(oe&536870912)===0||de?on():536870912);var t=hi.current;return t!==null&&(t.flags|=32),Ai}function Hn(t,n,r){(t===Be&&Le===2||t.cancelPendingCommit!==null)&&(al(t,0),ua(t,oe,Ai,!1)),On(t,r),((Ye&2)===0||t!==Be)&&(t===Be&&((Ye&2)===0&&(br|=r),Xe===4&&ua(t,oe,Ai,!1)),Hi(t))}function y0(t,n,r){if((Ye&6)!==0)throw Error(E(327));var o=!r&&(n&60)===0&&(n&t.expiredLanes)===0||wn(t,n),f=o?xh(t,n):Vu(t,n,!0),d=o;do{if(f===0){nl&&!o&&ua(t,n,0,!1);break}else if(f===6)ua(t,n,0,!sa);else{if(r=t.current.alternate,d&&!dh(r)){f=Vu(t,n,!1),d=!1;continue}if(f===2){if(d=n,t.errorRecoveryDisabledLanes&d)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;t:{var N=t;f=Ql;var I=N.current.memoizedState.isDehydrated;if(I&&(al(N,C).flags|=256),C=Vu(N,C,!1),C!==2){if(Lu&&!I){N.errorRecoveryDisabledLanes|=d,br|=d,f=4;break t}d=ki,ki=f,d!==null&&ju(d)}f=C}if(d=!1,f!==2)continue}}if(f===1){al(t,0),ua(t,n,0,!0);break}t:{switch(o=t,f){case 0:case 1:throw Error(E(345));case 4:if((n&4194176)===n){ua(o,n,Ai,!sa);break t}break;case 2:ki=null;break;case 3:case 5:break;default:throw Error(E(329))}if(o.finishedWork=r,o.finishedLanes=n,(n&62914560)===n&&(d=Fu+300-en(),10<d)){if(ua(o,n,Ai,!sa),tr(o,0)!==0)break t;o.timeoutHandle=Y0(C0.bind(null,o,r,ki,Qs,zu,n,Ai,br,il,sa,2,-0,0),d);break t}C0(o,r,ki,Qs,zu,n,Ai,br,il,sa,0,-0,0)}}break}while(!0);Hi(t)}function ju(t){ki===null?ki=t:ki.push.apply(ki,t)}function C0(t,n,r,o,f,d,C,N,I,U,K,it,X){var W=n.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(ns={stylesheets:null,count:0,unsuspend:Qh},c0(n),n=Wh(),n!==null)){t.cancelPendingCommit=n(N0.bind(null,t,r,o,f,C,N,I,1,it,X)),ua(t,d,C,!U);return}N0(t,r,o,f,C,N,I,K,it,X)}function dh(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],d=f.getSnapshot;f=f.value;try{if(!l(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ua(t,n,r,o){n&=~Uu,n&=~br,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var d=31-ne(f),C=1<<d;o[d]=-1,f&=~C}r!==0&&vi(t,r,n)}function Ws(){return(Ye&6)===0?(Kl(0),!1):!0}function Yu(){if($t!==null){if(Le===0)var t=$t.return;else t=$t,ea=wr=null,qo(t),Xr=null,_l=0,t=$t;for(;t!==null;)m0(t.alternate,t),t=t.return;$t=null}}function al(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Dh(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Yu(),Be=t,$t=r=Ya(t.current,null),oe=n,Le=0,$n=null,sa=!1,nl=wn(t,n),Lu=!1,il=Ai=Uu=br=Ga=Xe=0,ki=Ql=null,zu=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-ne(o),d=1<<f;n|=t[f],o&=~d}return oa=n,Cs(),r}function w0(t,n){Qt=null,q.H=Fi,n===Ol?(n=Uc(),Le=3):n===Rc?(n=Uc(),Le=4):Le=n===B1?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,$n=n,$t===null&&(Xe=1,Hs(t,ui(n,t.current)))}function S0(){var t=q.H;return q.H=Fi,t===null?Fi:t}function p0(){var t=q.A;return q.A=fh,t}function Gu(){Xe=4,sa||(oe&4194176)!==oe&&hi.current!==null||(nl=!0),(Ga&134217727)===0&&(br&134217727)===0||Be===null||ua(Be,oe,Ai,!1)}function Vu(t,n,r){var o=Ye;Ye|=2;var f=S0(),d=p0();(Be!==t||oe!==n)&&(Qs=null,al(t,n)),n=!1;var C=Xe;t:do try{if(Le!==0&&$t!==null){var N=$t,I=$n;switch(Le){case 8:Yu(),C=6;break t;case 3:case 2:case 6:hi.current===null&&(n=!0);var U=Le;if(Le=0,$n=null,rl(t,N,I,U),r&&nl){C=0;break t}break;default:U=Le,Le=0,$n=null,rl(t,N,I,U)}}gh(),C=Xe;break}catch(K){w0(t,K)}while(!0);return n&&t.shellSuspendCounter++,ea=wr=null,Ye=o,q.H=f,q.A=d,$t===null&&(Be=null,oe=0,Cs()),C}function gh(){for(;$t!==null;)T0($t)}function xh(t,n){var r=Ye;Ye|=2;var o=S0(),f=p0();Be!==t||oe!==n?(Qs=null,Zs=en()+500,al(t,n)):nl=wn(t,n);t:do try{if(Le!==0&&$t!==null){n=$t;var d=$n;e:switch(Le){case 1:Le=0,$n=null,rl(t,n,d,1);break;case 2:if(Bc(d)){Le=0,$n=null,b0(n);break}n=function(){Le===2&&Be===t&&(Le=7),Hi(t)},d.then(n,n);break t;case 3:Le=7;break t;case 4:Le=5;break t;case 7:Bc(d)?(Le=0,$n=null,b0(n)):(Le=0,$n=null,rl(t,n,d,7));break;case 5:var C=null;switch($t.tag){case 26:C=$t.memoizedState;case 5:case 27:var N=$t;if(!C||tf(C)){Le=0,$n=null;var I=N.sibling;if(I!==null)$t=I;else{var U=N.return;U!==null?($t=U,Ks(U)):$t=null}break e}}Le=0,$n=null,rl(t,n,d,5);break;case 6:Le=0,$n=null,rl(t,n,d,6);break;case 8:Yu(),Xe=6;break t;default:throw Error(E(462))}}Ah();break}catch(K){w0(t,K)}while(!0);return ea=wr=null,q.H=o,q.A=f,Ye=r,$t!==null?0:(Be=null,oe=0,Cs(),Xe)}function Ah(){for(;$t!==null&&!Mr();)T0($t)}function T0(t){var n=X1(t.alternate,t,oa);t.memoizedProps=t.pendingProps,n===null?Ks(t):$t=n}function b0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=H1(r,n,n.pendingProps,n.type,void 0,oe);break;case 11:n=H1(r,n,n.pendingProps,n.type.render,n.ref,oe);break;case 5:qo(n);default:m0(r,n),n=$t=g0(n,oa),n=X1(r,n,oa)}t.memoizedProps=t.pendingProps,n===null?Ks(t):$t=n}function rl(t,n,r,o){ea=wr=null,qo(n),Xr=null,_l=0;var f=n.return;try{if(ah(t,f,n,r,oe)){Xe=1,Hs(t,ui(r,t.current)),$t=null;return}}catch(d){if(f!==null)throw $t=f,d;Xe=1,Hs(t,ui(r,t.current)),$t=null;return}n.flags&32768?(de||o===1?t=!0:nl||(oe&536870912)!==0?t=!1:(sa=t=!0,(o===2||o===3||o===6)&&(o=hi.current,o!==null&&o.tag===13&&(o.flags|=16384))),v0(n,t)):Ks(n)}function Ks(t){var n=t;do{if((n.flags&32768)!==0){v0(n,sa);return}t=n.return;var r=uh(n.alternate,n,oa);if(r!==null){$t=r;return}if(n=n.sibling,n!==null){$t=n;return}$t=n=t}while(n!==null);Xe===0&&(Xe=5)}function v0(t,n){do{var r=ch(t.alternate,t);if(r!==null){r.flags&=32767,$t=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){$t=t;return}$t=t=r}while(t!==null);Xe=6,$t=null}function N0(t,n,r,o,f,d,C,N,I,U){var K=q.T,it=ct.p;try{ct.p=2,q.T=null,mh(t,n,r,o,it,f,d,C,N,I,U)}finally{q.T=K,ct.p=it}}function mh(t,n,r,o,f,d,C,N){do ll();while(vr!==null);if((Ye&6)!==0)throw Error(E(327));var I=t.finishedWork;if(o=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=I.lanes|I.childLanes;if(U|=Bo,wo(t,o,U,d,C,N),t===Be&&($t=Be=null,oe=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||qs||(qs=!0,ku=U,Hu=r,wh(Zn,function(){return ll(),null})),r=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||r?(r=q.T,q.T=null,d=ct.p,ct.p=2,C=Ye,Ye|=4,lh(t,I),s0(I,t),T(ic,t.containerInfo),uo=!!nc,ic=nc=null,t.current=I,i0(t,I.alternate,I),fs(),Ye=C,ct.p=d,q.T=r):t.current=I,qs?(qs=!1,vr=t,ql=o):M0(t,U),U=t.pendingLanes,U===0&&(Va=null),We(I.stateNode),Hi(t),n!==null)for(f=t.onRecoverableError,I=0;I<n.length;I++)U=n[I],f(U.value,{componentStack:U.stack});return(ql&3)!==0&&ll(),U=t.pendingLanes,(o&4194218)!==0&&(U&42)!==0?t===Pu?Wl++:(Wl=0,Pu=t):Wl=0,Kl(0),null}function M0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Rl(n)))}function ll(){if(vr!==null){var t=vr,n=ku;ku=0;var r=Sn(ql),o=q.T,f=ct.p;try{if(ct.p=32>r?32:r,q.T=null,vr===null)var d=!1;else{r=Hu,Hu=null;var C=vr,N=ql;if(vr=null,ql=0,(Ye&6)!==0)throw Error(E(331));var I=Ye;if(Ye|=4,h0(C.current),u0(C,C.current,N,r),Ye=I,Kl(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(De,C)}catch{}d=!0}return d}finally{ct.p=f,q.T=o,M0(t,n)}}return!1}function O0(t,n,r){n=ui(r,n),n=uu(t.stateNode,n,2),t=ka(t,n,2),t!==null&&(On(t,2),Hi(t))}function _e(t,n,r){if(t.tag===3)O0(t,t,r);else for(;n!==null;){if(n.tag===3){O0(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))){t=ui(r,t),r=D1(2),o=ka(n,r,2),o!==null&&(R1(r,o,n,t),On(o,2),Hi(o));break}}n=n.return}}function Xu(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new hh;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(Lu=!0,f.add(r),t=Eh.bind(null,t,n,r),n.then(t,t))}function Eh(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Be===t&&(oe&r)===r&&(Xe===4||Xe===3&&(oe&62914560)===oe&&300>en()-Fu?(Ye&2)===0&&al(t,0):Uu|=r,il===oe&&(il=0)),Hi(t)}function I0(t,n){n===0&&(n=ji()),t=_a(t,n),t!==null&&(On(t,n),Hi(t))}function yh(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),I0(t,r)}function Ch(t,n){var r=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(E(314))}o!==null&&o.delete(n),I0(t,r)}function wh(t,n){return ha(t,n)}var Js=null,sl=null,Zu=!1,$s=!1,Qu=!1,Nr=0;function Hi(t){t!==sl&&t.next===null&&(sl===null?Js=sl=t:sl=sl.next=t),$s=!0,Zu||(Zu=!0,ph(Sh))}function Kl(t,n){if(!Qu&&$s){Qu=!0;do for(var r=!1,o=Js;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var C=o.suspendedLanes,N=o.pingedLanes;d=(1<<31-ne(42|t)+1)-1,d&=f&~(C&~N),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(r=!0,R0(o,d))}else d=oe,d=tr(o,o===Be?d:0),(d&3)===0||wn(o,d)||(r=!0,R0(o,d));o=o.next}while(r);Qu=!1}}function Sh(){$s=Zu=!1;var t=0;Nr!==0&&(_h()&&(t=Nr),Nr=0);for(var n=en(),r=null,o=Js;o!==null;){var f=o.next,d=_0(o,n);d===0?(o.next=null,r===null?Js=f:r.next=f,f===null&&(sl=r)):(r=o,(t!==0||(d&3)!==0)&&($s=!0)),o=f}Kl(t)}function _0(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var C=31-ne(d),N=1<<C,I=f[C];I===-1?((N&r)===0||(N&o)!==0)&&(f[C]=ml(N,n)):I<=n&&(t.expiredLanes|=N),d&=~N}if(n=Be,r=oe,r=tr(t,t===n?r:0),o=t.callbackNode,r===0||t===n&&Le===2||t.cancelPendingCommit!==null)return o!==null&&o!==null&&mt(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&mt(o),Sn(r)){case 2:case 8:r=gl;break;case 32:r=Zn;break;case 268435456:r=xl;break;default:r=Zn}return o=D0.bind(null,t),r=ha(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&mt(o),t.callbackPriority=2,t.callbackNode=null,2}function D0(t,n){var r=t.callbackNode;if(ll()&&t.callbackNode!==r)return null;var o=oe;return o=tr(t,t===Be?o:0),o===0?null:(y0(t,o,n),_0(t,en()),t.callbackNode!=null&&t.callbackNode===r?D0.bind(null,t):null)}function R0(t,n){if(ll())return null;y0(t,n,!0)}function ph(t){Rh(function(){(Ye&6)!==0?ha(jn,t):t()})}function qu(){return Nr===0&&(Nr=on()),Nr}function B0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function L0(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Th(t,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var d=B0((f[dn]||null).action),C=o.submitter;C&&(n=(n=C[dn]||null)?B0(n.formAction):C.getAttribute("formAction"),n!==null&&(d=n,C=null));var N=new Ri("action","action",null,o,f);t.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var I=C?L0(f,C):new FormData(f);au(r,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(N.preventDefault(),I=C?L0(f,C):new FormData(f),au(r,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Wu=0;Wu<ys.length;Wu++){var Ku=ys[Wu],bh=Ku.toLowerCase(),vh=Ku[0].toUpperCase()+Ku.slice(1);Wn(bh,"on"+vh)}Wn(pn,"onAnimationEnd"),Wn(Vn,"onAnimationIteration"),Wn(Tn,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(pe,"onTransitionRun"),Wn(cn,"onTransitionStart"),Wn(Fn,"onTransitionCancel"),Wn(Qi,"onTransitionEnd"),we("onMouseEnter",["mouseout","mouseover"]),we("onMouseLeave",["mouseout","mouseover"]),we("onPointerEnter",["pointerout","pointerover"]),we("onPointerLeave",["pointerout","pointerover"]),Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function U0(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var C=o.length-1;0<=C;C--){var N=o[C],I=N.instance,U=N.currentTarget;if(N=N.listener,I!==d&&f.isPropagationStopped())break t;d=N,f.currentTarget=U;try{d(f)}catch(K){ks(K)}f.currentTarget=null,d=I}else for(C=0;C<o.length;C++){if(N=o[C],I=N.instance,U=N.currentTarget,N=N.listener,I!==d&&f.isPropagationStopped())break t;d=N,f.currentTarget=U;try{d(f)}catch(K){ks(K)}f.currentTarget=null,d=I}}}}function le(t,n){var r=n[Mi];r===void 0&&(r=n[Mi]=new Set);var o=t+"__bubble";r.has(o)||(z0(n,t,2,!1),r.add(o))}function Ju(t,n,r){var o=0;n&&(o|=4),z0(r,t,o,n)}var to="_reactListening"+Math.random().toString(36).slice(2);function $u(t){if(!t[to]){t[to]=!0,Rr.forEach(function(r){r!=="selectionchange"&&(Nh.has(r)||Ju(r,!1,t),Ju(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[to]||(n[to]=!0,Ju("selectionchange",!1,n))}}function z0(t,n,r,o){switch(sf(n)){case 2:var f=$h;break;case 8:f=td;break;default:f=hc}r=f.bind(null,n,r,t),f=void 0,!zt||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,r,{capture:!0,passive:f}):t.addEventListener(n,r,!0):f!==void 0?t.addEventListener(n,r,{passive:f}):t.addEventListener(n,r,!1)}function tc(t,n,r,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var C=o.tag;if(C===3||C===4){var N=o.stateNode.containerInfo;if(N===f||N.nodeType===8&&N.parentNode===f)break;if(C===4)for(C=o.return;C!==null;){var I=C.tag;if((I===3||I===4)&&(I=C.stateNode.containerInfo,I===f||I.nodeType===8&&I.parentNode===f))return;C=C.return}for(;N!==null;){if(C=gn(N),C===null)return;if(I=C.tag,I===5||I===6||I===26||I===27){o=d=C;continue t}N=N.parentNode}}o=o.return}It(function(){var U=d,K=nr(r),it=[];t:{var X=qi.get(t);if(X!==void 0){var W=Ri,pt=t;switch(t){case"keypress":if(Lr(r)===0)break t;case"keydown":case"keyup":W=Cl;break;case"focusin":pt="focus",W=Ta;break;case"focusout":pt="blur",W=Ta;break;case"beforeblur":case"afterblur":W=Ta;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Se;break;case pn:case Vn:case Tn:W=vo;break;case Qi:W=Io;break;case"scroll":case"scrollend":W=_n;break;case"wheel":W=Xi;break;case"copy":case"cut":case"paste":W=jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=or;break;case"toggle":case"beforetoggle":W=_o}var Ft=(n&4)!==0,Ze=!Ft&&(t==="scroll"||t==="scrollend"),H=Ft?X!==null?X+"Capture":null:X;Ft=[];for(var L=U,G;L!==null;){var $=L;if(G=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||G===null||H===null||($=ir(L,H),$!=null&&Ft.push($l(L,$,G))),Ze)break;L=L.return}0<Ft.length&&(X=new W(X,pt,null,r,K),it.push({event:X,listeners:Ft}))}}if((n&7)===0){t:{if(X=t==="mouseover"||t==="pointerover",W=t==="mouseout"||t==="pointerout",X&&r!==ya&&(pt=r.relatedTarget||r.fromElement)&&(gn(pt)||pt[Ke]))break t;if((W||X)&&(X=K.window===K?K:(X=K.ownerDocument)?X.defaultView||X.parentWindow:window,W?(pt=r.relatedTarget||r.toElement,W=U,pt=pt?gn(pt):null,pt!==null&&(Ze=ht(pt),Ft=pt.tag,pt!==Ze||Ft!==5&&Ft!==27&&Ft!==6)&&(pt=null)):(W=null,pt=U),W!==pt)){if(Ft=gs,$="onMouseLeave",H="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Ft=or,$="onPointerLeave",H="onPointerEnter",L="pointer"),Ze=W==null?X:Ee(W),G=pt==null?X:Ee(pt),X=new Ft($,L+"leave",W,r,K),X.target=Ze,X.relatedTarget=G,$=null,gn(K)===U&&(Ft=new Ft(H,L+"enter",pt,r,K),Ft.target=G,Ft.relatedTarget=Ze,$=Ft),Ze=$,W&&pt)e:{for(Ft=W,H=pt,L=0,G=Ft;G;G=ol(G))L++;for(G=0,$=H;$;$=ol($))G++;for(;0<L-G;)Ft=ol(Ft),L--;for(;0<G-L;)H=ol(H),G--;for(;L--;){if(Ft===H||H!==null&&Ft===H.alternate)break e;Ft=ol(Ft),H=ol(H)}Ft=null}else Ft=null;W!==null&&F0(it,X,W,Ft,!1),pt!==null&&Ze!==null&&F0(it,Ze,pt,Ft,!0)}}t:{if(X=U?Ee(U):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var yt=Es;else if(fr(X))if(Tl)yt=i;else{yt=p;var qt=Pr}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?U&&Oe(U.elementType)&&(yt=Es):yt=e;if(yt&&(yt=yt(t,U))){zn(it,yt,r,K);break t}qt&&qt(t,X,U),t==="focusout"&&U&&X.type==="number"&&U.memoizedProps.value!=null&&M(X,"number",X.value)}switch(qt=U?Ee(U):window,t){case"focusin":(fr(qt)||qt.contentEditable==="true")&&(O=qt,_=U,R=null);break;case"focusout":R=_=O=null;break;case"mousedown":P=!0;break;case"contextmenu":case"mouseup":case"dragend":P=!1,Q(it,r,K);break;case"selectionchange":if(v)break;case"keydown":case"keyup":Q(it,r,K)}var vt;if(ur)t:{switch(t){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else Na?Zi(t,r)&&(Dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(Sl&&r.locale!=="ko"&&(Na||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Na&&(vt=Ii()):(Oi=K,ar="value"in Oi?Oi.value:Oi.textContent,Na=!0)),qt=eo(U,Dt),0<qt.length&&(Dt=new lr(Dt,t,null,r,K),it.push({event:Dt,listeners:qt}),vt?Dt.data=vt:(vt=kr(r),vt!==null&&(Dt.data=vt)))),(vt=wl?cr(t,r):Do(t,r))&&(Dt=eo(U,"onBeforeInput"),0<Dt.length&&(qt=new lr("onBeforeInput","beforeinput",null,r,K),it.push({event:qt,listeners:Dt}),qt.data=vt)),Th(it,t,U,r,K)}U0(it,n)})}function $l(t,n,r){return{instance:t,listener:n,currentTarget:r}}function eo(t,n){for(var r=n+"Capture",o=[];t!==null;){var f=t,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ir(t,r),f!=null&&o.unshift($l(t,f,d)),f=ir(t,n),f!=null&&o.push($l(t,f,d))),t=t.return}return o}function ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F0(t,n,r,o,f){for(var d=n._reactName,C=[];r!==null&&r!==o;){var N=r,I=N.alternate,U=N.stateNode;if(N=N.tag,I!==null&&I===o)break;N!==5&&N!==26&&N!==27||U===null||(I=U,f?(U=ir(r,d),U!=null&&C.unshift($l(r,U,I))):f||(U=ir(r,d),U!=null&&C.push($l(r,U,I)))),r=r.return}C.length!==0&&t.push({event:n,listeners:C})}var Mh=/\r\n?/g,Oh=/\u0000|\uFFFD/g;function k0(t){return(typeof t=="string"?t:""+t).replace(Mh,`
`).replace(Oh,"")}function H0(t,n){return n=k0(n),k0(t)===n}function no(){}function Ne(t,n,r,o,f,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ma(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ma(t,""+o);break;case"className":xa(t,"class",o);break;case"tabIndex":xa(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(t,r,o);break;case"style":bt(t,o,d);break;case"data":if(n!=="object"){xa(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Ea(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Ne(t,n,"name",f.name,f,null),Ne(t,n,"formEncType",f.formEncType,f,null),Ne(t,n,"formMethod",f.formMethod,f,null),Ne(t,n,"formTarget",f.formTarget,f,null)):(Ne(t,n,"encType",f.encType,f,null),Ne(t,n,"method",f.method,f,null),Ne(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Ea(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=no);break;case"onScroll":o!=null&&le("scroll",t);break;case"onScrollEnd":o!=null&&le("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(E(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(E(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":le("beforetoggle",t),le("toggle",t),ga(t,"popover",o);break;case"xlinkActuate":qn(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qn(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qn(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qn(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qn(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qn(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qn(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ds.get(r)||r,ga(t,r,o))}}function ec(t,n,r,o,f,d){switch(r){case"style":bt(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(E(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(E(60));t.innerHTML=r}}break;case"children":typeof o=="string"?ma(t,o):(typeof o=="number"||typeof o=="bigint")&&ma(t,""+o);break;case"onScroll":o!=null&&le("scroll",t);break;case"onScrollEnd":o!=null&&le("scrollend",t);break;case"onClick":o!=null&&(t.onclick=no);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tt.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=t[dn]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,f);break t}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ga(t,r,o)}}}function Nn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",t),le("load",t);var o=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var C=r[d];if(C!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,n));default:Ne(t,n,d,C,r,null)}}f&&Ne(t,n,"srcSet",r.srcSet,r,null),o&&Ne(t,n,"src",r.src,r,null);return;case"input":le("invalid",t);var N=d=C=f=null,I=null,U=null;for(o in r)if(r.hasOwnProperty(o)){var K=r[o];if(K!=null)switch(o){case"name":f=K;break;case"type":C=K;break;case"checked":I=K;break;case"defaultChecked":U=K;break;case"value":d=K;break;case"defaultValue":N=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(E(137,n));break;default:Ne(t,n,o,K,r,null)}}Y(t,d,N,I,U,C,f,!1),Re(t);return;case"select":le("invalid",t),o=C=d=null;for(f in r)if(r.hasOwnProperty(f)&&(N=r[f],N!=null))switch(f){case"value":d=N;break;case"defaultValue":C=N;break;case"multiple":o=N;default:Ne(t,n,f,N,r,null)}n=d,r=C,t.multiple=!!o,n!=null?Ct(t,!!o,n,!1):r!=null&&Ct(t,!!o,r,!0);return;case"textarea":le("invalid",t),d=f=o=null;for(C in r)if(r.hasOwnProperty(C)&&(N=r[C],N!=null))switch(C){case"value":o=N;break;case"defaultValue":f=N;break;case"children":d=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(E(91));break;default:Ne(t,n,C,N,r,null)}Ln(t,o,f,d),Re(t);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(o=r[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ne(t,n,I,o,r,null)}return;case"dialog":le("cancel",t),le("close",t);break;case"iframe":case"object":le("load",t);break;case"video":case"audio":for(o=0;o<Jl.length;o++)le(Jl[o],t);break;case"image":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"embed":case"source":case"link":le("error",t),le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(o=r[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,n));default:Ne(t,n,U,o,r,null)}return;default:if(Oe(n)){for(K in r)r.hasOwnProperty(K)&&(o=r[K],o!==void 0&&ec(t,n,K,o,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null&&Ne(t,n,N,o,r,null))}function Ih(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,C=null,N=null,I=null,U=null,K=null;for(W in r){var it=r[W];if(r.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":I=it;default:o.hasOwnProperty(W)||Ne(t,n,W,null,o,it)}}for(var X in o){var W=o[X];if(it=r[X],o.hasOwnProperty(X)&&(W!=null||it!=null))switch(X){case"type":d=W;break;case"name":f=W;break;case"checked":U=W;break;case"defaultChecked":K=W;break;case"value":C=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(E(137,n));break;default:W!==it&&Ne(t,n,X,W,o,it)}}nn(t,C,N,I,U,K,d,f);return;case"select":W=C=N=X=null;for(d in r)if(I=r[d],r.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":W=I;default:o.hasOwnProperty(d)||Ne(t,n,d,null,o,I)}for(f in o)if(d=o[f],I=r[f],o.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":X=d;break;case"defaultValue":N=d;break;case"multiple":C=d;default:d!==I&&Ne(t,n,f,d,o,I)}n=N,r=C,o=W,X!=null?Ct(t,!!r,X,!1):!!o!=!!r&&(n!=null?Ct(t,!!r,n,!0):Ct(t,!!r,r?[]:"",!1));return;case"textarea":W=X=null;for(N in r)if(f=r[N],r.hasOwnProperty(N)&&f!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ne(t,n,N,null,o,f)}for(C in o)if(f=o[C],d=r[C],o.hasOwnProperty(C)&&(f!=null||d!=null))switch(C){case"value":X=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(E(91));break;default:f!==d&&Ne(t,n,C,f,o,d)}Je(t,X,W);return;case"option":for(var pt in r)if(X=r[pt],r.hasOwnProperty(pt)&&X!=null&&!o.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Ne(t,n,pt,null,o,X)}for(I in o)if(X=o[I],W=r[I],o.hasOwnProperty(I)&&X!==W&&(X!=null||W!=null))switch(I){case"selected":t.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Ne(t,n,I,X,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ft in r)X=r[Ft],r.hasOwnProperty(Ft)&&X!=null&&!o.hasOwnProperty(Ft)&&Ne(t,n,Ft,null,o,X);for(U in o)if(X=o[U],W=r[U],o.hasOwnProperty(U)&&X!==W&&(X!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(E(137,n));break;default:Ne(t,n,U,X,o,W)}return;default:if(Oe(n)){for(var Ze in r)X=r[Ze],r.hasOwnProperty(Ze)&&X!==void 0&&!o.hasOwnProperty(Ze)&&ec(t,n,Ze,void 0,o,X);for(K in o)X=o[K],W=r[K],!o.hasOwnProperty(K)||X===W||X===void 0&&W===void 0||ec(t,n,K,X,o,W);return}}for(var H in r)X=r[H],r.hasOwnProperty(H)&&X!=null&&!o.hasOwnProperty(H)&&Ne(t,n,H,null,o,X);for(it in o)X=o[it],W=r[it],!o.hasOwnProperty(it)||X===W||X==null&&W==null||Ne(t,n,it,X,o,W)}var nc=null,ic=null;function io(t){return t.nodeType===9?t:t.ownerDocument}function P0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ac(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var rc=null;function _h(){var t=window.event;return t&&t.type==="popstate"?t===rc?!1:(rc=t,!0):(rc=null,!1)}var Y0=typeof setTimeout=="function"?setTimeout:void 0,Dh=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(t){return G0.resolve(null).then(t).catch(Bh)}:Y0;function Bh(t){setTimeout(function(){throw t})}function lc(t,n){var r=n,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(o===0){t.removeChild(f),ss(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=f}while(r);ss(n)}function sc(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":sc(r),El(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Lh(t,n,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[er])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function Uh(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=pi(t.nextSibling),t===null))return null;return t}function pi(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function V0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function X0(t,n,r){switch(n=io(r),t){case"html":if(t=n.documentElement,!t)throw Error(E(452));return t;case"head":if(t=n.head,!t)throw Error(E(453));return t;case"body":if(t=n.body,!t)throw Error(E(454));return t;default:throw Error(E(451))}}var mi=new Map,Z0=new Set;function ao(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ca=ct.d;ct.d={f:zh,r:Fh,D:kh,C:Hh,L:Ph,m:jh,X:Gh,S:Yh,M:Vh};function zh(){var t=ca.f(),n=Ws();return t||n}function Fh(t){var n=Ge(t);n!==null&&n.tag===5&&n.type==="form"?C1(n):ca.r(t)}var ul=typeof document>"u"?null:document;function Q0(t,n,r){var o=ul;if(o&&typeof n=="string"&&n){var f=Xt(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Z0.has(f)||(Z0.add(f),t={rel:t,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Nn(n,"link",t),Me(n),o.head.appendChild(n)))}}function kh(t){ca.D(t),Q0("dns-prefetch",t,null)}function Hh(t,n){ca.C(t,n),Q0("preconnect",t,n)}function Ph(t,n,r){ca.L(t,n,r);var o=ul;if(o&&t&&n){var f='link[rel="preload"][as="'+Xt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+Xt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+Xt(r.imageSizes)+'"]')):f+='[href="'+Xt(t)+'"]';var d=f;switch(n){case"style":d=cl(t);break;case"script":d=fl(t)}mi.has(d)||(t=Vt({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),mi.set(d,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(ts(d))||n==="script"&&o.querySelector(es(d))||(n=o.createElement("link"),Nn(n,"link",t),Me(n),o.head.appendChild(n)))}}function jh(t,n){ca.m(t,n);var r=ul;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Xt(o)+'"][href="'+Xt(t)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=fl(t)}if(!mi.has(d)&&(t=Vt({rel:"modulepreload",href:t},n),mi.set(d,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(es(d)))return}o=r.createElement("link"),Nn(o,"link",t),Me(o),r.head.appendChild(o)}}}function Yh(t,n,r){ca.S(t,n,r);var o=ul;if(o&&t){var f=Yi(o).hoistableStyles,d=cl(t);n=n||"default";var C=f.get(d);if(!C){var N={loading:0,preload:null};if(C=o.querySelector(ts(d)))N.loading=5;else{t=Vt({rel:"stylesheet",href:t,"data-precedence":n},r),(r=mi.get(d))&&oc(t,r);var I=C=o.createElement("link");Me(I),Nn(I,"link",t),I._p=new Promise(function(U,K){I.onload=U,I.onerror=K}),I.addEventListener("load",function(){N.loading|=1}),I.addEventListener("error",function(){N.loading|=2}),N.loading|=4,ro(C,n,o)}C={type:"stylesheet",instance:C,count:1,state:N},f.set(d,C)}}}function Gh(t,n){ca.X(t,n);var r=ul;if(r&&t){var o=Yi(r).hoistableScripts,f=fl(t),d=o.get(f);d||(d=r.querySelector(es(f)),d||(t=Vt({src:t,async:!0},n),(n=mi.get(f))&&uc(t,n),d=r.createElement("script"),Me(d),Nn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Vh(t,n){ca.M(t,n);var r=ul;if(r&&t){var o=Yi(r).hoistableScripts,f=fl(t),d=o.get(f);d||(d=r.querySelector(es(f)),d||(t=Vt({src:t,async:!0,type:"module"},n),(n=mi.get(f))&&uc(t,n),d=r.createElement("script"),Me(d),Nn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function q0(t,n,r,o){var f=(f=Bt.current)?ao(f):null;if(!f)throw Error(E(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=cl(r.href),r=Yi(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=cl(r.href);var d=Yi(f).hoistableStyles,C=d.get(t);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,C),(d=f.querySelector(ts(t)))&&!d._p&&(C.instance=d,C.state.loading=5),mi.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},mi.set(t,r),d||Xh(f,t,r,C.state))),n&&o===null)throw Error(E(528,""));return C}if(n&&o!==null)throw Error(E(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fl(r),r=Yi(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,t))}}function cl(t){return'href="'+Xt(t)+'"'}function ts(t){return'link[rel="stylesheet"]['+t+"]"}function W0(t){return Vt({},t,{"data-precedence":t.precedence,precedence:null})}function Xh(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Nn(n,"link",r),Me(n),t.head.appendChild(n))}function fl(t){return'[src="'+Xt(t)+'"]'}function es(t){return"script[async]"+t}function K0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Xt(r.href)+'"]');if(o)return n.instance=o,Me(o),o;var f=Vt({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Me(o),Nn(o,"style",f),ro(o,r.precedence,t),n.instance=o;case"stylesheet":f=cl(r.href);var d=t.querySelector(ts(f));if(d)return n.state.loading|=4,n.instance=d,Me(d),d;o=W0(r),(f=mi.get(f))&&oc(o,f),d=(t.ownerDocument||t).createElement("link"),Me(d);var C=d;return C._p=new Promise(function(N,I){C.onload=N,C.onerror=I}),Nn(d,"link",o),n.state.loading|=4,ro(d,r.precedence,t),n.instance=d;case"script":return d=fl(r.src),(f=t.querySelector(es(d)))?(n.instance=f,Me(f),f):(o=r,(f=mi.get(d))&&(o=Vt({},r),uc(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),Me(f),Nn(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(E(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ro(o,r.precedence,t));return n.instance}function ro(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,C=0;C<o.length;C++){var N=o[C];if(N.dataset.precedence===n)d=N;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function oc(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uc(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var lo=null;function J0(t,n,r){if(lo===null){var o=new Map,f=lo=new Map;f.set(r,o)}else f=lo,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var d=r[f];if(!(d[er]||d[He]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var C=d.getAttribute(n)||"";C=t+C;var N=o.get(C);N?N.push(d):o.set(C,[d])}}return o}function $0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function Zh(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function tf(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ns=null;function Qh(){}function qh(t,n,r){if(ns===null)throw Error(E(475));var o=ns;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=cl(r.href),d=t.querySelector(ts(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=so.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=d,Me(d);return}d=t.ownerDocument||t,r=W0(r),(f=mi.get(f))&&oc(r,f),d=d.createElement("link"),Me(d);var C=d;C._p=new Promise(function(N,I){C.onload=N,C.onerror=I}),Nn(d,"link",r),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=so.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function Wh(){if(ns===null)throw Error(E(475));var t=ns;return t.stylesheets&&t.count===0&&cc(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&cc(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function so(){if(this.count--,this.count===0){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var oo=null;function cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,oo=new Map,n.forEach(Kh,t),oo=null,so.call(t))}function Kh(t,n){if(!(n.state.loading&4)){var r=oo.get(t);if(r)var o=r.get(null);else{r=new Map,oo.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var C=f[d];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(r.set(C.dataset.precedence,C),o=C)}o&&r.set(null,o)}f=n.instance,C=f.getAttribute("data-precedence"),d=r.get(C)||o,d===o&&r.set(null,f),r.set(C,f),this.count++,o=so.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var is={$$typeof:xt,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function Jh(t,n,r,o,f,d,C,N){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function ef(t,n,r,o,f,d,C,N,I,U,K,it){return t=new Jh(t,n,r,C,N,I,U,it),n=1,d===!0&&(n|=24),d=xi(3,null,null,n),t.current=d,d.stateNode=t,n=jo(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},Su(d),t}function nf(t){return t?(t=Yr,t):Yr}function af(t,n,r,o,f,d){f=nf(f),o.context===null?o.context=f:o.pendingContext=f,o=Fa(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=ka(t,o,n),r!==null&&(Hn(r,t,n),Hl(r,t,n))}function rf(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function fc(t,n){rf(t,n),(t=t.alternate)&&rf(t,n)}function lf(t){if(t.tag===13){var n=_a(t,67108864);n!==null&&Hn(n,t,67108864),fc(t,67108864)}}var uo=!0;function $h(t,n,r,o){var f=q.T;q.T=null;var d=ct.p;try{ct.p=2,hc(t,n,r,o)}finally{ct.p=d,q.T=f}}function td(t,n,r,o){var f=q.T;q.T=null;var d=ct.p;try{ct.p=8,hc(t,n,r,o)}finally{ct.p=d,q.T=f}}function hc(t,n,r,o){if(uo){var f=dc(o);if(f===null)tc(t,n,o,co,r),of(t,o);else if(nd(f,t,n,r,o))o.stopPropagation();else if(of(t,o),n&4&&-1<ed.indexOf(t)){for(;f!==null;){var d=Ge(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var C=bi(d.pendingLanes);if(C!==0){var N=d;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var I=1<<31-ne(C);N.entanglements[1]|=I,C&=~I}Hi(d),(Ye&6)===0&&(Zs=en()+500,Kl(0))}}break;case 13:N=_a(d,2),N!==null&&Hn(N,d,2),Ws(),fc(d,2)}if(d=dc(o),d===null&&tc(t,n,o,co,r),d===f)break;f=d}f!==null&&o.stopPropagation()}else tc(t,n,o,null,r)}}function dc(t){return t=nr(t),gc(t)}var co=null;function gc(t){if(co=null,t=gn(t),t!==null){var n=ht(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Wt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return co=t,null}function sf(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dl()){case jn:return 2;case gl:return 8;case Zn:case Cn:return 32;case xl:return 268435456;default:return 32}default:return 32}}var xc=!1,Xa=null,Za=null,Qa=null,as=new Map,rs=new Map,qa=[],ed="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function of(t,n){switch(t){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Qa=null;break;case"pointerover":case"pointerout":as.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(n.pointerId)}}function ls(t,n,r,o,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Ge(n),n!==null&&lf(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function nd(t,n,r,o,f){switch(n){case"focusin":return Xa=ls(Xa,t,n,r,o,f),!0;case"dragenter":return Za=ls(Za,t,n,r,o,f),!0;case"mouseover":return Qa=ls(Qa,t,n,r,o,f),!0;case"pointerover":var d=f.pointerId;return as.set(d,ls(as.get(d)||null,t,n,r,o,f)),!0;case"gotpointercapture":return d=f.pointerId,rs.set(d,ls(rs.get(d)||null,t,n,r,o,f)),!0}return!1}function uf(t){var n=gn(t.target);if(n!==null){var r=ht(n);if(r!==null){if(n=r.tag,n===13){if(n=Wt(r),n!==null){t.blockedOn=n,Yn(t.priority,function(){if(r.tag===13){var o=ti(),f=_a(r,o);f!==null&&Hn(f,r,o),fc(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=dc(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);ya=o,r.target.dispatchEvent(o),ya=null}else return n=Ge(r),n!==null&&lf(n),t.blockedOn=r,!1;n.shift()}return!0}function cf(t,n,r){fo(t)&&r.delete(n)}function id(){xc=!1,Xa!==null&&fo(Xa)&&(Xa=null),Za!==null&&fo(Za)&&(Za=null),Qa!==null&&fo(Qa)&&(Qa=null),as.forEach(cf),rs.forEach(cf)}function ho(t,n){t.blockedOn===n&&(t.blockedOn=null,xc||(xc=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,id)))}var go=null;function ff(t){go!==t&&(go=t,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){go===t&&(go=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(gc(o||r)===null)continue;break}var d=Ge(r);d!==null&&(t.splice(n,3),n-=3,au(d,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function ss(t){function n(I){return ho(I,t)}Xa!==null&&ho(Xa,t),Za!==null&&ho(Za,t),Qa!==null&&ho(Qa,t),as.forEach(n),rs.forEach(n);for(var r=0;r<qa.length;r++){var o=qa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<qa.length&&(r=qa[0],r.blockedOn===null);)uf(r),r.blockedOn===null&&qa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],d=r[o+1],C=f[dn]||null;if(typeof d=="function")C||ff(r);else if(C){var N=null;if(d&&d.hasAttribute("formAction")){if(f=d,C=d[dn]||null)N=C.formAction;else if(gc(f)!==null)continue}else N=C.action;typeof N=="function"?r[o+1]=N:(r.splice(o,3),o-=3),ff(r)}}}function Ac(t){this._internalRoot=t}xo.prototype.render=Ac.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(E(409));var r=n.current,o=ti();af(r,o,t,n,null,null)},xo.prototype.unmount=Ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ll(),af(t.current,2,null,t,null,null),Ws(),n[Ke]=null}};function xo(t){this._internalRoot=t}xo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ni();t={blockedOn:null,target:t,priority:n};for(var r=0;r<qa.length&&n!==0&&n<qa[r].priority;r++);qa.splice(r,0,t),r===0&&uf(t)}};var hf=A.version;if(hf!=="19.0.0")throw Error(E(527,hf,"19.0.0"));ct.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=at(n),t=t!==null?dt(t):null,t=t===null?null:t.stateNode,t};var ad={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:gn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{De=Ao.inject(ad),ot=Ao}catch{}}return us.createRoot=function(t,n){if(!b(t))throw Error(E(299));var r=!1,o="",f=M1,d=O1,C=I1,N=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(N=n.unstable_transitionCallbacks)),n=ef(t,1,!1,null,null,r,o,f,d,C,N,null),t[Ke]=n.current,$u(t.nodeType===8?t.parentNode:t),new Ac(n)},us.hydrateRoot=function(t,n,r){if(!b(t))throw Error(E(299));var o=!1,f="",d=M1,C=O1,N=I1,I=null,U=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(C=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks),r.formState!==void 0&&(U=r.formState)),n=ef(t,1,!0,n,r??null,o,f,d,C,N,I,U),n.context=nf(null),r=n.current,o=ti(),f=Fa(o),f.callback=null,ka(r,f,o),n.current.lanes=o,On(n,o),Hi(n),t[Ke]=n.current,$u(t),new xo(n)},us.version="19.0.0",us}var Sf;function Ad(){if(Sf)return yc.exports;Sf=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(A){console.error(A)}}return m(),yc.exports=xd(),yc.exports}var md=Ad(),gt;(function(m){m[m.QR_CODE=0]="QR_CODE",m[m.AZTEC=1]="AZTEC",m[m.CODABAR=2]="CODABAR",m[m.CODE_39=3]="CODE_39",m[m.CODE_93=4]="CODE_93",m[m.CODE_128=5]="CODE_128",m[m.DATA_MATRIX=6]="DATA_MATRIX",m[m.MAXICODE=7]="MAXICODE",m[m.ITF=8]="ITF",m[m.EAN_13=9]="EAN_13",m[m.EAN_8=10]="EAN_8",m[m.PDF_417=11]="PDF_417",m[m.RSS_14=12]="RSS_14",m[m.RSS_EXPANDED=13]="RSS_EXPANDED",m[m.UPC_A=14]="UPC_A",m[m.UPC_E=15]="UPC_E",m[m.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gt||(gt={}));var pf=new Map([[gt.QR_CODE,"QR_CODE"],[gt.AZTEC,"AZTEC"],[gt.CODABAR,"CODABAR"],[gt.CODE_39,"CODE_39"],[gt.CODE_93,"CODE_93"],[gt.CODE_128,"CODE_128"],[gt.DATA_MATRIX,"DATA_MATRIX"],[gt.MAXICODE,"MAXICODE"],[gt.ITF,"ITF"],[gt.EAN_13,"EAN_13"],[gt.EAN_8,"EAN_8"],[gt.PDF_417,"PDF_417"],[gt.RSS_14,"RSS_14"],[gt.RSS_EXPANDED,"RSS_EXPANDED"],[gt.UPC_A,"UPC_A"],[gt.UPC_E,"UPC_E"],[gt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Tf;(function(m){m[m.UNKNOWN=0]="UNKNOWN",m[m.URL=1]="URL"})(Tf||(Tf={}));function Ed(m){return Object.values(gt).includes(m)}var Ja;(function(m){m[m.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",m[m.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ja||(Ja={}));var Ti=function(){function m(){}return m.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",m.SCAN_DEFAULT_FPS=2,m.DEFAULT_DISABLE_FLIP=!1,m.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,m.DEFAULT_SUPPORTED_SCAN_TYPE=[Ja.SCAN_TYPE_CAMERA,Ja.SCAN_TYPE_FILE],m}(),kf=function(){function m(A,x){this.format=A,this.formatName=x}return m.prototype.toString=function(){return this.formatName},m.create=function(A){if(!pf.has(A))throw"".concat(A," not in html5QrcodeSupportedFormatsTextMap");return new m(A,pf.get(A))},m}(),bf=function(){function m(){}return m.createFromText=function(A){var x={text:A};return{decodedText:A,result:x}},m.createFromQrcodeResult=function(A){return{decodedText:A.text,result:A}},m}(),Tc;(function(m){m[m.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",m[m.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",m[m.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Tc||(Tc={}));var Hf=function(){function m(){}return m.createFrom=function(A){return{errorMessage:A,type:Tc.UNKWOWN_ERROR}},m}(),Pf=function(){function m(A){this.verbose=A}return m.prototype.log=function(A){this.verbose&&console.log(A)},m.prototype.warn=function(A){this.verbose&&console.warn(A)},m.prototype.logError=function(A,x){(this.verbose||x===!0)&&console.error(A)},m.prototype.logErrors=function(A){if(A.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(A)},m}();function Pi(m){return typeof m>"u"||m===null}function yd(m,A,x){return m>x?x:m<A?A:m}var hl=function(){function m(){}return m.codeParseError=function(A){return"QR code parse error, error = ".concat(A)},m.errorGettingUserMedia=function(A){return"Error getting userMedia, error = ".concat(A)},m.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},m.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},m.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},m.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},m.scannerPaused=function(){return"Scanner paused"},m}(),Te=function(){function m(){}return m.scanningStatus=function(){return"Scanning"},m.idleStatus=function(){return"Idle"},m.errorStatus=function(){return"Error"},m.permissionStatus=function(){return"Permission"},m.noCameraFoundErrorStatus=function(){return"No Cameras"},m.lastMatch=function(A){return"Last Match: ".concat(A)},m.codeScannerTitle=function(){return"Code Scanner"},m.cameraPermissionTitle=function(){return"Request Camera Permissions"},m.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},m.noCameraFound=function(){return"No camera found"},m.scanButtonStopScanningText=function(){return"Stop Scanning"},m.scanButtonStartScanningText=function(){return"Start Scanning"},m.torchOnButton=function(){return"Switch On Torch"},m.torchOffButton=function(){return"Switch Off Torch"},m.torchOnFailedMessage=function(){return"Failed to turn on torch"},m.torchOffFailedMessage=function(){return"Failed to turn off torch"},m.scanButtonScanningStarting=function(){return"Launching Camera..."},m.textIfCameraScanSelected=function(){return"Scan an Image File"},m.textIfFileScanSelected=function(){return"Scan using camera directly"},m.selectCamera=function(){return"Select Camera"},m.fileSelectionChooseImage=function(){return"Choose Image"},m.fileSelectionChooseAnother=function(){return"Choose Another"},m.fileSelectionNoImageSelected=function(){return"No image choosen"},m.anonymousCameraPrefix=function(){return"Anonymous Camera"},m.dragAndDropMessage=function(){return"Or drop an image to scan"},m.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},m.zoom=function(){return"zoom"},m.loadingImage=function(){return"Loading image..."},m.cameraScanAltText=function(){return"Camera based scan"},m.fileScanAltText=function(){return"Fule based scan"},m}(),vf=function(){function m(){}return m.poweredBy=function(){return"Powered by "},m.reportIssues=function(){return"Report issues"},m}(),jf=function(){function m(){}return m.isMediaStreamConstraintsValid=function(A,x){if(typeof A!="object"){var E=typeof A;return x.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(E,"."),!0),!1}for(var b=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(b),D=Object.keys(A),V=0,F=D;V<F.length;V++){var S=F[V];if(w.has(S))return x.logError("".concat(S," is not supported videoConstaints."),!0),!1}return!0},m}(),cs={exports:{}},Cd=cs.exports,Nf;function wd(){return Nf||(Nf=1,function(m,A){(function(x,E){E(A)})(Cd,function(x){function E(p){return p==null}var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,e){p.__proto__=e}||function(p,e){for(var i in e)e.hasOwnProperty(i)&&(p[i]=e[i])};function w(p,e){b(p,e);function i(){this.constructor=p}p.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}function D(p,e){var i=Object.setPrototypeOf;i?i(p,e):p.__proto__=e}function V(p,e){e===void 0&&(e=p.constructor);var i=Error.captureStackTrace;i&&i(p,e)}var F=function(p){w(e,p);function e(i){var a=this.constructor,l=p.call(this,i)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),D(l,a.prototype),V(l),l}return e}(Error);class S extends F{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}S.kind="Exception";class z extends S{}z.kind="ArgumentException";class k extends S{}k.kind="IllegalArgumentException";class At{constructor(e){if(this.binarizer=e,e===null)throw new k("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,i){return this.binarizer.getBlackRow(e,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,i,a,l){const s=this.binarizer.getLuminanceSource().crop(e,i,a,l);return new At(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new At(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new At(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class xt extends S{static getChecksumInstance(){return new xt}}xt.kind="ChecksumException";class te{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class St{static arraycopy(e,i,a,l,s){for(;s--;)a[l++]=e[i++]}static currentTimeMillis(){return Date.now()}}class Ut extends S{}Ut.kind="IndexOutOfBoundsException";class xe extends Ut{constructor(e=void 0,i=void 0){super(i),this.index=e,this.message=i}}xe.kind="ArrayIndexOutOfBoundsException";class Nt{static fill(e,i){for(let a=0,l=e.length;a<l;a++)e[a]=i}static fillWithin(e,i,a,l){Nt.rangeCheck(e.length,i,a);for(let s=i;s<a;s++)e[s]=l}static rangeCheck(e,i,a){if(i>a)throw new k("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new xe(i);if(a>e)throw new xe(a)}static asList(...e){return e}static create(e,i,a){return Array.from({length:e}).map(s=>Array.from({length:i}).fill(a))}static createInt32Array(e,i,a){return Array.from({length:e}).map(s=>Int32Array.from({length:i}).fill(a))}static equals(e,i){if(!e||!i||!e.length||!i.length||e.length!==i.length)return!1;for(let a=0,l=e.length;a<l;a++)if(e[a]!==i[a])return!1;return!0}static hashCode(e){if(e===null)return 0;let i=1;for(const a of e)i=31*i+a;return i}static fillUint8Array(e,i){for(let a=0;a!==e.length;a++)e[a]=i}static copyOf(e,i){return e.slice(0,i)}static copyOfUint8Array(e,i){if(e.length<=i){const a=new Uint8Array(i);return a.set(e),a}return e.slice(0,i)}static copyOfRange(e,i,a){const l=a-i,s=new Int32Array(l);return St.arraycopy(e,i,s,0,l),s}static binarySearch(e,i,a){a===void 0&&(a=Nt.numberComparator);let l=0,s=e.length-1;for(;l<=s;){const u=s+l>>1,c=a(i,e[u]);if(c>0)l=u+1;else if(c<0)s=u-1;else return u}return-l-1}static numberComparator(e,i){return e-i}}class Et{static numberOfTrailingZeros(e){let i;if(e===0)return 32;let a=31;return i=e<<16,i!==0&&(a-=16,e=i),i=e<<8,i!==0&&(a-=8,e=i),i=e<<4,i!==0&&(a-=4,e=i),i=e<<2,i!==0&&(a-=2,e=i),a-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let i=1;return e>>>16||(i+=16,e<<=16),e>>>24||(i+=8,e<<=8),e>>>28||(i+=4,e<<=4),e>>>30||(i+=2,e<<=2),i-=e>>>31,i}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,i){return Math.trunc(e/i)}static parseInt(e,i=void 0){return parseInt(e,i)}}Et.MIN_VALUE_32_BITS=-2147483648,Et.MAX_VALUE=Number.MAX_SAFE_INTEGER;class kt{constructor(e,i){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,i==null?this.bits=kt.makeArray(e):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const i=kt.makeArray(e);St.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const i=this.size;if(e>=i)return i;const a=this.bits;let l=Math.floor(e/32),s=a[l];s&=~((1<<(e&31))-1);const u=a.length;for(;s===0;){if(++l===u)return i;s=a[l]}const c=l*32+Et.numberOfTrailingZeros(s);return c>i?i:c}getNextUnset(e){const i=this.size;if(e>=i)return i;const a=this.bits;let l=Math.floor(e/32),s=~a[l];s&=~((1<<(e&31))-1);const u=a.length;for(;s===0;){if(++l===u)return i;s=~a[l]}const c=l*32+Et.numberOfTrailingZeros(s);return c>i?i:c}setBulk(e,i){this.bits[Math.floor(e/32)]=i}setRange(e,i){if(i<e||e<0||i>this.size)throw new k;if(i===e)return;i--;const a=Math.floor(e/32),l=Math.floor(i/32),s=this.bits;for(let u=a;u<=l;u++){const c=u>a?0:e&31,g=(2<<(u<l?31:i&31))-(1<<c);s[u]|=g}}clear(){const e=this.bits.length,i=this.bits;for(let a=0;a<e;a++)i[a]=0}isRange(e,i,a){if(i<e||e<0||i>this.size)throw new k;if(i===e)return!0;i--;const l=Math.floor(e/32),s=Math.floor(i/32),u=this.bits;for(let c=l;c<=s;c++){const h=c>l?0:e&31,y=(2<<(c<s?31:i&31))-(1<<h)&4294967295;if((u[c]&y)!==(a?y:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,i){if(i<0||i>32)throw new k("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((e>>a-1&1)===1)}appendBitArray(e){const i=e.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(e.get(a))}xor(e){if(this.size!==e.size)throw new k("Sizes don't match");const i=this.bits;for(let a=0,l=i.length;a<l;a++)i[a]^=e.bits[a]}toBytes(e,i,a,l){for(let s=0;s<l;s++){let u=0;for(let c=0;c<8;c++)this.get(e)&&(u|=1<<7-c),e++;i[a+s]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,l=this.bits;for(let s=0;s<a;s++){let u=l[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[i-s]=u}if(this.size!==a*32){const s=a*32-this.size;let u=e[0]>>>s;for(let c=1;c<a;c++){const h=e[c];u|=h<<32-s,e[c-1]=u,u=h>>>s}e[a-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof kt))return!1;const i=e;return this.size===i.size&&Nt.equals(this.bits,i.bits)}hashCode(){return 31*this.size+Nt.hashCode(this.bits)}toString(){let e="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(e+=" "),e+=this.get(i)?"X":".";return e}clone(){return new kt(this.size,this.bits.slice())}}var Ht;(function(p){p[p.OTHER=0]="OTHER",p[p.PURE_BARCODE=1]="PURE_BARCODE",p[p.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",p[p.TRY_HARDER=3]="TRY_HARDER",p[p.CHARACTER_SET=4]="CHARACTER_SET",p[p.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",p[p.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",p[p.ASSUME_GS1=7]="ASSUME_GS1",p[p.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",p[p.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",p[p.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ht||(Ht={}));var Lt=Ht;class ut extends S{static getFormatInstance(){return new ut}}ut.kind="FormatException";var Gt;(function(p){p[p.Cp437=0]="Cp437",p[p.ISO8859_1=1]="ISO8859_1",p[p.ISO8859_2=2]="ISO8859_2",p[p.ISO8859_3=3]="ISO8859_3",p[p.ISO8859_4=4]="ISO8859_4",p[p.ISO8859_5=5]="ISO8859_5",p[p.ISO8859_6=6]="ISO8859_6",p[p.ISO8859_7=7]="ISO8859_7",p[p.ISO8859_8=8]="ISO8859_8",p[p.ISO8859_9=9]="ISO8859_9",p[p.ISO8859_10=10]="ISO8859_10",p[p.ISO8859_11=11]="ISO8859_11",p[p.ISO8859_13=12]="ISO8859_13",p[p.ISO8859_14=13]="ISO8859_14",p[p.ISO8859_15=14]="ISO8859_15",p[p.ISO8859_16=15]="ISO8859_16",p[p.SJIS=16]="SJIS",p[p.Cp1250=17]="Cp1250",p[p.Cp1251=18]="Cp1251",p[p.Cp1252=19]="Cp1252",p[p.Cp1256=20]="Cp1256",p[p.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",p[p.UTF8=22]="UTF8",p[p.ASCII=23]="ASCII",p[p.Big5=24]="Big5",p[p.GB18030=25]="GB18030",p[p.EUC_KR=26]="EUC_KR"})(Gt||(Gt={}));class q{constructor(e,i,a,...l){this.valueIdentifier=e,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,q.VALUE_IDENTIFIER_TO_ECI.set(e,this),q.NAME_TO_ECI.set(a,this);const s=this.values;for(let u=0,c=s.length;u!==c;u++){const h=s[u];q.VALUES_TO_ECI.set(h,this)}for(const u of l)q.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new ut("incorect value");const i=q.VALUES_TO_ECI.get(e);if(i===void 0)throw new ut("incorect value");return i}static getCharacterSetECIByName(e){const i=q.NAME_TO_ECI.get(e);if(i===void 0)throw new ut("incorect value");return i}equals(e){if(!(e instanceof q))return!1;const i=e;return this.getName()===i.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(Gt.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(Gt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(Gt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(Gt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(Gt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(Gt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(Gt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(Gt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(Gt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(Gt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(Gt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(Gt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(Gt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(Gt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(Gt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(Gt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(Gt.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(Gt.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(Gt.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(Gt.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(Gt.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(Gt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(Gt.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(Gt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(Gt.Big5,28,"Big5"),q.GB18030=new q(Gt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(Gt.EUC_KR,30,"EUC_KR","EUC-KR");class Vt extends S{}Vt.kind="UnsupportedOperationException";class Ce{static decode(e,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(e,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(e,a):new TextDecoder(a).decode(e)}static shouldDecodeOnFallback(e){return!Ce.isBrowser()&&e==="ISO-8859-1"}static encode(e,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(e,a):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof q?e:q.getCharacterSetECIByName(e)}static decodeFallback(e,i){const a=this.encodingCharacterSet(i);if(Ce.isDecodeFallbackSupported(a)){let l="";for(let s=0,u=e.length;s<u;s++){let c=e[s].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(a.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Vt(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(q.UTF8)||e.equals(q.ISO8859_1)||e.equals(q.ASCII)}static encodeFallback(e){const a=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class Tt{static castAsNonUtf8Char(e,i=null){const a=i?i.getName():this.ISO88591;return Ce.decode(new Uint8Array([e]),a)}static guessEncoding(e,i){if(i!=null&&i.get(Lt.CHARACTER_SET)!==void 0)return i.get(Lt.CHARACTER_SET).toString();const a=e.length;let l=!0,s=!0,u=!0,c=0,h=0,g=0,y=0,T=0,v=0,O=0,_=0,R=0,P=0,Q=0;const rt=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let st=0;st<a&&(l||s||u);st++){const nt=e[st]&255;u&&(c>0?(nt&128)===0?u=!1:c--:(nt&128)!==0&&((nt&64)===0?u=!1:(c++,(nt&32)===0?h++:(c++,(nt&16)===0?g++:(c++,(nt&8)===0?y++:u=!1))))),l&&(nt>127&&nt<160?l=!1:nt>159&&(nt<192||nt===215||nt===247)&&Q++),s&&(T>0?nt<64||nt===127||nt>252?s=!1:T--:nt===128||nt===160||nt>239?s=!1:nt>160&&nt<224?(v++,_=0,O++,O>R&&(R=O)):nt>127?(T++,O=0,_++,_>P&&(P=_)):(O=0,_=0))}return u&&c>0&&(u=!1),s&&T>0&&(s=!1),u&&(rt||h+g+y>0)?Tt.UTF8:s&&(Tt.ASSUME_SHIFT_JIS||R>=3||P>=3)?Tt.SHIFT_JIS:l&&s?R===2&&v===2||Q*10>=a?Tt.SHIFT_JIS:Tt.ISO88591:l?Tt.ISO88591:s?Tt.SHIFT_JIS:u?Tt.UTF8:Tt.PLATFORM_DEFAULT_ENCODING}static format(e,...i){let a=-1;function l(u,c,h,g,y,T){if(u==="%%")return"%";if(i[++a]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let v=y?parseInt(y.substr(1)):void 0,O;switch(T){case"s":O=i[a];break;case"c":O=i[a][0];break;case"f":O=parseFloat(i[a]).toFixed(u);break;case"p":O=parseFloat(i[a]).toPrecision(u);break;case"e":O=parseFloat(i[a]).toExponential(u);break;case"x":O=parseInt(i[a]).toString(v||16);break;case"d":O=parseFloat(parseInt(i[a],v||10).toPrecision(u)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(v);let _=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";for(;O.length<_;)O=c!==void 0?O+R:R+O;return O}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,l)}static getBytes(e,i){return Ce.encode(e,i)}static getCharCode(e,i=0){return e.charCodeAt(i)}static getCharAt(e){return String.fromCharCode(e)}}Tt.SHIFT_JIS=q.SJIS.getName(),Tt.GB2312="GB2312",Tt.ISO88591=q.ISO8859_1.getName(),Tt.EUC_JP="EUC_JP",Tt.UTF8=q.UTF8.getName(),Tt.PLATFORM_DEFAULT_ENCODING=Tt.UTF8,Tt.ASSUME_SHIFT_JIS=!1;class Pt{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Tt.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,i,a){for(let l=i;i<i+a;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+1)}substring(e,i){return this.value.substring(e,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,i){this.value=this.value.substr(0,e)+i+this.value.substr(e+i.length)}}class Ae{constructor(e,i,a,l){if(this.width=e,this.height=i,this.rowSize=a,this.bits=l,i==null&&(i=e),this.height=i,e<1||i<1)throw new k("Both dimensions must be greater than 0");a==null&&(a=Math.floor((e+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const i=e.length,a=e[0].length,l=new Ae(a,i);for(let s=0;s<i;s++){const u=e[s];for(let c=0;c<a;c++)u[c]&&l.set(c,s)}return l}static parseFromString(e,i,a){if(e===null)throw new k("stringRepresentation cannot be null");const l=new Array(e.length);let s=0,u=0,c=-1,h=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new k("row lengths do not match");u=s,h++}g++}else if(e.substring(g,g+i.length)===i)g+=i.length,l[s]=!0,s++;else if(e.substring(g,g+a.length)===a)g+=a.length,l[s]=!1,s++;else throw new k("illegal character encountered: "+e.substring(g));if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new k("row lengths do not match");h++}const y=new Ae(c,h);for(let T=0;T<s;T++)l[T]&&y.set(Math.floor(T%c),Math.floor(T/c));return y}get(e,i){const a=i*this.rowSize+Math.floor(e/32);return(this.bits[a]>>>(e&31)&1)!==0}set(e,i){const a=i*this.rowSize+Math.floor(e/32);this.bits[a]|=1<<(e&31)&4294967295}unset(e,i){const a=i*this.rowSize+Math.floor(e/32);this.bits[a]&=~(1<<(e&31)&4294967295)}flip(e,i){const a=i*this.rowSize+Math.floor(e/32);this.bits[a]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new k("input matrix dimensions do not match");const i=new kt(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,u=this.height;s<u;s++){const c=s*a,h=e.getRow(s,i).getBitArray();for(let g=0;g<a;g++)l[c+g]^=h[g]}}clear(){const e=this.bits,i=e.length;for(let a=0;a<i;a++)e[a]=0}setRegion(e,i,a,l){if(i<0||e<0)throw new k("Left and top must be nonnegative");if(l<1||a<1)throw new k("Height and width must be at least 1");const s=e+a,u=i+l;if(u>this.height||s>this.width)throw new k("The region must fit inside the matrix");const c=this.rowSize,h=this.bits;for(let g=i;g<u;g++){const y=g*c;for(let T=e;T<s;T++)h[y+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(e,i){i==null||i.getSize()<this.width?i=new kt(this.width):i.clear();const a=this.rowSize,l=this.bits,s=e*a;for(let u=0;u<a;u++)i.setBulk(u*32,l[s+u]);return i}setRow(e,i){St.arraycopy(i.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),i=this.getHeight();let a=new kt(e),l=new kt(e);for(let s=0,u=Math.floor((i+1)/2);s<u;s++)a=this.getRow(s,a),l=this.getRow(i-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(i-1-s,a)}getEnclosingRectangle(){const e=this.width,i=this.height,a=this.rowSize,l=this.bits;let s=e,u=i,c=-1,h=-1;for(let g=0;g<i;g++)for(let y=0;y<a;y++){const T=l[g*a+y];if(T!==0){if(g<u&&(u=g),g>h&&(h=g),y*32<s){let v=0;for(;(T<<31-v&4294967295)===0;)v++;y*32+v<s&&(s=y*32+v)}if(y*32+31>c){let v=31;for(;!(T>>>v);)v--;y*32+v>c&&(c=y*32+v)}}}return c<s||h<u?null:Int32Array.from([s,u,c-s+1,h-u+1])}getTopLeftOnBit(){const e=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const l=a/e;let s=a%e*32;const u=i[a];let c=0;for(;(u<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,l])}getBottomRightOnBit(){const e=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/e);let s=Math.floor(a%e)*32;const u=i[a];let c=31;for(;!(u>>>c);)c--;return s+=c,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ae))return!1;const i=e;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&Nt.equals(this.bits,i.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+Nt.hashCode(this.bits),e}toString(e="X ",i="  ",a=`
`){return this.buildToString(e,i,a)}buildToString(e,i,a){let l=new Pt;for(let s=0,u=this.height;s<u;s++){for(let c=0,h=this.width;c<h;c++)l.append(this.get(c,s)?e:i);l.append(a)}return l.toString()}clone(){return new Ae(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends S{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class J extends te{constructor(e){super(e),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(e,i){const a=this.getLuminanceSource(),l=a.getWidth();i==null||i.getSize()<l?i=new kt(l):i.clear(),this.initArrays(l);const s=a.getRow(e,this.luminances),u=this.buckets;for(let h=0;h<l;h++)u[(s[h]&255)>>J.LUMINANCE_SHIFT]++;const c=J.estimateBlackPoint(u);if(l<3)for(let h=0;h<l;h++)(s[h]&255)<c&&i.set(h);else{let h=s[0]&255,g=s[1]&255;for(let y=1;y<l-1;y++){const T=s[y+1]&255;(g*4-h-T)/2<c&&i.set(y),h=g,g=T}}return i}getBlackMatrix(){const e=this.getLuminanceSource(),i=e.getWidth(),a=e.getHeight(),l=new Ae(i,a);this.initArrays(i);const s=this.buckets;for(let h=1;h<5;h++){const g=Math.floor(a*h/5),y=e.getRow(g,this.luminances),T=Math.floor(i*4/5);for(let v=Math.floor(i/5);v<T;v++){const O=y[v]&255;s[O>>J.LUMINANCE_SHIFT]++}}const u=J.estimateBlackPoint(s),c=e.getMatrix();for(let h=0;h<a;h++){const g=h*i;for(let y=0;y<i;y++)(c[g+y]&255)<u&&l.set(y,h)}return l}createBinarizer(e){return new J(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const i=this.buckets;for(let a=0;a<J.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(e){const i=e.length;let a=0,l=0,s=0;for(let y=0;y<i;y++)e[y]>s&&(l=y,s=e[y]),e[y]>a&&(a=e[y]);let u=0,c=0;for(let y=0;y<i;y++){const T=y-l,v=e[y]*T*T;v>c&&(u=y,c=v)}if(l>u){const y=l;l=u,u=y}if(u-l<=i/16)throw new j;let h=u-1,g=-1;for(let y=u-1;y>l;y--){const T=y-l,v=T*T*(u-y)*(a-e[y]);v>g&&(h=y,g=v)}return h<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class et extends J{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),i=e.getWidth(),a=e.getHeight();if(i>=et.MINIMUM_DIMENSION&&a>=et.MINIMUM_DIMENSION){const l=e.getMatrix();let s=i>>et.BLOCK_SIZE_POWER;(i&et.BLOCK_SIZE_MASK)!==0&&s++;let u=a>>et.BLOCK_SIZE_POWER;(a&et.BLOCK_SIZE_MASK)!==0&&u++;const c=et.calculateBlackPoints(l,s,u,i,a),h=new Ae(i,a);et.calculateThresholdForBlock(l,s,u,i,a,c,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new et(e)}static calculateThresholdForBlock(e,i,a,l,s,u,c){const h=s-et.BLOCK_SIZE,g=l-et.BLOCK_SIZE;for(let y=0;y<a;y++){let T=y<<et.BLOCK_SIZE_POWER;T>h&&(T=h);const v=et.cap(y,2,a-3);for(let O=0;O<i;O++){let _=O<<et.BLOCK_SIZE_POWER;_>g&&(_=g);const R=et.cap(O,2,i-3);let P=0;for(let rt=-2;rt<=2;rt++){const st=u[v+rt];P+=st[R-2]+st[R-1]+st[R]+st[R+1]+st[R+2]}const Q=P/25;et.thresholdBlock(e,_,T,Q,l,c)}}}static cap(e,i,a){return e<i?i:e>a?a:e}static thresholdBlock(e,i,a,l,s,u){for(let c=0,h=a*s+i;c<et.BLOCK_SIZE;c++,h+=s)for(let g=0;g<et.BLOCK_SIZE;g++)(e[h+g]&255)<=l&&u.set(i+g,a+c)}static calculateBlackPoints(e,i,a,l,s){const u=s-et.BLOCK_SIZE,c=l-et.BLOCK_SIZE,h=new Array(a);for(let g=0;g<a;g++){h[g]=new Int32Array(i);let y=g<<et.BLOCK_SIZE_POWER;y>u&&(y=u);for(let T=0;T<i;T++){let v=T<<et.BLOCK_SIZE_POWER;v>c&&(v=c);let O=0,_=255,R=0;for(let Q=0,rt=y*l+v;Q<et.BLOCK_SIZE;Q++,rt+=l){for(let st=0;st<et.BLOCK_SIZE;st++){const nt=e[rt+st]&255;O+=nt,nt<_&&(_=nt),nt>R&&(R=nt)}if(R-_>et.MIN_DYNAMIC_RANGE)for(Q++,rt+=l;Q<et.BLOCK_SIZE;Q++,rt+=l)for(let st=0;st<et.BLOCK_SIZE;st++)O+=e[rt+st]&255}let P=O>>et.BLOCK_SIZE_POWER*2;if(R-_<=et.MIN_DYNAMIC_RANGE&&(P=_/2,g>0&&T>0)){const Q=(h[g-1][T]+2*h[g][T-1]+h[g-1][T-1])/4;_<Q&&(P=Q)}h[g][T]=P}}return h}}et.BLOCK_SIZE_POWER=3,et.BLOCK_SIZE=1<<et.BLOCK_SIZE_POWER,et.BLOCK_SIZE_MASK=et.BLOCK_SIZE-1,et.MINIMUM_DIMENSION=et.BLOCK_SIZE*5,et.MIN_DYNAMIC_RANGE=24;class ht{constructor(e,i){this.width=e,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,i,a,l){throw new Vt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Vt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Vt("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let i=new Pt;for(let a=0;a<this.height;a++){const l=this.getRow(a,e);for(let s=0;s<this.width;s++){const u=l[s]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",i.append(c)}i.append(`
`)}return i.toString()}}class Wt extends ht{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,i){const a=this.delegate.getRow(e,i),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const e=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let l=0;l<i;l++)a[l]=255-(e[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(e,i,a,l){return new Wt(this.delegate.crop(e,i,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Wt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Wt(this.delegate.rotateCounterClockwise45())}}class B extends ht{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=B.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const i=e.getContext("2d").getImageData(0,0,e.width,e.height);return B.toGrayscaleBuffer(i.data,e.width,e.height)}static toGrayscaleBuffer(e,i,a){const l=new Uint8ClampedArray(i*a);for(let s=0,u=0,c=e.length;s<c;s+=4,u++){let h;if(e[s+3]===0)h=255;else{const y=e[s],T=e[s+1],v=e[s+2];h=306*y+601*T+117*v+512>>10}l[u]=h}return l}getRow(e,i){if(e<0||e>=this.getHeight())throw new k("Requested row is outside the image: "+e);const a=this.getWidth(),l=e*a;return i===null?i=this.buffer.slice(l,l+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(l,l+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,i,a,l){return super.crop(e,i,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const i=this.getTempCanvasElement(),a=i.getContext("2d"),l=e*B.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*u),h=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*u);return i.width=c,i.height=h,a.translate(c/2,h/2),a.rotate(l),a.drawImage(this.canvas,s/-2,u/-2),this.buffer=B.makeBufferFromCanvasImageData(i),this}invert(){return new Wt(this)}}B.DEGREE_TO_RADIANS=Math.PI/180;class at{constructor(e,i,a){this.deviceId=e,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var dt=(globalThis||mo||self||window||void 0)&&(globalThis||mo||self||window||void 0).__awaiter||function(p,e,i,a){function l(s){return s instanceof i?s:new i(function(u){u(s)})}return new(i||(i=Promise))(function(s,u){function c(y){try{g(a.next(y))}catch(T){u(T)}}function h(y){try{g(a.throw(y))}catch(T){u(T)}}function g(y){y.done?s(y.value):l(y.value).then(c,h)}g((a=a.apply(p,e||[])).next())})};class wt{constructor(e,i=500,a){this.reader=e,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return dt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of e){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,u=a.label||`Video device ${i.length+1}`,c=a.groupId,h={deviceId:s,label:u,kind:l,groupId:c};i.push(h)}return i})}getVideoInputDevices(){return dt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new at(i.deviceId,i.label))})}findDeviceById(e){return dt(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===e):null})}decodeFromInputVideoDevice(e,i){return dt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,i)})}decodeOnceFromVideoDevice(e,i){return dt(this,void 0,void 0,function*(){this.reset();let a;e?a={deviceId:{exact:e}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(e,i){return dt(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(e,i){return dt(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(e,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(e,i,a){return dt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,i,a)})}decodeFromVideoDevice(e,i,a){return dt(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,i,a)})}decodeFromConstraints(e,i,a){return dt(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,i,a)})}decodeFromStream(e,i,a){return dt(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,i);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,i){return dt(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,e),this.videoElement=a,this.stream=e,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(e){return new Promise((i,a)=>this.playVideoOnLoad(e,()=>i()))}playVideoOnLoad(e,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",i),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return dt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,i){const a=document.getElementById(e);if(!a)throw new z(`element with id '${e}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new z(`element with id '${e}' must be an ${i} element`);return a}decodeFromImage(e,i){if(!e&&!i)throw new z("either imageElement with a src set or an url must be provided");return i&&!e?this.decodeFromImageUrl(i):this.decodeFromImageElement(e)}decodeFromVideo(e,i){if(!e&&!i)throw new z("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,i,a){if(e===void 0&&i===void 0)throw new z("Either an element with a src set or an URL must be provided");return i&&!e?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(e,a)}decodeFromImageElement(e){if(!e)throw new z("An image element must be provided.");this.reset();const i=this.prepareImageElement(e);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(e){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(e,i){const a=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(e){if(!e)throw new z("A video element must be provided.");this.reset();const i=this.prepareVideoElement(e);return this.videoElement=i,i}decodeFromImageUrl(e){if(!e)throw new z("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=e,a}decodeFromVideoUrl(e){if(!e)throw new z("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=e,a}decodeFromVideoUrlContinuously(e,i){if(!e)throw new z("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,i);return a.src=e,l}_decodeOnLoadImage(e){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(i,a),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return dt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,i){return dt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,i)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let i;return typeof e>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(i=e),i}prepareVideoElement(e){let i;return!e&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof e=="string"&&(i=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(i=e),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(e,i=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,u)=>{if(this._stopAsyncDecode){u(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);s(c)}catch(c){const h=i&&c instanceof j,y=(c instanceof xt||c instanceof ut)&&a;if(h||y)return setTimeout(l,this._timeBetweenDecodingAttempts,s,u);u(c)}};return new Promise((s,u)=>l(s,u))}decodeContinuously(e,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);i(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){i(null,l);const s=l instanceof xt||l instanceof ut,u=l instanceof j;(s||u)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(e){const i=this.createBinaryBitmap(e);return this.decodeBitmap(i)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,i,a){i||(i={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(e,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(e,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const i=this.getCaptureCanvas(e),a=new B(i),l=new et(a);return new At(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const i=this.createCaptureCanvas(e);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(a=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(a=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),i.style.width=a+"px",i.style.height=l+"px",i.width=a,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,i){try{e.srcObject=i}catch{e.src=URL.createObjectURL(i)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ct{constructor(e,i,a=i==null?0:8*i.length,l,s,u=St.currentTimeMillis()){this.text=e,this.rawBytes=i,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=u,this.text=e,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,u==null?this.timestamp=St.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,i)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const i=this.resultPoints;if(i===null)this.resultPoints=e;else if(e!==null&&e.length>0){const a=new Array(i.length+e.length);St.arraycopy(i,0,a,0,i.length),St.arraycopy(e,0,a,i.length,e.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Rt;(function(p){p[p.AZTEC=0]="AZTEC",p[p.CODABAR=1]="CODABAR",p[p.CODE_39=2]="CODE_39",p[p.CODE_93=3]="CODE_93",p[p.CODE_128=4]="CODE_128",p[p.DATA_MATRIX=5]="DATA_MATRIX",p[p.EAN_8=6]="EAN_8",p[p.EAN_13=7]="EAN_13",p[p.ITF=8]="ITF",p[p.MAXICODE=9]="MAXICODE",p[p.PDF_417=10]="PDF_417",p[p.QR_CODE=11]="QR_CODE",p[p.RSS_14=12]="RSS_14",p[p.RSS_EXPANDED=13]="RSS_EXPANDED",p[p.UPC_A=14]="UPC_A",p[p.UPC_E=15]="UPC_E",p[p.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Rt||(Rt={}));var lt=Rt,ke;(function(p){p[p.OTHER=0]="OTHER",p[p.ORIENTATION=1]="ORIENTATION",p[p.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",p[p.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",p[p.ISSUE_NUMBER=4]="ISSUE_NUMBER",p[p.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",p[p.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",p[p.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",p[p.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",p[p.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",p[p.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var Mt=ke;class be{constructor(e,i,a,l,s=-1,u=-1){this.rawBytes=e,this.text=i,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fe{exp(e){return this.expTable[e]}log(e){if(e===0)throw new k;return this.logTable[e]}static addOrSubtract(e,i){return e^i}}class re{constructor(e,i){if(i.length===0)throw new k;this.field=e;const a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),St.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(e===1){a=0;for(let u=0,c=i.length;u!==c;u++){const h=i[u];a=fe.addOrSubtract(a,h)}return a}a=i[0];const l=i.length,s=this.field;for(let u=1;u<l;u++)a=fe.addOrSubtract(s.multiply(e,a),i[u]);return a}addOrSubtract(e){if(!this.field.equals(e.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,a=e.coefficients;if(i.length>a.length){const u=i;i=a,a=u}let l=new Int32Array(a.length);const s=a.length-i.length;St.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=fe.addOrSubtract(i[u-s],a[u]);return new re(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,l=e.coefficients,s=l.length,u=new Int32Array(a+s-1),c=this.field;for(let h=0;h<a;h++){const g=i[h];for(let y=0;y<s;y++)u[h+y]=fe.addOrSubtract(u[h+y],c.multiply(g,l[y]))}return new re(c,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const i=this.coefficients.length,a=this.field,l=new Int32Array(i),s=this.coefficients;for(let u=0;u<i;u++)l[u]=a.multiply(s[u],e);return new re(a,l)}multiplyByMonomial(e,i){if(e<0)throw new k;if(i===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+e),u=this.field;for(let c=0;c<l;c++)s[c]=u.multiply(a[c],i);return new re(u,s)}divide(e){if(!this.field.equals(e.field))throw new k("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new k("Divide by 0");const i=this.field;let a=i.getZero(),l=this;const s=e.getCoefficient(e.getDegree()),u=i.inverse(s);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const c=l.getDegree()-e.getDegree(),h=i.multiply(l.getCoefficient(l.getDegree()),u),g=e.multiplyByMonomial(c,h),y=i.buildMonomial(c,h);a=a.addOrSubtract(y),l=l.addOrSubtract(g)}return[a,l]}toString(){let e="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(e+=" - ",a=-a):e.length>0&&(e+=" + "),i===0||a!==1){const l=this.field.log(a);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}i!==0&&(i===1?e+="x":(e+="x^",e+=i))}}return e}}class Mn extends S{}Mn.kind="ArithmeticException";class Bt extends fe{constructor(e,i,a){super(),this.primitive=e,this.size=i,this.generatorBase=a;const l=new Int32Array(i);let s=1;for(let c=0;c<i;c++)l[c]=s,s*=2,s>=i&&(s^=e,s&=i-1);this.expTable=l;const u=new Int32Array(i);for(let c=0;c<i-1;c++)u[l[c]]=c;this.logTable=u,this.zero=new re(this,Int32Array.from([0])),this.one=new re(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new k;if(i===0)return this.zero;const a=new Int32Array(e+1);return a[0]=i,new re(this,a)}inverse(e){if(e===0)throw new Mn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Et.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Bt.AZTEC_DATA_12=new Bt(4201,4096,1),Bt.AZTEC_DATA_10=new Bt(1033,1024,1),Bt.AZTEC_DATA_6=new Bt(67,64,1),Bt.AZTEC_PARAM=new Bt(19,16,1),Bt.QR_CODE_FIELD_256=new Bt(285,256,0),Bt.DATA_MATRIX_FIELD_256=new Bt(301,256,1),Bt.AZTEC_DATA_8=Bt.DATA_MATRIX_FIELD_256,Bt.MAXICODE_FIELD_64=Bt.AZTEC_DATA_6;class Pn extends S{}Pn.kind="ReedSolomonException";class yn extends S{}yn.kind="IllegalStateException";class ai{constructor(e){this.field=e}decode(e,i){const a=this.field,l=new re(a,e),s=new Int32Array(i);let u=!0;for(let O=0;O<i;O++){const _=l.evaluateAt(a.exp(O+a.getGeneratorBase()));s[s.length-1-O]=_,_!==0&&(u=!1)}if(u)return;const c=new re(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(i,1),c,i),g=h[0],y=h[1],T=this.findErrorLocations(g),v=this.findErrorMagnitudes(y,T);for(let O=0;O<T.length;O++){const _=e.length-1-a.log(T[O]);if(_<0)throw new Pn("Bad error location");e[_]=Bt.addOrSubtract(e[_],v[O])}}runEuclideanAlgorithm(e,i,a){if(e.getDegree()<i.getDegree()){const O=e;e=i,i=O}const l=this.field;let s=e,u=i,c=l.getZero(),h=l.getOne();for(;u.getDegree()>=(a/2|0);){let O=s,_=c;if(s=u,c=h,s.isZero())throw new Pn("r_{i-1} was zero");u=O;let R=l.getZero();const P=s.getCoefficient(s.getDegree()),Q=l.inverse(P);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const rt=u.getDegree()-s.getDegree(),st=l.multiply(u.getCoefficient(u.getDegree()),Q);R=R.addOrSubtract(l.buildMonomial(rt,st)),u=u.addOrSubtract(s.multiplyByMonomial(rt,st))}if(h=R.multiply(c).addOrSubtract(_),u.getDegree()>=s.getDegree())throw new yn("Division algorithm failed to reduce polynomial?")}const g=h.getCoefficient(0);if(g===0)throw new Pn("sigmaTilde(0) was zero");const y=l.inverse(g),T=h.multiplyScalar(y),v=u.multiplyScalar(y);return[T,v]}findErrorLocations(e){const i=e.getDegree();if(i===1)return Int32Array.from([e.getCoefficient(1)]);const a=new Int32Array(i);let l=0;const s=this.field;for(let u=1;u<s.getSize()&&l<i;u++)e.evaluateAt(u)===0&&(a[l]=s.inverse(u),l++);if(l!==i)throw new Pn("Error locator degree does not match number of roots");return a}findErrorMagnitudes(e,i){const a=i.length,l=new Int32Array(a),s=this.field;for(let u=0;u<a;u++){const c=s.inverse(i[u]);let h=1;for(let g=0;g<a;g++)if(u!==g){const y=s.multiply(i[g],c),T=(y&1)===0?y|1:y&-2;h=s.multiply(h,T)}l[u]=s.multiply(e.evaluateAt(c),s.inverse(h)),s.getGeneratorBase()!==0&&(l[u]=s.multiply(l[u],c))}return l}}var qe;(function(p){p[p.UPPER=0]="UPPER",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.DIGIT=3]="DIGIT",p[p.PUNCT=4]="PUNCT",p[p.BINARY=5]="BINARY"})(qe||(qe={}));class me{decode(e){this.ddata=e;let i=e.getBits(),a=this.extractBits(i),l=this.correctBits(a),s=me.convertBoolArrayToByteArray(l),u=me.getEncodedData(l),c=new be(s,u,null,null);return c.setNumBits(l.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let i=e.length,a=qe.UPPER,l=qe.UPPER,s="",u=0;for(;u<i;)if(l===qe.BINARY){if(i-u<5)break;let c=me.readCode(e,u,5);if(u+=5,c===0){if(i-u<11)break;c=me.readCode(e,u,11)+31,u+=11}for(let h=0;h<c;h++){if(i-u<8){u=i;break}const g=me.readCode(e,u,8);s+=Tt.castAsNonUtf8Char(g),u+=8}l=a}else{let c=l===qe.DIGIT?4:5;if(i-u<c)break;let h=me.readCode(e,u,c);u+=c;let g=me.getCharacter(l,h);g.startsWith("CTRL_")?(a=l,l=me.getTable(g.charAt(5)),g.charAt(6)==="L"&&(a=l)):(s+=g,l=a)}return s}static getTable(e){switch(e){case"L":return qe.LOWER;case"P":return qe.PUNCT;case"M":return qe.MIXED;case"D":return qe.DIGIT;case"B":return qe.BINARY;case"U":default:return qe.UPPER}}static getCharacter(e,i){switch(e){case qe.UPPER:return me.UPPER_TABLE[i];case qe.LOWER:return me.LOWER_TABLE[i];case qe.MIXED:return me.MIXED_TABLE[i];case qe.PUNCT:return me.PUNCT_TABLE[i];case qe.DIGIT:return me.DIGIT_TABLE[i];default:throw new yn("Bad table")}}correctBits(e){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Bt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Bt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Bt.AZTEC_DATA_10):(a=12,i=Bt.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=e.length/a;if(s<l)throw new ut;let u=e.length%a,c=new Int32Array(s);for(let v=0;v<s;v++,u+=a)c[v]=me.readCode(e,u,a);try{new ai(i).decode(c,s-l)}catch(v){throw new ut(v)}let h=(1<<a)-1,g=0;for(let v=0;v<l;v++){let O=c[v];if(O===0||O===h)throw new ut;(O===1||O===h-1)&&g++}let y=new Array(l*a-g),T=0;for(let v=0;v<l;v++){let O=c[v];if(O===1||O===h-1)y.fill(O>1,T,T+a-1),T+=a-1;else for(let _=a-1;_>=0;--_)y[T++]=(O&1<<_)!==0}return y}extractBits(e){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(i?11:14)+a*4,s=new Int32Array(l),u=new Array(this.totalBitsInLayer(a,i));if(i)for(let c=0;c<s.length;c++)s[c]=c;else{let c=l+1+2*Et.truncDivision(Et.truncDivision(l,2)-1,15),h=l/2,g=Et.truncDivision(c,2);for(let y=0;y<h;y++){let T=y+Et.truncDivision(y,15);s[h-y-1]=g-T-1,s[h+y]=g+T+1}}for(let c=0,h=0;c<a;c++){let g=(a-c)*4+(i?9:12),y=c*2,T=l-1-y;for(let v=0;v<g;v++){let O=v*2;for(let _=0;_<2;_++)u[h+O+_]=e.get(s[y+_],s[y+v]),u[h+2*g+O+_]=e.get(s[y+v],s[T-_]),u[h+4*g+O+_]=e.get(s[T-_],s[T-v]),u[h+6*g+O+_]=e.get(s[T-v],s[y+_])}h+=g*8}return u}static readCode(e,i,a){let l=0;for(let s=i;s<i+a;s++)l<<=1,e[s]&&(l|=1);return l}static readByte(e,i){let a=e.length-i;return a>=8?me.readCode(e,i,8):me.readCode(e,i,a)<<8-a}static convertBoolArrayToByteArray(e){let i=new Uint8Array((e.length+7)/8);for(let a=0;a<i.length;a++)i[a]=me.readByte(e,8*a);return i}totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}me.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],me.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],me.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],me.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],me.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Kt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,i,a,l){const s=e-a,u=i-l;return Math.sqrt(s*s+u*u)}static sum(e){let i=0;for(let a=0,l=e.length;a!==l;a++){const s=e[a];i+=s}return i}}class ha{static floatToIntBits(e){return e}}ha.MAX_VALUE=Number.MAX_SAFE_INTEGER;class mt{constructor(e,i){this.x=e,this.y=i}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof mt){const i=e;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*ha.floatToIntBits(this.x)+ha.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const i=this.distance(e[0],e[1]),a=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let s,u,c;if(a>=i&&a>=l?(u=e[0],s=e[1],c=e[2]):l>=a&&l>=i?(u=e[1],s=e[0],c=e[2]):(u=e[2],s=e[0],c=e[1]),this.crossProductZ(s,u,c)<0){const h=s;s=c,c=h}e[0]=s,e[1]=u,e[2]=c}static distance(e,i){return Kt.distance(e.x,e.y,i.x,i.y)}static crossProductZ(e,i,a){const l=i.x,s=i.y;return(a.x-l)*(e.y-s)-(a.y-s)*(e.x-l)}}class Mr{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class fs extends Mr{constructor(e,i,a,l,s){super(e,i),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class en{constructor(e,i,a,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),i==null&&(i=en.INIT_SIZE),a==null&&(a=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const s=i/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let e=this.leftInit,i=this.rightInit,a=this.upInit,l=this.downInit,s=!1,u=!0,c=!1,h=!1,g=!1,y=!1,T=!1;const v=this.width,O=this.height;for(;u;){u=!1;let _=!0;for(;(_||!h)&&i<v;)_=this.containsBlackPoint(a,l,i,!1),_?(i++,u=!0,h=!0):h||i++;if(i>=v){s=!0;break}let R=!0;for(;(R||!g)&&l<O;)R=this.containsBlackPoint(e,i,l,!0),R?(l++,u=!0,g=!0):g||l++;if(l>=O){s=!0;break}let P=!0;for(;(P||!y)&&e>=0;)P=this.containsBlackPoint(a,l,e,!1),P?(e--,u=!0,y=!0):y||e--;if(e<0){s=!0;break}let Q=!0;for(;(Q||!T)&&a>=0;)Q=this.containsBlackPoint(e,i,a,!0),Q?(a--,u=!0,T=!0):T||a--;if(a<0){s=!0;break}u&&(c=!0)}if(!s&&c){const _=i-e;let R=null;for(let st=1;R===null&&st<_;st++)R=this.getBlackPointOnSegment(e,l-st,e+st,l);if(R==null)throw new j;let P=null;for(let st=1;P===null&&st<_;st++)P=this.getBlackPointOnSegment(e,a+st,e+st,a);if(P==null)throw new j;let Q=null;for(let st=1;Q===null&&st<_;st++)Q=this.getBlackPointOnSegment(i,a+st,i-st,a);if(Q==null)throw new j;let rt=null;for(let st=1;rt===null&&st<_;st++)rt=this.getBlackPointOnSegment(i,l-st,i-st,l);if(rt==null)throw new j;return this.centerEdges(rt,R,Q,P)}else throw new j}getBlackPointOnSegment(e,i,a,l){const s=Kt.round(Kt.distance(e,i,a,l)),u=(a-e)/s,c=(l-i)/s,h=this.image;for(let g=0;g<s;g++){const y=Kt.round(e+g*u),T=Kt.round(i+g*c);if(h.get(y,T))return new mt(y,T)}return null}centerEdges(e,i,a,l){const s=e.getX(),u=e.getY(),c=i.getX(),h=i.getY(),g=a.getX(),y=a.getY(),T=l.getX(),v=l.getY(),O=en.CORR;return s<this.width/2?[new mt(T-O,v+O),new mt(c+O,h+O),new mt(g-O,y-O),new mt(s+O,u-O)]:[new mt(T+O,v+O),new mt(c+O,h-O),new mt(g-O,y+O),new mt(s-O,u-O)]}containsBlackPoint(e,i,a,l){const s=this.image;if(l){for(let u=e;u<=i;u++)if(s.get(u,a))return!0}else for(let u=e;u<=i;u++)if(s.get(a,u))return!0;return!1}}en.INIT_SIZE=10,en.CORR=1;class dl{static checkAndNudgePoints(e,i){const a=e.getWidth(),l=e.getHeight();let s=!0;for(let u=0;u<i.length&&s;u+=2){const c=Math.floor(i[u]),h=Math.floor(i[u+1]);if(c<-1||c>a||h<-1||h>l)throw new j;s=!1,c===-1?(i[u]=0,s=!0):c===a&&(i[u]=a-1,s=!0),h===-1?(i[u+1]=0,s=!0):h===l&&(i[u+1]=l-1,s=!0)}s=!0;for(let u=i.length-2;u>=0&&s;u-=2){const c=Math.floor(i[u]),h=Math.floor(i[u+1]);if(c<-1||c>a||h<-1||h>l)throw new j;s=!1,c===-1?(i[u]=0,s=!0):c===a&&(i[u]=a-1,s=!0),h===-1?(i[u+1]=0,s=!0):h===l&&(i[u+1]=l-1,s=!0)}}}class jn{constructor(e,i,a,l,s,u,c,h,g){this.a11=e,this.a21=i,this.a31=a,this.a12=l,this.a22=s,this.a32=u,this.a13=c,this.a23=h,this.a33=g}static quadrilateralToQuadrilateral(e,i,a,l,s,u,c,h,g,y,T,v,O,_,R,P){const Q=jn.quadrilateralToSquare(e,i,a,l,s,u,c,h);return jn.squareToQuadrilateral(g,y,T,v,O,_,R,P).times(Q)}transformPoints(e){const i=e.length,a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,g=this.a31,y=this.a32,T=this.a33;for(let v=0;v<i;v+=2){const O=e[v],_=e[v+1],R=s*O+h*_+T;e[v]=(a*O+u*_+g)/R,e[v+1]=(l*O+c*_+y)/R}}transformPointsWithValues(e,i){const a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,g=this.a31,y=this.a32,T=this.a33,v=e.length;for(let O=0;O<v;O++){const _=e[O],R=i[O],P=s*_+h*R+T;e[O]=(a*_+u*R+g)/P,i[O]=(l*_+c*R+y)/P}}static squareToQuadrilateral(e,i,a,l,s,u,c,h){const g=e-a+s-c,y=i-l+u-h;if(g===0&&y===0)return new jn(a-e,s-a,e,l-i,u-l,i,0,0,1);{const T=a-s,v=c-s,O=l-u,_=h-u,R=T*_-v*O,P=(g*_-v*y)/R,Q=(T*y-g*O)/R;return new jn(a-e+P*a,c-e+Q*c,e,l-i+P*l,h-i+Q*h,i,P,Q,1)}}static quadrilateralToSquare(e,i,a,l,s,u,c,h){return jn.squareToQuadrilateral(e,i,a,l,s,u,c,h).buildAdjoint()}buildAdjoint(){return new jn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new jn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class gl extends dl{sampleGrid(e,i,a,l,s,u,c,h,g,y,T,v,O,_,R,P,Q,rt,st){const nt=jn.quadrilateralToQuadrilateral(l,s,u,c,h,g,y,T,v,O,_,R,P,Q,rt,st);return this.sampleGridWithTransform(e,i,a,nt)}sampleGridWithTransform(e,i,a,l){if(i<=0||a<=0)throw new j;const s=new Ae(i,a),u=new Float32Array(2*i);for(let c=0;c<a;c++){const h=u.length,g=c+.5;for(let y=0;y<h;y+=2)u[y]=y/2+.5,u[y+1]=g;l.transformPoints(u),dl.checkAndNudgePoints(e,u);try{for(let y=0;y<h;y+=2)e.get(Math.floor(u[y]),Math.floor(u[y+1]))&&s.set(y/2,c)}catch{throw new j}}return s}}class Zn{static setGridSampler(e){Zn.gridSampler=e}static getInstance(){return Zn.gridSampler}}Zn.gridSampler=new gl;class Cn{constructor(e,i){this.x=e,this.y=i}toResultPoint(){return new mt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xl{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(e){let u=a[0];a[0]=a[2],a[2]=u}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new fs(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(e[0],e[1],i),this.sampleLine(e[1],e[2],i),this.sampleLine(e[2],e[3],i),this.sampleLine(e[3],e[0],i)]);this.shift=this.getRotation(a,i);let l=0;for(let u=0;u<4;u++){let c=a[(this.shift+u)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(e,i){let a=0;e.forEach((l,s,u)=>{let c=(l>>i-2<<1)+(l&1);a=(a<<3)+c}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(Et.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new j}getCorrectedParameterData(e,i){let a,l;i?(a=7,l=2):(a=10,l=4);let s=a-l,u=new Int32Array(a);for(let h=a-1;h>=0;--h)u[h]=e&15,e>>=4;try{new ai(Bt.AZTEC_PARAM).decode(u,s)}catch{throw new j}let c=0;for(let h=0;h<l;h++)c=(c<<4)+u[h];return c}getBullsEyeCorners(e){let i=e,a=e,l=e,s=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,u,1,-1),v=this.getFirstDifferent(a,u,1,1),O=this.getFirstDifferent(l,u,-1,1),_=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let R=this.distancePoint(_,T)*this.nbCenterLayers/(this.distancePoint(s,i)*(this.nbCenterLayers+2));if(R<.75||R>1.25||!this.isWhiteOrBlackRectangle(T,v,O,_))break}i=T,a=v,l=O,s=_,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let c=new mt(i.getX()+.5,i.getY()-.5),h=new mt(a.getX()+.5,a.getY()+.5),g=new mt(l.getX()-.5,l.getY()+.5),y=new mt(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,h,g,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,i,a,l;try{let c=new en(this.image).detect();e=c[0],i=c[1],a=c[2],l=c[3]}catch{let h=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Cn(h+7,g-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Cn(h+7,g+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Cn(h-7,g+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Cn(h-7,g-7),!1,-1,-1).toResultPoint()}let s=Kt.round((e.getX()+l.getX()+i.getX()+a.getX())/4),u=Kt.round((e.getY()+l.getY()+i.getY()+a.getY())/4);try{let c=new en(this.image,15,s,u).detect();e=c[0],i=c[1],a=c[2],l=c[3]}catch{e=this.getFirstDifferent(new Cn(s+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Cn(s+7,u+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new Cn(s-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Cn(s-7,u-7),!1,-1,-1).toResultPoint()}return s=Kt.round((e.getX()+l.getX()+i.getX()+a.getX())/4),u=Kt.round((e.getY()+l.getY()+i.getY()+a.getY())/4),new Cn(s,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,i,a,l,s){let u=Zn.getInstance(),c=this.getDimension(),h=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return u.sampleGrid(e,c,c,h,h,g,h,g,g,h,g,i.getX(),i.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(e,i,a){let l=0,s=this.distanceResultPoint(e,i),u=s/a,c=e.getX(),h=e.getY(),g=u*(i.getX()-e.getX())/s,y=u*(i.getY()-e.getY())/s;for(let T=0;T<a;T++)this.image.get(Kt.round(c+T*g),Kt.round(h+T*y))&&(l|=1<<a-T-1);return l}isWhiteOrBlackRectangle(e,i,a,l){let s=3;e=new Cn(e.getX()-s,e.getY()+s),i=new Cn(i.getX()-s,i.getY()-s),a=new Cn(a.getX()+s,a.getY()-s),l=new Cn(l.getX()+s,l.getY()+s);let u=this.getColor(l,e);if(u===0)return!1;let c=this.getColor(e,i);return c!==u||(c=this.getColor(i,a),c!==u)?!1:(c=this.getColor(a,l),c===u)}getColor(e,i){let a=this.distancePoint(e,i),l=(i.getX()-e.getX())/a,s=(i.getY()-e.getY())/a,u=0,c=e.getX(),h=e.getY(),g=this.image.get(e.getX(),e.getY()),y=Math.ceil(a);for(let v=0;v<y;v++)c+=l,h+=s,this.image.get(Kt.round(c),Kt.round(h))!==g&&u++;let T=u/a;return T>.1&&T<.9?0:T<=.1===g?1:-1}getFirstDifferent(e,i,a,l){let s=e.getX()+a,u=e.getY()+l;for(;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=a,u+=l;for(s-=a,u-=l;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=a;for(s-=a;this.isValid(s,u)&&this.image.get(s,u)===i;)u+=l;return u-=l,new Cn(s,u)}expandSquare(e,i,a){let l=a/(2*i),s=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,h=(e[0].getY()+e[2].getY())/2,g=new mt(c+l*s,h+l*u),y=new mt(c-l*s,h-l*u);s=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,h=(e[1].getY()+e[3].getY())/2;let T=new mt(c+l*s,h+l*u),v=new mt(c-l*s,h-l*u);return[g,T,y,v]}isValid(e,i){return e>=0&&e<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(e){let i=Kt.round(e.getX()),a=Kt.round(e.getY());return this.isValid(i,a)}distancePoint(e,i){return Kt.distance(e.getX(),e.getY(),i.getX(),i.getY())}distanceResultPoint(e,i){return Kt.distance(e.getX(),e.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Et.truncDivision(this.nbLayers-4,8)+1)+15}}class Or{decode(e,i=null){let a=null,l=new xl(e.getBlackMatrix()),s=null,u=null;try{let y=l.detectMirror(!1);s=y.getPoints(),this.reportFoundResultPoints(i,s),u=new me().decode(y)}catch(y){a=y}if(u==null)try{let y=l.detectMirror(!0);s=y.getPoints(),this.reportFoundResultPoints(i,s),u=new me().decode(y)}catch(y){throw a??y}let c=new ct(u.getText(),u.getRawBytes(),u.getNumBits(),s,lt.AZTEC,St.currentTimeMillis()),h=u.getByteSegments();h!=null&&c.putMetadata(Mt.BYTE_SEGMENTS,h);let g=u.getECLevel();return g!=null&&c.putMetadata(Mt.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,i){if(e!=null){let a=e.get(Lt.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((l,s,u)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class Co extends wt{constructor(e=500){super(new Or,e)}}class De{decode(e,i){try{return this.doDecode(e,i)}catch{if(i&&i.get(Lt.TRY_HARDER)===!0&&e.isRotateSupported()){const s=e.rotateCounterClockwise(),u=this.doDecode(s,i),c=u.getResultMetadata();let h=270;c!==null&&c.get(Mt.ORIENTATION)===!0&&(h=h+c.get(Mt.ORIENTATION)%360),u.putMetadata(Mt.ORIENTATION,h);const g=u.getResultPoints();if(g!==null){const y=s.getHeight();for(let T=0;T<g.length;T++)g[T]=new mt(y-g[T].getY()-1,g[T].getX())}return u}else throw new j}}reset(){}doDecode(e,i){const a=e.getWidth(),l=e.getHeight();let s=new kt(a);const u=i&&i.get(Lt.TRY_HARDER)===!0,c=Math.max(1,l>>(u?8:5));let h;u?h=l:h=15;const g=Math.trunc(l/2);for(let y=0;y<h;y++){const T=Math.trunc((y+1)/2),v=(y&1)===0,O=g+c*(v?T:-T);if(O<0||O>=l)break;try{s=e.getBlackRow(O,s)}catch{continue}for(let _=0;_<2;_++){if(_===1&&(s.reverse(),i&&i.get(Lt.NEED_RESULT_POINT_CALLBACK)===!0)){const R=new Map;i.forEach((P,Q)=>R.set(Q,P)),R.delete(Lt.NEED_RESULT_POINT_CALLBACK),i=R}try{const R=this.decodeRow(O,s,i);if(_===1){R.putMetadata(Mt.ORIENTATION,180);const P=R.getResultPoints();P!==null&&(P[0]=new mt(a-P[0].getX()-1,P[0].getY()),P[1]=new mt(a-P[1].getX()-1,P[1].getY()))}return R}catch{}}}throw new j}static recordPattern(e,i,a){const l=a.length;for(let g=0;g<l;g++)a[g]=0;const s=e.getSize();if(i>=s)throw new j;let u=!e.get(i),c=0,h=i;for(;h<s;){if(e.get(h)!==u)a[c]++;else{if(++c===l)break;a[c]=1,u=!u}h++}if(!(c===l||c===l-1&&h===s))throw new j}static recordPatternInReverse(e,i,a){let l=a.length,s=e.get(i);for(;i>0&&l>=0;)e.get(--i)!==s&&(l--,s=!s);if(l>=0)throw new j;De.recordPattern(e,i+1,a)}static patternMatchVariance(e,i,a){const l=e.length;let s=0,u=0;for(let g=0;g<l;g++)s+=e[g],u+=i[g];if(s<u)return Number.POSITIVE_INFINITY;const c=s/u;a*=c;let h=0;for(let g=0;g<l;g++){const y=e[g],T=i[g]*c,v=y>T?y-T:T-y;if(v>a)return Number.POSITIVE_INFINITY;h+=v}return h/s}}class ot extends De{static findStartPattern(e){const i=e.getSize(),a=e.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),u=a,c=!1;const h=6;for(let g=a;g<i;g++)if(e.get(g)!==c)s[l]++;else{if(l===h-1){let y=ot.MAX_AVG_VARIANCE,T=-1;for(let v=ot.CODE_START_A;v<=ot.CODE_START_C;v++){const O=De.patternMatchVariance(s,ot.CODE_PATTERNS[v],ot.MAX_INDIVIDUAL_VARIANCE);O<y&&(y=O,T=v)}if(T>=0&&e.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,T]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new j}static decodeCode(e,i,a){De.recordPattern(e,a,i);let l=ot.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<ot.CODE_PATTERNS.length;u++){const c=ot.CODE_PATTERNS[u],h=this.patternMatchVariance(i,c,ot.MAX_INDIVIDUAL_VARIANCE);h<l&&(l=h,s=u)}if(s>=0)return s;throw new j}decodeRow(e,i,a){const l=a&&a.get(Lt.ASSUME_GS1)===!0,s=ot.findStartPattern(i),u=s[2];let c=0;const h=new Uint8Array(20);h[c++]=u;let g;switch(u){case ot.CODE_START_A:g=ot.CODE_CODE_A;break;case ot.CODE_START_B:g=ot.CODE_CODE_B;break;case ot.CODE_START_C:g=ot.CODE_CODE_C;break;default:throw new ut}let y=!1,T=!1,v="",O=s[0],_=s[1];const R=Int32Array.from([0,0,0,0,0,0]);let P=0,Q=0,rt=u,st=0,nt=!0,Zt=!1,_t=!1;for(;!y;){const qi=T;switch(T=!1,P=Q,Q=ot.decodeCode(i,R,_),h[c++]=Q,Q!==ot.CODE_STOP&&(nt=!0),Q!==ot.CODE_STOP&&(st++,rt+=st*Q),O=_,_+=R.reduce((ys,Wn)=>ys+Wn,0),Q){case ot.CODE_START_A:case ot.CODE_START_B:case ot.CODE_START_C:throw new ut}switch(g){case ot.CODE_CODE_A:if(Q<64)_t===Zt?v+=String.fromCharCode(32+Q):v+=String.fromCharCode(32+Q+128),_t=!1;else if(Q<96)_t===Zt?v+=String.fromCharCode(Q-64):v+=String.fromCharCode(Q+64),_t=!1;else switch(Q!==ot.CODE_STOP&&(nt=!1),Q){case ot.CODE_FNC_1:l&&(v.length===0?v+="]C1":v+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_A:!Zt&&_t?(Zt=!0,_t=!1):Zt&&_t?(Zt=!1,_t=!1):_t=!0;break;case ot.CODE_SHIFT:T=!0,g=ot.CODE_CODE_B;break;case ot.CODE_CODE_B:g=ot.CODE_CODE_B;break;case ot.CODE_CODE_C:g=ot.CODE_CODE_C;break;case ot.CODE_STOP:y=!0;break}break;case ot.CODE_CODE_B:if(Q<96)_t===Zt?v+=String.fromCharCode(32+Q):v+=String.fromCharCode(32+Q+128),_t=!1;else switch(Q!==ot.CODE_STOP&&(nt=!1),Q){case ot.CODE_FNC_1:l&&(v.length===0?v+="]C1":v+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_B:!Zt&&_t?(Zt=!0,_t=!1):Zt&&_t?(Zt=!1,_t=!1):_t=!0;break;case ot.CODE_SHIFT:T=!0,g=ot.CODE_CODE_A;break;case ot.CODE_CODE_A:g=ot.CODE_CODE_A;break;case ot.CODE_CODE_C:g=ot.CODE_CODE_C;break;case ot.CODE_STOP:y=!0;break}break;case ot.CODE_CODE_C:if(Q<100)Q<10&&(v+="0"),v+=Q;else switch(Q!==ot.CODE_STOP&&(nt=!1),Q){case ot.CODE_FNC_1:l&&(v.length===0?v+="]C1":v+="");break;case ot.CODE_CODE_A:g=ot.CODE_CODE_A;break;case ot.CODE_CODE_B:g=ot.CODE_CODE_B;break;case ot.CODE_STOP:y=!0;break}break}qi&&(g=g===ot.CODE_CODE_A?ot.CODE_CODE_B:ot.CODE_CODE_A)}const pn=_-O;if(_=i.getNextUnset(_),!i.isRange(_,Math.min(i.getSize(),_+(_-O)/2),!1))throw new j;if(rt-=st*P,rt%103!==P)throw new xt;const Vn=v.length;if(Vn===0)throw new j;Vn>0&&nt&&(g===ot.CODE_CODE_C?v=v.substring(0,Vn-2):v=v.substring(0,Vn-1));const Tn=(s[1]+s[0])/2,pe=O+pn/2,cn=h.length,Fn=new Uint8Array(cn);for(let qi=0;qi<cn;qi++)Fn[qi]=h[qi];const Qi=[new mt(Tn,e),new mt(pe,e)];return new ct(v,Fn,0,Qi,lt.CODE_128,new Date().getTime())}}ot.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ot.MAX_AVG_VARIANCE=.25,ot.MAX_INDIVIDUAL_VARIANCE=.7,ot.CODE_SHIFT=98,ot.CODE_CODE_C=99,ot.CODE_CODE_B=100,ot.CODE_CODE_A=101,ot.CODE_FNC_1=102,ot.CODE_FNC_2=97,ot.CODE_FNC_3=96,ot.CODE_FNC_4_A=101,ot.CODE_FNC_4_B=100,ot.CODE_START_A=103,ot.CODE_START_B=104,ot.CODE_START_C=105,ot.CODE_STOP=106;class We extends De{constructor(e=!1,i=!1){super(),this.usingCheckDigit=e,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,i,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=We.findAsteriskPattern(i,l),u=i.getNextSet(s[1]),c=i.getSize(),h,g;do{We.recordPattern(i,u,l);let R=We.toNarrowWidePattern(l);if(R<0)throw new j;h=We.patternToChar(R),this.decodeRowResult+=h,g=u;for(let P of l)u+=P;u=i.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let R of l)y+=R;let T=u-g-y;if(u!==c&&T*2<y)throw new j;if(this.usingCheckDigit){let R=this.decodeRowResult.length-1,P=0;for(let Q=0;Q<R;Q++)P+=We.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(R)!==We.ALPHABET_STRING.charAt(P%43))throw new xt;this.decodeRowResult=this.decodeRowResult.substring(0,R)}if(this.decodeRowResult.length===0)throw new j;let v;this.extendedMode?v=We.decodeExtended(this.decodeRowResult):v=this.decodeRowResult;let O=(s[1]+s[0])/2,_=g+y/2;return new ct(v,null,0,[new mt(O,e),new mt(_,e)],lt.CODE_39,new Date().getTime())}static findAsteriskPattern(e,i){let a=e.getSize(),l=e.getNextSet(0),s=0,u=l,c=!1,h=i.length;for(let g=l;g<a;g++)if(e.get(g)!==c)i[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(i)===We.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=i[0]+i[1],i.copyWithin(0,2,2+s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new j}static toNarrowWidePattern(e){let i=e.length,a=0,l;do{let s=2147483647;for(let h of e)h<s&&h>a&&(s=h);a=s,l=0;let u=0,c=0;for(let h=0;h<i;h++){let g=e[h];g>a&&(c|=1<<i-1-h,l++,u+=g)}if(l===3){for(let h=0;h<i&&l>0;h++){let g=e[h];if(g>a&&(l--,g*2>=u))return-1}return c}}while(l>3);return-1}static patternToChar(e){for(let i=0;i<We.CHARACTER_ENCODINGS.length;i++)if(We.CHARACTER_ENCODINGS[i]===e)return We.ALPHABET_STRING.charAt(i);if(e===We.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(e){let i=e.length,a="";for(let l=0;l<i;l++){let s=e.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=e.charAt(l+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new ut;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new ut;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new ut;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new ut;break}a+=c,l++}else a+=s}return a}}We.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",We.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],We.ASTERISK_ENCODING=148;class ee extends De{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,i,a){let l=this.decodeStart(i),s=this.decodeEnd(i),u=new Pt;ee.decodeMiddle(i,l[1],s[0],u);let c=u.toString(),h=null;a!=null&&(h=a.get(Lt.ALLOWED_LENGTHS)),h==null&&(h=ee.DEFAULT_ALLOWED_LENGTHS);let g=c.length,y=!1,T=0;for(let _ of h){if(g===_){y=!0;break}_>T&&(T=_)}if(!y&&g>T&&(y=!0),!y)throw new ut;const v=[new mt(l[1],e),new mt(s[0],e)];return new ct(c,null,0,v,lt.ITF,new Date().getTime())}static decodeMiddle(e,i,a,l){let s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);i<a;){De.recordPattern(e,i,s);for(let g=0;g<5;g++){let y=2*g;u[g]=s[y],c[g]=s[y+1]}let h=ee.decodeDigit(u);l.append(h.toString()),h=this.decodeDigit(c),l.append(h.toString()),s.forEach(function(g){i+=g})}}decodeStart(e){let i=ee.skipWhiteSpace(e),a=ee.findGuardPattern(e,i,ee.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(e,a[0]),a}validateQuietZone(e,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let l=i-1;a>0&&l>=0&&!e.get(l);l--)a--;if(a!==0)throw new j}static skipWhiteSpace(e){const i=e.getSize(),a=e.getNextSet(0);if(a===i)throw new j;return a}decodeEnd(e){e.reverse();try{let i=ee.skipWhiteSpace(e),a;try{a=ee.findGuardPattern(e,i,ee.END_PATTERN_REVERSED[0])}catch(s){s instanceof j&&(a=ee.findGuardPattern(e,i,ee.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,a[0]);let l=a[0];return a[0]=e.getSize()-a[1],a[1]=e.getSize()-l,a}finally{e.reverse()}}static findGuardPattern(e,i,a){let l=a.length,s=new Int32Array(l),u=e.getSize(),c=!1,h=0,g=i;s.fill(0);for(let y=i;y<u;y++)if(e.get(y)!==c)s[h]++;else{if(h===l-1){if(De.patternMatchVariance(s,a,ee.MAX_INDIVIDUAL_VARIANCE)<ee.MAX_AVG_VARIANCE)return[g,y];g+=s[0]+s[1],St.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new j}static decodeDigit(e){let i=ee.MAX_AVG_VARIANCE,a=-1,l=ee.PATTERNS.length;for(let s=0;s<l;s++){let u=ee.PATTERNS[s],c=De.patternMatchVariance(e,u,ee.MAX_INDIVIDUAL_VARIANCE);c<i?(i=c,a=s):c===i&&(a=-1)}if(a>=0)return a%10;throw new j}}ee.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ee.MAX_AVG_VARIANCE=.38,ee.MAX_INDIVIDUAL_VARIANCE=.5,ee.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ee.START_PATTERN=Int32Array.from([1,1,1,1]),ee.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ne extends De{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let i=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!i;){s=Int32Array.from([0,0,0]),a=ne.findGuardPattern(e,l,!1,this.START_END_PATTERN,s);let u=a[0];l=a[1];let c=u-(l-u);c>=0&&(i=e.isRange(c,u,!1))}return a}static checkChecksum(e){return ne.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let a=parseInt(e.charAt(i-1),10);return ne.getStandardUPCEANChecksum(e.substring(0,i-1))===a}static getStandardUPCEANChecksum(e){let i=e.length,a=0;for(let l=i-1;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}return(1e3-a)%10}static decodeEnd(e,i){return ne.findGuardPattern(e,i,!1,ne.START_END_PATTERN,new Int32Array(ne.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,i,a,l){return this.findGuardPattern(e,i,a,l,new Int32Array(l.length))}static findGuardPattern(e,i,a,l,s){let u=e.getSize();i=a?e.getNextUnset(i):e.getNextSet(i);let c=0,h=i,g=l.length,y=a;for(let T=i;T<u;T++)if(e.get(T)!==y)s[c]++;else{if(c===g-1){if(De.patternMatchVariance(s,l,ne.MAX_INDIVIDUAL_VARIANCE)<ne.MAX_AVG_VARIANCE)return Int32Array.from([h,T]);h+=s[0]+s[1];let v=s.slice(2,s.length-1);for(let O=0;O<c-1;O++)s[O]=v[O];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,y=!y}throw new j}static decodeDigit(e,i,a,l){this.recordPattern(e,a,i);let s=this.MAX_AVG_VARIANCE,u=-1,c=l.length;for(let h=0;h<c;h++){let g=l[h],y=De.patternMatchVariance(i,g,ne.MAX_INDIVIDUAL_VARIANCE);y<s&&(s=y,u=h)}if(u>=0)return u;throw new j}}ne.MAX_AVG_VARIANCE=.48,ne.MAX_INDIVIDUAL_VARIANCE=.7,ne.START_END_PATTERN=Int32Array.from([1,1,1]),ne.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ne.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ne.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class $a{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),u=l.toString(),c=$a.parseExtensionString(u),h=[new mt((a[0]+a[1])/2,e),new mt(s,e)],g=new ct(u,null,0,h,lt.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),u=i[1],c=0;for(let g=0;g<5&&u<s;g++){let y=ne.decodeDigit(e,l,u,ne.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let T of l)u+=T;y>=10&&(c|=1<<4-g),g!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==5)throw new j;let h=this.determineCheckDigit(c);if($a.extensionChecksum(a.toString())!==h)throw new j;return u}static extensionChecksum(e){let i=e.length,a=0;for(let l=i-2;l>=0;l-=2)a+=e.charAt(l).charCodeAt(0)-48;a*=3;for(let l=i-1;l>=0;l-=2)a+=e.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(e){for(let i=0;i<10;i++)if(e===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new j}static parseExtensionString(e){if(e.length!==5)return null;let i=$a.parseExtension5String(e);return i==null?null:new Map([[Mt.SUGGESTED_PRICE,i]])}static parseExtension5String(e){let i;switch(e.charAt(0)){case"0":i="£";break;case"5":i="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(e.substring(1)),l=(a/100).toString(),s=a%100,u=s<10?"0"+s:s.toString();return i+l+"."+u}}class Al{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),u=l.toString(),c=Al.parseExtensionString(u),h=[new mt((a[0]+a[1])/2,e),new mt(s,e)],g=new ct(u,null,0,h,lt.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),u=i[1],c=0;for(let h=0;h<2&&u<s;h++){let g=ne.decodeDigit(e,l,u,ne.L_AND_G_PATTERNS);a+=String.fromCharCode(48+g%10);for(let y of l)u+=y;g>=10&&(c|=1<<1-h),h!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(a.length!==2)throw new j;if(parseInt(a.toString())%4!==c)throw new j;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[Mt.ISSUE_NUMBER,parseInt(e)]])}}class hs{static decodeRow(e,i,a){let l=ne.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new $a().decodeRow(e,i,l)}catch{return new Al().decodeRow(e,i,l)}}}hs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ie extends ne{constructor(){super(),this.decodeRowStringBuffer="",ie.L_AND_G_PATTERNS=ie.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let i=ie.L_PATTERNS[e-10],a=new Int32Array(i.length);for(let l=0;l<i.length;l++)a[l]=i[i.length-l-1];ie.L_AND_G_PATTERNS[e]=a}}decodeRow(e,i,a){let l=ie.findStartGuardPattern(i),s=a==null?null:a.get(Lt.NEED_RESULT_POINT_CALLBACK);if(s!=null){const nt=new mt((l[0]+l[1])/2,e);s.foundPossibleResultPoint(nt)}let u=this.decodeMiddle(i,l,this.decodeRowStringBuffer),c=u.rowOffset,h=u.resultString;if(s!=null){const nt=new mt(c,e);s.foundPossibleResultPoint(nt)}let g=this.decodeEnd(i,c);if(s!=null){const nt=new mt((g[0]+g[1])/2,e);s.foundPossibleResultPoint(nt)}let y=g[1],T=y+(y-g[0]);if(T>=i.getSize()||!i.isRange(y,T,!1))throw new j;let v=h.toString();if(v.length<8)throw new ut;if(!ie.checkChecksum(v))throw new xt;let O=(l[1]+l[0])/2,_=(g[1]+g[0])/2,R=this.getBarcodeFormat(),P=[new mt(O,e),new mt(_,e)],Q=new ct(v,null,0,P,R,new Date().getTime()),rt=0;try{let nt=hs.decodeRow(e,i,g[1]);Q.putMetadata(Mt.UPC_EAN_EXTENSION,nt.getText()),Q.putAllMetadata(nt.getResultMetadata()),Q.addResultPoints(nt.getResultPoints()),rt=nt.getText().length}catch{}let st=a==null?null:a.get(Lt.ALLOWED_EAN_EXTENSIONS);if(st!=null){let nt=!1;for(let Zt in st)if(rt.toString()===Zt){nt=!0;break}if(!nt)throw new j}return Q}decodeEnd(e,i){return ie.findGuardPattern(e,i,!1,ie.START_END_PATTERN,new Int32Array(ie.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ie.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let i=e.length;if(i===0)return!1;let a=parseInt(e.charAt(i-1),10);return ie.getStandardUPCEANChecksum(e.substring(0,i-1))===a}static getStandardUPCEANChecksum(e){let i=e.length,a=0;for(let l=i-1;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=e.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new ut;a+=s}return(1e3-a)%10}}class ri extends ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),u=i[1],c=0;for(let g=0;g<6&&u<s;g++){let y=ie.decodeDigit(e,l,u,ie.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let T of l)u+=T;y>=10&&(c|=1<<5-g)}a=ri.determineFirstDigit(a,c),u=ie.findGuardPattern(e,u,!0,ie.MIDDLE_PATTERN,new Int32Array(ie.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&u<s;g++){let y=ie.decodeDigit(e,l,u,ie.L_PATTERNS);a+=String.fromCharCode(48+y);for(let T of l)u+=T}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return lt.EAN_13}static determineFirstDigit(e,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return e=String.fromCharCode(48+a)+e,e;throw new j}}ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class bi extends ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,i,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),u=i[1];for(let h=0;h<4&&u<s;h++){let g=ie.decodeDigit(e,l,u,ie.L_PATTERNS);a+=String.fromCharCode(48+g);for(let y of l)u+=y}u=ie.findGuardPattern(e,u,!0,ie.MIDDLE_PATTERN,new Int32Array(ie.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<s;h++){let g=ie.decodeDigit(e,l,u,ie.L_PATTERNS);a+=String.fromCharCode(48+g);for(let y of l)u+=y}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return lt.EAN_8}}class tr extends ie{constructor(){super(...arguments),this.ean13Reader=new ri}getBarcodeFormat(){return lt.UPC_A}decode(e,i){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,i,a))}decodeMiddle(e,i,a){return this.ean13Reader.decodeMiddle(e,i,a)}maybeReturnResult(e){let i=e.getText();if(i.charAt(0)==="0"){let a=new ct(i.substring(1),null,null,e.getResultPoints(),lt.UPC_A);return e.getResultMetadata()!=null&&a.putAllMetadata(e.getResultMetadata()),a}else throw new j}reset(){this.ean13Reader.reset()}}class wn extends ie{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,i,a){const l=this.decodeMiddleCounters.map(g=>g);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=e.getSize();let u=i[1],c=0;for(let g=0;g<6&&u<s;g++){const y=wn.decodeDigit(e,l,u,wn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let T of l)u+=T;y>=10&&(c|=1<<5-g)}let h=wn.determineNumSysAndCheckDigit(a,c);return{rowOffset:u,resultString:h}}decodeEnd(e,i){return wn.findGuardPatternWithoutCounters(e,i,!0,wn.MIDDLE_END_PATTERN)}checkChecksum(e){return ie.checkChecksum(wn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,i){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),u=String.fromCharCode(48+l);return s+e+u}throw j.getNotFoundInstance()}getBarcodeFormat(){return lt.UPC_E}static convertUPCEtoUPCA(e){const i=e.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new Pt;a.append(e.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(l),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(l);break}return e.length>=8&&a.append(e.charAt(7)),a.toString()}}wn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ml extends De{constructor(e){super();let i=e==null?null:e.get(Lt.POSSIBLE_FORMATS),a=[];E(i)?(a.push(new ri),a.push(new tr),a.push(new bi),a.push(new wn)):(i.indexOf(lt.EAN_13)>-1&&a.push(new ri),i.indexOf(lt.UPC_A)>-1&&a.push(new tr),i.indexOf(lt.EAN_8)>-1&&a.push(new bi),i.indexOf(lt.UPC_E)>-1&&a.push(new wn)),this.readers=a}decodeRow(e,i,a){for(let l of this.readers)try{const s=l.decodeRow(e,i,a),u=s.getBarcodeFormat()===lt.EAN_13&&s.getText().charAt(0)==="0",c=a==null?null:a.get(Lt.POSSIBLE_FORMATS),h=c==null||c.includes(lt.UPC_A);if(u&&h){const g=s.getRawBytes(),y=new ct(s.getText().substring(1),g,g?g.length:null,s.getResultPoints(),lt.UPC_A);return y.putAllMetadata(s.getResultMetadata()),y}return s}catch{}throw new j}reset(){for(let e of this.readers)e.reset()}}class on extends De{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,i){for(let a=0;a<i.length;a++)if(De.patternMatchVariance(e,i[a],on.MAX_INDIVIDUAL_VARIANCE)<on.MAX_AVG_VARIANCE)return a;throw new j}static count(e){return Kt.sum(new Int32Array(e))}static increment(e,i){let a=0,l=i[0];for(let s=1;s<e.length;s++)i[s]>l&&(l=i[s],a=s);e[a]++}static decrement(e,i){let a=0,l=i[0];for(let s=1;s<e.length;s++)i[s]<l&&(l=i[s],a=s);e[a]--}static isFinderPattern(e){let i=e[0]+e[1],a=i+e[2]+e[3],l=i/a;if(l>=on.MIN_FINDER_PATTERN_RATIO&&l<=on.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of e)c>u&&(u=c),c<s&&(s=c);return u<10*s}return!1}}on.MAX_AVG_VARIANCE=.2,on.MAX_INDIVIDUAL_VARIANCE=.45,on.MIN_FINDER_PATTERN_RATIO=9.5/12,on.MAX_FINDER_PATTERN_RATIO=12.5/14;class ji{constructor(e,i){this.value=e,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ji))return!1;const i=e;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class da{constructor(e,i,a,l,s){this.value=e,this.startEnd=i,this.value=e,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new mt(a,s)),this.resultPoints.push(new mt(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof da))return!1;const i=e;return this.value===i.value}hashCode(){return this.value}}class On{constructor(){}static getRSSvalue(e,i,a){let l=0;for(let h of e)l+=h;let s=0,u=0,c=e.length;for(let h=0;h<c-1;h++){let g;for(g=1,u|=1<<h;g<e[h];g++,u&=~(1<<h)){let y=On.combins(l-g-1,c-h-2);if(a&&u===0&&l-g-(c-h-1)>=c-h-1&&(y-=On.combins(l-g-(c-h),c-h-2)),c-h-1>1){let T=0;for(let v=l-g-(c-h-2);v>i;v--)T+=On.combins(l-g-v-1,c-h-3);y-=T*(c-1-h)}else l-g>i&&y--;s+=y}l-=g}return s}static combins(e,i){let a,l;e-i>i?(l=i,a=e-i):(l=e-i,a=i);let s=1,u=1;for(let c=e;c>a;c--)s*=c,u<=l&&(s/=u,u++);for(;u<=l;)s/=u,u++;return s}}class wo{static buildBitArray(e){let i=e.length*2-1;e[e.length-1].getRightChar()==null&&(i-=1);let a=12*i,l=new kt(a),s=0,c=e[0].getRightChar().getValue();for(let h=11;h>=0;--h)(c&1<<h)!=0&&l.set(s),s++;for(let h=1;h<e.length;++h){let g=e[h],y=g.getLeftChar().getValue();for(let T=11;T>=0;--T)(y&1<<T)!=0&&l.set(s),s++;if(g.getRightChar()!=null){let T=g.getRightChar().getValue();for(let v=11;v>=0;--v)(T&1<<v)!=0&&l.set(s),s++}}return l}}class vi{constructor(e,i){i?this.decodedInformation=null:(this.finished=e,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ir{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Sn extends Ir{constructor(e,i){super(e),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Sn.FNC1}}Sn.FNC1="$";class Ni extends Ir{constructor(e,i,a){super(e),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Yn extends Ir{constructor(e,i,a){if(super(e),i<0||i>10||a<0||a>10)throw new ut;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Yn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Yn.FNC1}isAnyFNC1(){return this.firstDigit===Yn.FNC1||this.secondDigit===Yn.FNC1}}Yn.FNC1=10;class ft{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new j;let i=e.substring(0,2);for(let s of ft.TWO_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(2,s[2],e):ft.processFixedAI(2,s[1],e);if(e.length<3)throw new j;let a=e.substring(0,3);for(let s of ft.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(3,s[2],e):ft.processFixedAI(3,s[1],e);for(let s of ft.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(4,s[2],e):ft.processFixedAI(4,s[1],e);if(e.length<4)throw new j;let l=e.substring(0,4);for(let s of ft.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(4,s[2],e):ft.processFixedAI(4,s[1],e);throw new j}static processFixedAI(e,i,a){if(a.length<e)throw new j;let l=a.substring(0,e);if(a.length<e+i)throw new j;let s=a.substring(e,e+i),u=a.substring(e+i),c="("+l+")"+s,h=ft.parseFieldsInGeneralPurpose(u);return h==null?c:c+h}static processVariableAI(e,i,a){let l=a.substring(0,e),s;a.length<e+i?s=a.length:s=e+i;let u=a.substring(e,s),c=a.substring(s),h="("+l+")"+u,g=ft.parseFieldsInGeneralPurpose(c);return g==null?h:h+g}}ft.VARIABLE_LENGTH=[],ft.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ft.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ft.VARIABLE_LENGTH,20],["22",ft.VARIABLE_LENGTH,29],["30",ft.VARIABLE_LENGTH,8],["37",ft.VARIABLE_LENGTH,8],["90",ft.VARIABLE_LENGTH,30],["91",ft.VARIABLE_LENGTH,30],["92",ft.VARIABLE_LENGTH,30],["93",ft.VARIABLE_LENGTH,30],["94",ft.VARIABLE_LENGTH,30],["95",ft.VARIABLE_LENGTH,30],["96",ft.VARIABLE_LENGTH,30],["97",ft.VARIABLE_LENGTH,3],["98",ft.VARIABLE_LENGTH,30],["99",ft.VARIABLE_LENGTH,30]],ft.THREE_DIGIT_DATA_LENGTH=[["240",ft.VARIABLE_LENGTH,30],["241",ft.VARIABLE_LENGTH,30],["242",ft.VARIABLE_LENGTH,6],["250",ft.VARIABLE_LENGTH,30],["251",ft.VARIABLE_LENGTH,30],["253",ft.VARIABLE_LENGTH,17],["254",ft.VARIABLE_LENGTH,20],["400",ft.VARIABLE_LENGTH,30],["401",ft.VARIABLE_LENGTH,30],["402",17],["403",ft.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ft.VARIABLE_LENGTH,20],["421",ft.VARIABLE_LENGTH,15],["422",3],["423",ft.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ft.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ft.VARIABLE_LENGTH,15],["391",ft.VARIABLE_LENGTH,18],["392",ft.VARIABLE_LENGTH,15],["393",ft.VARIABLE_LENGTH,18],["703",ft.VARIABLE_LENGTH,30]],ft.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ft.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ft.VARIABLE_LENGTH,20],["8003",ft.VARIABLE_LENGTH,30],["8004",ft.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ft.VARIABLE_LENGTH,30],["8008",ft.VARIABLE_LENGTH,12],["8018",18],["8020",ft.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ft.VARIABLE_LENGTH,70],["8200",ft.VARIABLE_LENGTH,70]];class He{constructor(e){this.buffer=new Pt,this.information=e}decodeAllCodes(e,i){let a=i,l=null;do{let s=this.decodeGeneralPurposeField(a,l),u=ft.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&e.append(u),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let i=e;i<e+3;++i)if(this.information.get(i))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(e,4);return s===0?new Yn(this.information.getSize(),Yn.FNC1,Yn.FNC1):new Yn(this.information.getSize(),s-1,Yn.FNC1)}let i=this.extractNumericValueFromBitArray(e,7),a=(i-8)/11,l=(i-8)%11;return new Yn(e+7,a,l)}extractNumericValueFromBitArray(e,i){return He.extractNumericValueFromBitArray(this.information,e,i)}static extractNumericValueFromBitArray(e,i,a){let l=0;for(let s=0;s<a;++s)e.get(i+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(e,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(e);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Ni(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Ni(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),e=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),e=i.isFinished()):(i=this.parseNumericBlock(),e=i.isFinished()),!(a!==this.current.getPosition())&&!e)break}while(!e);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let i;return e.isSecondDigitFNC1()?i=new Ni(this.current.getPosition(),this.buffer.toString()):i=new Ni(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new vi(!0,i)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let i=new Ni(this.current.getPosition(),this.buffer.toString());return new vi(!0,i)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new Ni(this.current.getPosition(),this.buffer.toString());return new vi(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let i=new Ni(this.current.getPosition(),this.buffer.toString());return new vi(!0,i)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vi(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new Sn(e+5,Sn.FNC1);if(i>=5&&i<15)return new Sn(e+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(e,7);if(a>=64&&a<90)return new Sn(e+7,""+(a+1));if(a>=90&&a<116)return new Sn(e+7,""+(a+7));let l=this.extractNumericValueFromBitArray(e,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new ut}return new Sn(e+8,s)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,5);if(i>=5&&i<16)return!0;if(e+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(e,6);return a>=16&&a<63}decodeAlphanumeric(e){let i=this.extractNumericValueFromBitArray(e,5);if(i===15)return new Sn(e+5,Sn.FNC1);if(i>=5&&i<15)return new Sn(e+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(e,6);if(a>=32&&a<58)return new Sn(e+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new yn("Decoding invalid alphanumeric value: "+a)}return new Sn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<5&&i+e<this.information.getSize();++i)if(i===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+i))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let i=e;i<e+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let i=0;i<4&&i+e<this.information.getSize();++i)if(this.information.get(e+i))return!1;return!0}}class dn{constructor(e){this.information=e,this.generalDecoder=new He(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ke extends dn{constructor(e){super(e)}encodeCompressedGtin(e,i){e.append("(01)");let a=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,i,a)}encodeCompressedGtinWithoutAI(e,i,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);s/100===0&&e.append("0"),s/10===0&&e.append("0"),e.append(s)}Ke.appendCheckDigit(e,a)}static appendCheckDigit(e,i){let a=0;for(let l=0;l<13;l++){let s=e.charAt(l+i).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),e.append(a)}}Ke.GTIN_SIZE=40;class Mi extends Ke{constructor(e){super(e)}parseInformation(){let e=new Pt;e.append("(01)");let i=e.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Mi.HEADER_SIZE,4);return e.append(a),this.encodeCompressedGtinWithoutAI(e,Mi.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(e,Mi.HEADER_SIZE+44)}}Mi.HEADER_SIZE=4;class _r extends dn{constructor(e){super(e)}parseInformation(){let e=new Pt;return this.getGeneralDecoder().decodeAllCodes(e,_r.HEADER_SIZE)}}_r.HEADER_SIZE=5;class Dr extends Ke{constructor(e){super(e)}encodeCompressedWeight(e,i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(e,l);let s=this.checkWeight(l),u=1e5;for(let c=0;c<5;++c)s/u===0&&e.append("0"),u/=10;e.append(s)}}class Qn extends Dr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Qn.HEADER_SIZE+Dr.GTIN_SIZE+Qn.WEIGHT_SIZE)throw new j;let e=new Pt;return this.encodeCompressedGtin(e,Qn.HEADER_SIZE),this.encodeCompressedWeight(e,Qn.HEADER_SIZE+Dr.GTIN_SIZE,Qn.WEIGHT_SIZE),e.toString()}}Qn.HEADER_SIZE=5,Qn.WEIGHT_SIZE=15;class er extends Qn{constructor(e){super(e)}addWeightCode(e,i){e.append("(3103)")}checkWeight(e){return e}}class El extends Qn{constructor(e){super(e)}addWeightCode(e,i){i<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class gn extends Ke{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<gn.HEADER_SIZE+Ke.GTIN_SIZE)throw new j;let e=new Pt;this.encodeCompressedGtin(e,gn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE+Ke.GTIN_SIZE,gn.LAST_DIGIT_SIZE);e.append("(392"),e.append(i),e.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(gn.HEADER_SIZE+Ke.GTIN_SIZE+gn.LAST_DIGIT_SIZE,null);return e.append(a.getNewString()),e.toString()}}gn.HEADER_SIZE=8,gn.LAST_DIGIT_SIZE=2;class Ge extends Ke{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ge.HEADER_SIZE+Ke.GTIN_SIZE)throw new j;let e=new Pt;this.encodeCompressedGtin(e,Ge.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+Ke.GTIN_SIZE,Ge.LAST_DIGIT_SIZE);e.append("(393"),e.append(i),e.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+Ke.GTIN_SIZE+Ge.LAST_DIGIT_SIZE,Ge.FIRST_THREE_DIGITS_SIZE);a/100==0&&e.append("0"),a/10==0&&e.append("0"),e.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ge.HEADER_SIZE+Ke.GTIN_SIZE+Ge.LAST_DIGIT_SIZE+Ge.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Ge.HEADER_SIZE=8,Ge.LAST_DIGIT_SIZE=2,Ge.FIRST_THREE_DIGITS_SIZE=10;class Ee extends Dr{constructor(e,i,a){super(e),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Ee.HEADER_SIZE+Ee.GTIN_SIZE+Ee.WEIGHT_SIZE+Ee.DATE_SIZE)throw new j;let e=new Pt;return this.encodeCompressedGtin(e,Ee.HEADER_SIZE),this.encodeCompressedWeight(e,Ee.HEADER_SIZE+Ee.GTIN_SIZE,Ee.WEIGHT_SIZE),this.encodeCompressedDate(e,Ee.HEADER_SIZE+Ee.GTIN_SIZE+Ee.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Ee.DATE_SIZE);if(a==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let u=a;u/10==0&&e.append("0"),e.append(u),s/10==0&&e.append("0"),e.append(s),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,i){e.append("("),e.append(this.firstAIdigits),e.append(i/1e5),e.append(")")}checkWeight(e){return e%1e5}}Ee.HEADER_SIZE=8,Ee.WEIGHT_SIZE=20,Ee.DATE_SIZE=16;function Yi(p){try{if(p.get(1))return new Mi(p);if(!p.get(2))return new _r(p);switch(He.extractNumericValueFromBitArray(p,1,4)){case 4:return new er(p);case 5:return new El(p)}switch(He.extractNumericValueFromBitArray(p,1,5)){case 12:return new gn(p);case 13:return new Ge(p)}switch(He.extractNumericValueFromBitArray(p,1,7)){case 56:return new Ee(p,"310","11");case 57:return new Ee(p,"320","11");case 58:return new Ee(p,"310","13");case 59:return new Ee(p,"320","13");case 60:return new Ee(p,"310","15");case 61:return new Ee(p,"320","15");case 62:return new Ee(p,"310","17");case 63:return new Ee(p,"320","17")}}catch(e){throw console.log(e),new yn("unknown decoder: "+p)}}class Me{constructor(e,i,a,l){this.leftchar=e,this.rightchar=i,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,i){return e instanceof Me?Me.equalsOrNull(e.leftchar,i.leftchar)&&Me.equalsOrNull(e.rightchar,i.rightchar)&&Me.equalsOrNull(e.finderpattern,i.finderpattern):!1}static equalsOrNull(e,i){return e===null?i===null:Me.equals(e,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Rr{constructor(e,i,a){this.pairs=e,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,i){return e instanceof Rr?this.checkEqualitity(e,i)&&e.wasReversed===i.wasReversed:!1}checkEqualitity(e,i){if(!e||!i)return;let a;return e.forEach((l,s)=>{i.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(a=!0)})}),a}}class tt extends on{constructor(e){super(...arguments),this.pairs=new Array(tt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,i,a){this.pairs.length=0,this.startFromEven=!1;try{return tt.constructResult(this.decodeRow2pairs(e,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,tt.constructResult(this.decodeRow2pairs(e,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,e))}catch(s){if(s instanceof j){if(!this.pairs.length)throw new j;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new j}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return e&&(this.rows=this.rows.reverse()),i}checkRows(e,i){for(let a=i;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!tt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(e);s.push(l);try{return this.checkRows(s,a+1)}catch(u){this.verbose&&console.log(u)}}throw new j}static isValidSequence(e){for(let i of tt.FINDER_PATTERN_SEQUENCES){if(e.length>i.length)continue;let a=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=i[l]){a=!1;break}if(a)return!0}return!1}storeRow(e,i){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let u=this.rows[a];if(u.getRowNumber()>e){s=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),a++}s||l||tt.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Rr(this.pairs,e,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,i){for(let a of i)if(a.getPairs().length!==e.length){for(let l of a.getPairs())for(let s of e)if(Me.equals(l,s))break}}static isPartialRow(e,i){for(let a of i){let l=!0;for(let s of e){let u=!1;for(let c of a.getPairs())if(s.equals(c)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let i=wo.buildBitArray(e),l=Yi(i).parseInformation(),s=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new ct(l,null,null,c,lt.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),i=e.getLeftChar(),a=e.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let h=this.pairs.get(c);l+=h.getLeftChar().getChecksumPortion(),s++;let g=h.getRightChar();g!=null&&(l+=g.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==i.getValue()}static getNextSecondBar(e,i){let a;return e.get(i)?(a=e.getNextUnset(i),a=e.getNextSet(a)):(a=e.getNextSet(i),a=e.getNextUnset(a)),a}retrieveNextPair(e,i,a){let l=i.length%2==0;this.startFromEven&&(l=!l);let s,u=!0,c=-1;do this.findNextPair(e,i,c),s=this.parseFoundFinderPattern(e,a,l),s==null?c=tt.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(e,s,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new j;let g;try{g=this.decodeDataCharacter(e,s,l,!1)}catch(y){g=null,this.verbose&&console.log(y)}return new Me(h,g,s,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=e.getSize(),u;a>=0?u=a:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let c=i.length%2!=0;this.startFromEven&&(c=!c);let h=!1;for(;u<s&&(h=!e.get(u),!!h);)u++;let g=0,y=u;for(let T=u;T<s;T++)if(e.get(T)!=h)l[g]++;else{if(g==3){if(c&&tt.reverseCounters(l),tt.isFinderPattern(l)){this.startEnd[0]=y,this.startEnd[1]=T;return}c&&tt.reverseCounters(l),y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,g--}else g++;l[g]=1,h=!h}throw new j}static reverseCounters(e){let i=e.length;for(let a=0;a<i/2;++a){let l=e[a];e[a]=e[i-a-1],e[i-a-1]=l}}parseFoundFinderPattern(e,i,a){let l,s,u;if(a){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,l=this.startEnd[0]-g,s=g,u=this.startEnd[1]}else s=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let c=this.getDecodeFinderCounters();St.arraycopy(c,0,c,1,c.length-1),c[0]=l;let h;try{h=this.parseFinderValue(c,tt.FINDER_PATTERNS)}catch{return null}return new da(h,[s,u],s,u,i)}decodeDataCharacter(e,i,a,l){let s=this.getDataCharacterCounters();for(let pe=0;pe<s.length;pe++)s[pe]=0;if(l)tt.recordPatternInReverse(e,i.getStartEnd()[0],s);else{tt.recordPattern(e,i.getStartEnd()[1],s);for(let pe=0,cn=s.length-1;pe<cn;pe++,cn--){let Fn=s[pe];s[pe]=s[cn],s[cn]=Fn}}let u=17,c=Kt.sum(new Int32Array(s))/u,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new j;let g=this.getOddCounts(),y=this.getEvenCounts(),T=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let pe=0;pe<s.length;pe++){let cn=1*s[pe]/c,Fn=cn+.5;if(Fn<1){if(cn<.3)throw new j;Fn=1}else if(Fn>8){if(cn>8.7)throw new j;Fn=8}let Qi=pe/2;(pe&1)==0?(g[Qi]=Fn,T[Qi]=cn-Fn):(y[Qi]=Fn,v[Qi]=cn-Fn)}this.adjustOddEvenCounts(u);let O=4*i.getValue()+(a?0:2)+(l?0:1)-1,_=0,R=0;for(let pe=g.length-1;pe>=0;pe--){if(tt.isNotA1left(i,a,l)){let cn=tt.WEIGHTS[O][2*pe];R+=g[pe]*cn}_+=g[pe]}let P=0;for(let pe=y.length-1;pe>=0;pe--)if(tt.isNotA1left(i,a,l)){let cn=tt.WEIGHTS[O][2*pe+1];P+=y[pe]*cn}let Q=R+P;if((_&1)!=0||_>13||_<4)throw new j;let rt=(13-_)/2,st=tt.SYMBOL_WIDEST[rt],nt=9-st,Zt=On.getRSSvalue(g,st,!0),_t=On.getRSSvalue(y,nt,!1),pn=tt.EVEN_TOTAL_SUBSET[rt],Vn=tt.GSUM[rt],Tn=Zt*pn+_t+Vn;return new ji(Tn,Q)}static isNotA1left(e,i,a){return!(e.getValue()==0&&i&&a)}adjustOddEvenCounts(e){let i=Kt.sum(new Int32Array(this.getOddCounts())),a=Kt.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;i>13?s=!0:i<4&&(l=!0);let u=!1,c=!1;a>13?c=!0:a<4&&(u=!0);let h=i+a-e,g=(i&1)==1,y=(a&1)==0;if(h==1)if(g){if(y)throw new j;s=!0}else{if(!y)throw new j;c=!0}else if(h==-1)if(g){if(y)throw new j;l=!0}else{if(!y)throw new j;u=!0}else if(h==0){if(g){if(!y)throw new j;i<a?(l=!0,c=!0):(s=!0,u=!0)}else if(y)throw new j}else throw new j;if(l){if(s)throw new j;tt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&tt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new j;tt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&tt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}tt.SYMBOL_WIDEST=[7,5,4,3,1],tt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],tt.GSUM=[0,348,1388,2948,3988],tt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],tt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],tt.FINDER_PAT_A=0,tt.FINDER_PAT_B=1,tt.FINDER_PAT_C=2,tt.FINDER_PAT_D=3,tt.FINDER_PAT_E=4,tt.FINDER_PAT_F=5,tt.FINDER_PATTERN_SEQUENCES=[[tt.FINDER_PAT_A,tt.FINDER_PAT_A],[tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B],[tt.FINDER_PAT_A,tt.FINDER_PAT_C,tt.FINDER_PAT_B,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_C],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_E,tt.FINDER_PAT_B,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F],[tt.FINDER_PAT_A,tt.FINDER_PAT_A,tt.FINDER_PAT_B,tt.FINDER_PAT_B,tt.FINDER_PAT_C,tt.FINDER_PAT_D,tt.FINDER_PAT_D,tt.FINDER_PAT_E,tt.FINDER_PAT_E,tt.FINDER_PAT_F,tt.FINDER_PAT_F]],tt.MAX_PAIRS=11;class Gi extends ji{constructor(e,i,a){super(e,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class we extends on{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,i,a){const l=this.decodePair(i,!1,e,a);we.addOrTally(this.possibleLeftPairs,l),i.reverse();let s=this.decodePair(i,!0,e,a);we.addOrTally(this.possibleRightPairs,s),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&we.checkChecksum(u,c))return we.constructResult(u,c)}throw new j}static addOrTally(e,i){if(i==null)return;let a=!1;for(let l of e)if(l.getValue()===i.getValue()){l.incrementCount(),a=!0;break}a||e.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,i){let a=4537077*e.getValue()+i.getValue(),l=new String(a).toString(),s=new Pt;for(let g=13-l.length;g>0;g--)s.append("0");s.append(l);let u=0;for(let g=0;g<13;g++){let y=s.charAt(g).charCodeAt(0)-48;u+=(g&1)===0?3*y:y}u=10-u%10,u===10&&(u=0),s.append(u.toString());let c=e.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new ct(s.toString(),null,0,[c[0],c[1],h[0],h[1]],lt.RSS_14,new Date().getTime())}static checkChecksum(e,i){let a=(e.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(e,i,a,l){try{let s=this.findFinderPattern(e,i),u=this.parseFoundFinderPattern(e,a,i,s),c=l==null?null:l.get(Lt.NEED_RESULT_POINT_CALLBACK);if(c!=null){let y=(s[0]+s[1])/2;i&&(y=e.getSize()-1-y),c.foundPossibleResultPoint(new mt(y,a))}let h=this.decodeDataCharacter(e,u,!0),g=this.decodeDataCharacter(e,u,!1);return new Gi(1597*h.getValue()+g.getValue(),h.getChecksumPortion()+4*g.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,i,a){let l=this.getDataCharacterCounters();for(let P=0;P<l.length;P++)l[P]=0;if(a)De.recordPatternInReverse(e,i.getStartEnd()[0],l);else{De.recordPattern(e,i.getStartEnd()[1]+1,l);for(let P=0,Q=l.length-1;P<Q;P++,Q--){let rt=l[P];l[P]=l[Q],l[Q]=rt}}let s=a?16:15,u=Kt.sum(new Int32Array(l))/s,c=this.getOddCounts(),h=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let P=0;P<l.length;P++){let Q=l[P]/u,rt=Math.floor(Q+.5);rt<1?rt=1:rt>8&&(rt=8);let st=Math.floor(P/2);(P&1)===0?(c[st]=rt,g[st]=Q-rt):(h[st]=rt,y[st]=Q-rt)}this.adjustOddEvenCounts(a,s);let T=0,v=0;for(let P=c.length-1;P>=0;P--)v*=9,v+=c[P],T+=c[P];let O=0,_=0;for(let P=h.length-1;P>=0;P--)O*=9,O+=h[P],_+=h[P];let R=v+3*O;if(a){if((T&1)!==0||T>12||T<4)throw new j;let P=(12-T)/2,Q=we.OUTSIDE_ODD_WIDEST[P],rt=9-Q,st=On.getRSSvalue(c,Q,!1),nt=On.getRSSvalue(h,rt,!0),Zt=we.OUTSIDE_EVEN_TOTAL_SUBSET[P],_t=we.OUTSIDE_GSUM[P];return new ji(st*Zt+nt+_t,R)}else{if((_&1)!==0||_>10||_<4)throw new j;let P=(10-_)/2,Q=we.INSIDE_ODD_WIDEST[P],rt=9-Q,st=On.getRSSvalue(c,Q,!0),nt=On.getRSSvalue(h,rt,!1),Zt=we.INSIDE_ODD_TOTAL_SUBSET[P],_t=we.INSIDE_GSUM[P];return new ji(nt*Zt+st+_t,R)}}findFinderPattern(e,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=e.getSize(),s=!1,u=0;for(;u<l&&(s=!e.get(u),i!==s);)u++;let c=0,h=u;for(let g=u;g<l;g++)if(e.get(g)!==s)a[c]++;else{if(c===3){if(on.isFinderPattern(a))return[h,g];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new j}parseFoundFinderPattern(e,i,a,l){let s=e.get(l[0]),u=l[0]-1;for(;u>=0&&s!==e.get(u);)u--;u++;const c=l[0]-u,h=this.getDecodeFinderCounters(),g=new Int32Array(h.length);St.arraycopy(h,0,g,1,h.length-1),g[0]=c;const y=this.parseFinderValue(g,we.FINDER_PATTERNS);let T=u,v=l[1];return a&&(T=e.getSize()-1-T,v=e.getSize()-1-v),new da(y,[u,l[1]],T,v,i)}adjustOddEvenCounts(e,i){let a=Kt.sum(new Int32Array(this.getOddCounts())),l=Kt.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;e?(a>12?u=!0:a<4&&(s=!0),l>12?h=!0:l<4&&(c=!0)):(a>11?u=!0:a<5&&(s=!0),l>10?h=!0:l<4&&(c=!0));let g=a+l-i,y=(a&1)===(e?1:0),T=(l&1)===1;if(g===1)if(y){if(T)throw new j;u=!0}else{if(!T)throw new j;h=!0}else if(g===-1)if(y){if(T)throw new j;s=!0}else{if(!T)throw new j;c=!0}else if(g===0){if(y){if(!T)throw new j;a<l?(s=!0,h=!0):(u=!0,c=!0)}else if(T)throw new j}else throw new j;if(s){if(u)throw new j;on.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&on.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new j;on.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&on.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}we.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],we.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],we.OUTSIDE_GSUM=[0,161,961,2015,2715],we.INSIDE_GSUM=[0,336,1036,1516],we.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],we.INSIDE_ODD_WIDEST=[2,4,6,8],we.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class In extends De{constructor(e,i){super(),this.readers=[],this.verbose=i===!0;const a=e?e.get(Lt.POSSIBLE_FORMATS):null,l=e&&e.get(Lt.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(lt.EAN_13)||a.includes(lt.UPC_A)||a.includes(lt.EAN_8)||a.includes(lt.UPC_E))&&this.readers.push(new ml(e)),a.includes(lt.CODE_39)&&this.readers.push(new We(l)),a.includes(lt.CODE_128)&&this.readers.push(new ot),a.includes(lt.ITF)&&this.readers.push(new ee),a.includes(lt.RSS_14)&&this.readers.push(new we),a.includes(lt.RSS_EXPANDED)&&this.readers.push(new tt(this.verbose))):(this.readers.push(new ml(e)),this.readers.push(new We),this.readers.push(new ml(e)),this.readers.push(new ot),this.readers.push(new ee),this.readers.push(new we),this.readers.push(new tt(this.verbose)))}decodeRow(e,i,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,i,a)}catch{}throw new j}reset(){this.readers.forEach(e=>e.reset())}}class So extends wt{constructor(e=500,i){super(new In(i),e,i)}}class ce{constructor(e,i,a){this.ecCodewords=e,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class se{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Jt{constructor(e,i,a,l,s,u){this.versionNumber=e,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=u;let c=0;const h=u.getECCodewords(),g=u.getECBlocks();for(let y of g)c+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,i){if((e&1)!==0||(i&1)!==0)throw new ut;for(let a of Jt.VERSIONS)if(a.symbolSizeRows===e&&a.symbolSizeColumns===i)return a;throw new ut}toString(){return""+this.versionNumber}static buildVersions(){return[new Jt(1,10,10,8,8,new ce(5,new se(1,3))),new Jt(2,12,12,10,10,new ce(7,new se(1,5))),new Jt(3,14,14,12,12,new ce(10,new se(1,8))),new Jt(4,16,16,14,14,new ce(12,new se(1,12))),new Jt(5,18,18,16,16,new ce(14,new se(1,18))),new Jt(6,20,20,18,18,new ce(18,new se(1,22))),new Jt(7,22,22,20,20,new ce(20,new se(1,30))),new Jt(8,24,24,22,22,new ce(24,new se(1,36))),new Jt(9,26,26,24,24,new ce(28,new se(1,44))),new Jt(10,32,32,14,14,new ce(36,new se(1,62))),new Jt(11,36,36,16,16,new ce(42,new se(1,86))),new Jt(12,40,40,18,18,new ce(48,new se(1,114))),new Jt(13,44,44,20,20,new ce(56,new se(1,144))),new Jt(14,48,48,22,22,new ce(68,new se(1,174))),new Jt(15,52,52,24,24,new ce(42,new se(2,102))),new Jt(16,64,64,14,14,new ce(56,new se(2,140))),new Jt(17,72,72,16,16,new ce(36,new se(4,92))),new Jt(18,80,80,18,18,new ce(48,new se(4,114))),new Jt(19,88,88,20,20,new ce(56,new se(4,144))),new Jt(20,96,96,22,22,new ce(68,new se(4,174))),new Jt(21,104,104,24,24,new ce(56,new se(6,136))),new Jt(22,120,120,18,18,new ce(68,new se(6,175))),new Jt(23,132,132,20,20,new ce(62,new se(8,163))),new Jt(24,144,144,22,22,new ce(62,new se(8,156),new se(2,155))),new Jt(25,8,18,6,16,new ce(7,new se(1,5))),new Jt(26,8,32,6,14,new ce(11,new se(1,10))),new Jt(27,12,26,10,24,new ce(14,new se(1,16))),new Jt(28,12,36,10,16,new ce(18,new se(1,22))),new Jt(29,16,36,14,16,new ce(24,new se(1,32))),new Jt(30,16,48,14,22,new ce(28,new se(1,49)))]}}Jt.VERSIONS=Jt.buildVersions();class ga{constructor(e){const i=e.getHeight();if(i<8||i>144||(i&1)!==0)throw new ut;this.version=ga.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const i=e.getHeight(),a=e.getWidth();return Jt.getVersionForDimensions(i,a)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,h=!1,g=!1,y=!1;do if(a===s&&l===0&&!c)e[i++]=this.readCorner1(s,u)&255,a-=2,l+=2,c=!0;else if(a===s-2&&l===0&&(u&3)!==0&&!h)e[i++]=this.readCorner2(s,u)&255,a-=2,l+=2,h=!0;else if(a===s+4&&l===2&&(u&7)===0&&!g)e[i++]=this.readCorner3(s,u)&255,a-=2,l+=2,g=!0;else if(a===s-2&&l===0&&(u&7)===4&&!y)e[i++]=this.readCorner4(s,u)&255,a-=2,l+=2,y=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(e[i++]=this.readUtah(a,l,s,u)&255),a-=2,l+=2;while(a>=0&&l<u);a+=1,l+=3;do a>=0&&l<u&&!this.readMappingMatrix.get(l,a)&&(e[i++]=this.readUtah(a,l,s,u)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<u);if(i!==this.version.getTotalCodewords())throw new ut;return e}readModule(e,i,a,l){return e<0&&(e+=a,i+=4-(a+4&7)),i<0&&(i+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(i,e),this.mappingBitMatrix.get(i,e)}readUtah(e,i,a,l){let s=0;return this.readModule(e-2,i-2,a,l)&&(s|=1),s<<=1,this.readModule(e-2,i-1,a,l)&&(s|=1),s<<=1,this.readModule(e-1,i-2,a,l)&&(s|=1),s<<=1,this.readModule(e-1,i-1,a,l)&&(s|=1),s<<=1,this.readModule(e-1,i,a,l)&&(s|=1),s<<=1,this.readModule(e,i-2,a,l)&&(s|=1),s<<=1,this.readModule(e,i-1,a,l)&&(s|=1),s<<=1,this.readModule(e,i,a,l)&&(s|=1),s}readCorner1(e,i){let a=0;return this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,1,e,i)&&(a|=1),a<<=1,this.readModule(e-1,2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a<<=1,this.readModule(2,i-1,e,i)&&(a|=1),a<<=1,this.readModule(3,i-1,e,i)&&(a|=1),a}readCorner2(e,i){let a=0;return this.readModule(e-3,0,e,i)&&(a|=1),a<<=1,this.readModule(e-2,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(0,i-4,e,i)&&(a|=1),a<<=1,this.readModule(0,i-3,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a}readCorner3(e,i){let a=0;return this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,i-1,e,i)&&(a|=1),a<<=1,this.readModule(0,i-3,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-3,e,i)&&(a|=1),a<<=1,this.readModule(1,i-2,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a}readCorner4(e,i){let a=0;return this.readModule(e-3,0,e,i)&&(a|=1),a<<=1,this.readModule(e-2,0,e,i)&&(a|=1),a<<=1,this.readModule(e-1,0,e,i)&&(a|=1),a<<=1,this.readModule(0,i-2,e,i)&&(a|=1),a<<=1,this.readModule(0,i-1,e,i)&&(a|=1),a<<=1,this.readModule(1,i-1,e,i)&&(a|=1),a<<=1,this.readModule(2,i-1,e,i)&&(a|=1),a<<=1,this.readModule(3,i-1,e,i)&&(a|=1),a}extractDataRegion(e){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(e.getHeight()!==i)throw new k("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=i/l|0,c=a/s|0,h=u*l,g=c*s,y=new Ae(g,h);for(let T=0;T<u;++T){const v=T*l;for(let O=0;O<c;++O){const _=O*s;for(let R=0;R<l;++R){const P=T*(l+2)+1+R,Q=v+R;for(let rt=0;rt<s;++rt){const st=O*(s+2)+1+rt;if(e.get(st,P)){const nt=_+rt;y.set(nt,Q)}}}}}return y}}class xa{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i){const a=i.getECBlocks();let l=0;const s=a.getECBlocks();for(let R of s)l+=R.getCount();const u=new Array(l);let c=0;for(let R of s)for(let P=0;P<R.getCount();P++){const Q=R.getDataCodewords(),rt=a.getECCodewords()+Q;u[c++]=new xa(Q,new Uint8Array(rt))}const g=u[0].codewords.length-a.getECCodewords(),y=g-1;let T=0;for(let R=0;R<y;R++)for(let P=0;P<c;P++)u[P].codewords[R]=e[T++];const v=i.getVersionNumber()===24,O=v?8:c;for(let R=0;R<O;R++)u[R].codewords[g-1]=e[T++];const _=u[0].codewords.length;for(let R=g;R<_;R++)for(let P=0;P<c;P++){const Q=v?(P+8)%c:P,rt=v&&Q>7?R-1:R;u[Q].codewords[rt]=e[T++]}if(T!==e.length)throw new k;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class qn{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new k(""+e);let i=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const u=8-a,c=e<u?e:u,h=u-c,g=255>>8-c<<h;i=(s[l]&g)>>h,e-=c,a+=c,a===8&&(a=0,l++)}if(e>0){for(;e>=8;)i=i<<8|s[l]&255,l++,e-=8;if(e>0){const u=8-e,c=255>>u<<u;i=i<<e|(s[l]&c)>>u,a+=e}}return this.bitOffset=a,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var he;(function(p){p[p.PAD_ENCODE=0]="PAD_ENCODE",p[p.ASCII_ENCODE=1]="ASCII_ENCODE",p[p.C40_ENCODE=2]="C40_ENCODE",p[p.TEXT_ENCODE=3]="TEXT_ENCODE",p[p.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",p[p.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",p[p.BASE256_ENCODE=6]="BASE256_ENCODE"})(he||(he={}));class Ei{static decode(e){const i=new qn(e),a=new Pt,l=new Pt,s=new Array;let u=he.ASCII_ENCODE;do if(u===he.ASCII_ENCODE)u=this.decodeAsciiSegment(i,a,l);else{switch(u){case he.C40_ENCODE:this.decodeC40Segment(i,a);break;case he.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case he.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case he.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case he.BASE256_ENCODE:this.decodeBase256Segment(i,a,s);break;default:throw new ut}u=he.ASCII_ENCODE}while(u!==he.PAD_ENCODE&&i.available()>0);return l.length()>0&&a.append(l.toString()),new be(e,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(e,i,a){let l=!1;do{let s=e.readBits(8);if(s===0)throw new ut;if(s<=128)return l&&(s+=128),i.append(String.fromCharCode(s-1)),he.ASCII_ENCODE;if(s===129)return he.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&i.append("0"),i.append(""+u)}else switch(s){case 230:return he.C40_ENCODE;case 231:return he.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return he.ANSIX12_ENCODE;case 239:return he.TEXT_ENCODE;case 240:return he.EDIFACT_ENCODE;case 241:break;default:if(s!==254||e.available()!==0)throw new ut;break}}while(e.available()>0);return he.ASCII_ENCODE}static decodeC40Segment(e,i){let a=!1;const l=[];let s=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else throw new ut;break;case 1:a?(i.append(String.fromCharCode(h+128)),a=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else switch(h){case 27:i.append("");break;case 30:a=!0;break;default:throw new ut}s=0;break;case 3:a?(i.append(String.fromCharCode(h+224)),a=!1):i.append(String.fromCharCode(h+96)),s=0;break;default:throw new ut}}}while(e.available()>0)}static decodeTextSegment(e,i){let a=!1,l=[],s=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else throw new ut;break;case 1:a?(i.append(String.fromCharCode(h+128)),a=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g)}else switch(h){case 27:i.append("");break;case 30:a=!0;break;default:throw new ut}s=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[h];a?(i.append(String.fromCharCode(g.charCodeAt(0)+128)),a=!1):i.append(g),s=0}else throw new ut;break;default:throw new ut}}}while(e.available()>0)}static decodeAnsiX12Segment(e,i){const a=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),a);for(let s=0;s<3;s++){const u=a[s];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new ut;break}}}while(e.available()>0)}static parseTwoBytes(e,i,a){let l=(e<<8)+i-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(e,i){do{if(e.available()<=16)return;for(let a=0;a<4;a++){let l=e.readBits(6);if(l===31){const s=8-e.getBitOffset();s!==8&&e.readBits(s);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,i,a){let l=1+e.getByteOffset();const s=this.unrandomize255State(e.readBits(8),l++);let u;if(s===0?u=e.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(e.readBits(8),l++),u<0)throw new ut;const c=new Uint8Array(u);for(let h=0;h<u;h++){if(e.available()<8)throw new ut;c[h]=this.unrandomize255State(e.readBits(8),l++)}a.push(c);try{i.append(Ce.decode(c,Tt.ISO88591))}catch(h){throw new yn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(e,i){const a=149*i%255+1,l=e-a;return l>=0?l:l+256}}Ei.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ei.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ei.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ei.TEXT_SHIFT2_SET_CHARS=Ei.C40_SHIFT2_SET_CHARS,Ei.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class po{constructor(){this.rsDecoder=new ai(Bt.DATA_MATRIX_FIELD_256)}decode(e){const i=new ga(e),a=i.getVersion(),l=i.readCodewords(),s=xa.getDataBlocks(l,a);let u=0;for(let g of s)u+=g.getNumDataCodewords();const c=new Uint8Array(u),h=s.length;for(let g=0;g<h;g++){const y=s[g],T=y.getCodewords(),v=y.getNumDataCodewords();this.correctErrors(T,v);for(let O=0;O<v;O++)c[O*h+g]=T[O]}return Ei.decode(c)}correctErrors(e,i){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-i)}catch{throw new xt}for(let l=0;l<i;l++)e[l]=a[l]}}class Re{constructor(e){this.image=e,this.rectangleDetector=new en(this.image)}detect(){const e=this.rectangleDetector.detect();let i=this.detectSolid1(e);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new j;i=this.shiftToModuleCenter(i);const a=i[0],l=i[1],s=i[2],u=i[3];let c=this.transitionsBetween(a,u)+1,h=this.transitionsBetween(s,u)+1;(c&1)===1&&(c+=1),(h&1)===1&&(h+=1),4*c<7*h&&4*h<7*c&&(c=h=Math.max(c,h));let g=Re.sampleGrid(this.image,a,l,s,u,c,h);return new Mr(g,[a,l,s,u])}static shiftPoint(e,i,a){let l=(i.getX()-e.getX())/(a+1),s=(i.getY()-e.getY())/(a+1);return new mt(e.getX()+l,e.getY()+s)}static moveAway(e,i,a){let l=e.getX(),s=e.getY();return l<i?l-=1:l+=1,s<a?s-=1:s+=1,new mt(l,s)}detectSolid1(e){let i=e[0],a=e[1],l=e[3],s=e[2],u=this.transitionsBetween(i,a),c=this.transitionsBetween(a,l),h=this.transitionsBetween(l,s),g=this.transitionsBetween(s,i),y=u,T=[s,i,a,l];return y>c&&(y=c,T[0]=i,T[1]=a,T[2]=l,T[3]=s),y>h&&(y=h,T[0]=a,T[1]=l,T[2]=s,T[3]=i),y>g&&(T[0]=l,T[1]=s,T[2]=i,T[3]=a),T}detectSolid2(e){let i=e[0],a=e[1],l=e[2],s=e[3],u=this.transitionsBetween(i,s),c=Re.shiftPoint(a,l,(u+1)*4),h=Re.shiftPoint(l,a,(u+1)*4),g=this.transitionsBetween(c,i),y=this.transitionsBetween(h,s);return g<y?(e[0]=i,e[1]=a,e[2]=l,e[3]=s):(e[0]=a,e[1]=l,e[2]=s,e[3]=i),e}correctTopRight(e){let i=e[0],a=e[1],l=e[2],s=e[3],u=this.transitionsBetween(i,s),c=this.transitionsBetween(a,s),h=Re.shiftPoint(i,a,(c+1)*4),g=Re.shiftPoint(l,a,(u+1)*4);u=this.transitionsBetween(h,s),c=this.transitionsBetween(g,s);let y=new mt(s.getX()+(l.getX()-a.getX())/(u+1),s.getY()+(l.getY()-a.getY())/(u+1)),T=new mt(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1));if(!this.isValid(y))return this.isValid(T)?T:null;if(!this.isValid(T))return y;let v=this.transitionsBetween(h,y)+this.transitionsBetween(g,y),O=this.transitionsBetween(h,T)+this.transitionsBetween(g,T);return v>O?y:T}shiftToModuleCenter(e){let i=e[0],a=e[1],l=e[2],s=e[3],u=this.transitionsBetween(i,s)+1,c=this.transitionsBetween(l,s)+1,h=Re.shiftPoint(i,a,c*4),g=Re.shiftPoint(l,a,u*4);u=this.transitionsBetween(h,s)+1,c=this.transitionsBetween(g,s)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let y=(i.getX()+a.getX()+l.getX()+s.getX())/4,T=(i.getY()+a.getY()+l.getY()+s.getY())/4;i=Re.moveAway(i,y,T),a=Re.moveAway(a,y,T),l=Re.moveAway(l,y,T),s=Re.moveAway(s,y,T);let v,O;return h=Re.shiftPoint(i,a,c*4),h=Re.shiftPoint(h,s,u*4),v=Re.shiftPoint(a,i,c*4),v=Re.shiftPoint(v,l,u*4),g=Re.shiftPoint(l,s,c*4),g=Re.shiftPoint(g,a,u*4),O=Re.shiftPoint(s,l,c*4),O=Re.shiftPoint(O,i,u*4),[h,v,g,O]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,i,a,l,s,u,c){return Zn.getInstance().sampleGrid(e,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(e,i){let a=Math.trunc(e.getX()),l=Math.trunc(e.getY()),s=Math.trunc(i.getX()),u=Math.trunc(i.getY()),c=Math.abs(u-l)>Math.abs(s-a);if(c){let R=a;a=l,l=R,R=s,s=u,u=R}let h=Math.abs(s-a),g=Math.abs(u-l),y=-h/2,T=l<u?1:-1,v=a<s?1:-1,O=0,_=this.image.get(c?l:a,c?a:l);for(let R=a,P=l;R!==s;R+=v){let Q=this.image.get(c?P:R,c?R:P);if(Q!==_&&(O++,_=Q),y+=g,y>0){if(P===u)break;P+=T,y-=h}}return O}}class yi{constructor(){this.decoder=new po}decode(e,i=null){let a,l;if(i!=null&&i.has(Lt.PURE_BARCODE)){const g=yi.extractPureBits(e.getBlackMatrix());a=this.decoder.decode(g),l=yi.NO_POINTS}else{const g=new Re(e.getBlackMatrix()).detect();a=this.decoder.decode(g.getBits()),l=g.getPoints()}const s=a.getRawBytes(),u=new ct(a.getText(),s,8*s.length,l,lt.DATA_MATRIX,St.currentTimeMillis()),c=a.getByteSegments();c!=null&&u.putMetadata(Mt.BYTE_SEGMENTS,c);const h=a.getECLevel();return h!=null&&u.putMetadata(Mt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(i==null||a==null)throw new j;const l=this.moduleSize(i,e);let s=i[1];const u=a[1];let c=i[0];const g=(a[0]-c+1)/l,y=(u-s+1)/l;if(g<=0||y<=0)throw new j;const T=l/2;s+=T,c+=T;const v=new Ae(g,y);for(let O=0;O<y;O++){const _=s+O*l;for(let R=0;R<g;R++)e.get(c+R*l,_)&&v.set(R,O)}return v}static moduleSize(e,i){const a=i.getWidth();let l=e[0];const s=e[1];for(;l<a&&i.get(l,s);)l++;if(l===a)throw new j;const u=l-e[0];if(u===0)throw new j;return u}}yi.NO_POINTS=[];class Br extends wt{constructor(e=500){super(new yi,e)}}var Aa;(function(p){p[p.L=0]="L",p[p.M=1]="M",p[p.Q=2]="Q",p[p.H=3]="H"})(Aa||(Aa={}));class Xt{constructor(e,i,a){this.value=e,this.stringValue=i,this.bits=a,Xt.FOR_BITS.set(a,this),Xt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Xt.L;case"M":return Xt.M;case"Q":return Xt.Q;case"H":return Xt.H;default:throw new z(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Xt))return!1;const i=e;return this.value===i.value}static forBits(e){if(e<0||e>=Xt.FOR_BITS.size)throw new k;return Xt.FOR_BITS.get(e)}}Xt.FOR_BITS=new Map,Xt.FOR_VALUE=new Map,Xt.L=new Xt(Aa.L,"L",1),Xt.M=new Xt(Aa.M,"M",0),Xt.Q=new Xt(Aa.Q,"Q",3),Xt.H=new Xt(Aa.H,"H",2);class nn{constructor(e){this.errorCorrectionLevel=Xt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,i){return Et.bitCount(e^i)}static decodeFormatInformation(e,i){const a=nn.doDecodeFormatInformation(e,i);return a!==null?a:nn.doDecodeFormatInformation(e^nn.FORMAT_INFO_MASK_QR,i^nn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,i){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of nn.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===e||u===i)return new nn(s[1]);let c=nn.numBitsDiffering(e,u);c<a&&(l=s[1],a=c),e!==i&&(c=nn.numBitsDiffering(i,u),c<a&&(l=s[1],a=c))}return a<=3?new nn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof nn))return!1;const i=e;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}nn.FORMAT_INFO_MASK_QR=21522,nn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(e,...i){this.ecCodewordsPerBlock=e,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const i=this.ecBlocks;for(const a of i)e+=a.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(e,i){this.count=e,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ct{constructor(e,i,...a){this.versionNumber=e,this.alignmentPatternCenters=i,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();for(const c of u)l+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new ut;try{return this.getVersionForNumber((e-17)/4)}catch{throw new ut}}static getVersionForNumber(e){if(e<1||e>40)throw new k;return Ct.VERSIONS[e-1]}static decodeVersionInformation(e){let i=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<Ct.VERSION_DECODE_INFO.length;l++){const s=Ct.VERSION_DECODE_INFO[l];if(s===e)return Ct.getVersionForNumber(l+7);const u=nn.numBitsDiffering(e,s);u<i&&(a=l+7,i=u)}return i<=3?Ct.getVersionForNumber(a):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),i=new Ae(e);i.setRegion(0,0,9,9),i.setRegion(e-8,0,8,9),i.setRegion(0,e-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let u=0;u<a;u++)l===0&&(u===0||u===a-1)||l===a-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return i.setRegion(6,9,1,e-17),i.setRegion(9,6,e-17,1),this.versionNumber>6&&(i.setRegion(e-11,0,3,6),i.setRegion(0,e-11,6,3)),i}toString(){return""+this.versionNumber}}Ct.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ct.VERSIONS=[new Ct(1,new Int32Array(0),new Y(7,new M(1,19)),new Y(10,new M(1,16)),new Y(13,new M(1,13)),new Y(17,new M(1,9))),new Ct(2,Int32Array.from([6,18]),new Y(10,new M(1,34)),new Y(16,new M(1,28)),new Y(22,new M(1,22)),new Y(28,new M(1,16))),new Ct(3,Int32Array.from([6,22]),new Y(15,new M(1,55)),new Y(26,new M(1,44)),new Y(18,new M(2,17)),new Y(22,new M(2,13))),new Ct(4,Int32Array.from([6,26]),new Y(20,new M(1,80)),new Y(18,new M(2,32)),new Y(26,new M(2,24)),new Y(16,new M(4,9))),new Ct(5,Int32Array.from([6,30]),new Y(26,new M(1,108)),new Y(24,new M(2,43)),new Y(18,new M(2,15),new M(2,16)),new Y(22,new M(2,11),new M(2,12))),new Ct(6,Int32Array.from([6,34]),new Y(18,new M(2,68)),new Y(16,new M(4,27)),new Y(24,new M(4,19)),new Y(28,new M(4,15))),new Ct(7,Int32Array.from([6,22,38]),new Y(20,new M(2,78)),new Y(18,new M(4,31)),new Y(18,new M(2,14),new M(4,15)),new Y(26,new M(4,13),new M(1,14))),new Ct(8,Int32Array.from([6,24,42]),new Y(24,new M(2,97)),new Y(22,new M(2,38),new M(2,39)),new Y(22,new M(4,18),new M(2,19)),new Y(26,new M(4,14),new M(2,15))),new Ct(9,Int32Array.from([6,26,46]),new Y(30,new M(2,116)),new Y(22,new M(3,36),new M(2,37)),new Y(20,new M(4,16),new M(4,17)),new Y(24,new M(4,12),new M(4,13))),new Ct(10,Int32Array.from([6,28,50]),new Y(18,new M(2,68),new M(2,69)),new Y(26,new M(4,43),new M(1,44)),new Y(24,new M(6,19),new M(2,20)),new Y(28,new M(6,15),new M(2,16))),new Ct(11,Int32Array.from([6,30,54]),new Y(20,new M(4,81)),new Y(30,new M(1,50),new M(4,51)),new Y(28,new M(4,22),new M(4,23)),new Y(24,new M(3,12),new M(8,13))),new Ct(12,Int32Array.from([6,32,58]),new Y(24,new M(2,92),new M(2,93)),new Y(22,new M(6,36),new M(2,37)),new Y(26,new M(4,20),new M(6,21)),new Y(28,new M(7,14),new M(4,15))),new Ct(13,Int32Array.from([6,34,62]),new Y(26,new M(4,107)),new Y(22,new M(8,37),new M(1,38)),new Y(24,new M(8,20),new M(4,21)),new Y(22,new M(12,11),new M(4,12))),new Ct(14,Int32Array.from([6,26,46,66]),new Y(30,new M(3,115),new M(1,116)),new Y(24,new M(4,40),new M(5,41)),new Y(20,new M(11,16),new M(5,17)),new Y(24,new M(11,12),new M(5,13))),new Ct(15,Int32Array.from([6,26,48,70]),new Y(22,new M(5,87),new M(1,88)),new Y(24,new M(5,41),new M(5,42)),new Y(30,new M(5,24),new M(7,25)),new Y(24,new M(11,12),new M(7,13))),new Ct(16,Int32Array.from([6,26,50,74]),new Y(24,new M(5,98),new M(1,99)),new Y(28,new M(7,45),new M(3,46)),new Y(24,new M(15,19),new M(2,20)),new Y(30,new M(3,15),new M(13,16))),new Ct(17,Int32Array.from([6,30,54,78]),new Y(28,new M(1,107),new M(5,108)),new Y(28,new M(10,46),new M(1,47)),new Y(28,new M(1,22),new M(15,23)),new Y(28,new M(2,14),new M(17,15))),new Ct(18,Int32Array.from([6,30,56,82]),new Y(30,new M(5,120),new M(1,121)),new Y(26,new M(9,43),new M(4,44)),new Y(28,new M(17,22),new M(1,23)),new Y(28,new M(2,14),new M(19,15))),new Ct(19,Int32Array.from([6,30,58,86]),new Y(28,new M(3,113),new M(4,114)),new Y(26,new M(3,44),new M(11,45)),new Y(26,new M(17,21),new M(4,22)),new Y(26,new M(9,13),new M(16,14))),new Ct(20,Int32Array.from([6,34,62,90]),new Y(28,new M(3,107),new M(5,108)),new Y(26,new M(3,41),new M(13,42)),new Y(30,new M(15,24),new M(5,25)),new Y(28,new M(15,15),new M(10,16))),new Ct(21,Int32Array.from([6,28,50,72,94]),new Y(28,new M(4,116),new M(4,117)),new Y(26,new M(17,42)),new Y(28,new M(17,22),new M(6,23)),new Y(30,new M(19,16),new M(6,17))),new Ct(22,Int32Array.from([6,26,50,74,98]),new Y(28,new M(2,111),new M(7,112)),new Y(28,new M(17,46)),new Y(30,new M(7,24),new M(16,25)),new Y(24,new M(34,13))),new Ct(23,Int32Array.from([6,30,54,78,102]),new Y(30,new M(4,121),new M(5,122)),new Y(28,new M(4,47),new M(14,48)),new Y(30,new M(11,24),new M(14,25)),new Y(30,new M(16,15),new M(14,16))),new Ct(24,Int32Array.from([6,28,54,80,106]),new Y(30,new M(6,117),new M(4,118)),new Y(28,new M(6,45),new M(14,46)),new Y(30,new M(11,24),new M(16,25)),new Y(30,new M(30,16),new M(2,17))),new Ct(25,Int32Array.from([6,32,58,84,110]),new Y(26,new M(8,106),new M(4,107)),new Y(28,new M(8,47),new M(13,48)),new Y(30,new M(7,24),new M(22,25)),new Y(30,new M(22,15),new M(13,16))),new Ct(26,Int32Array.from([6,30,58,86,114]),new Y(28,new M(10,114),new M(2,115)),new Y(28,new M(19,46),new M(4,47)),new Y(28,new M(28,22),new M(6,23)),new Y(30,new M(33,16),new M(4,17))),new Ct(27,Int32Array.from([6,34,62,90,118]),new Y(30,new M(8,122),new M(4,123)),new Y(28,new M(22,45),new M(3,46)),new Y(30,new M(8,23),new M(26,24)),new Y(30,new M(12,15),new M(28,16))),new Ct(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new M(3,117),new M(10,118)),new Y(28,new M(3,45),new M(23,46)),new Y(30,new M(4,24),new M(31,25)),new Y(30,new M(11,15),new M(31,16))),new Ct(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new M(7,116),new M(7,117)),new Y(28,new M(21,45),new M(7,46)),new Y(30,new M(1,23),new M(37,24)),new Y(30,new M(19,15),new M(26,16))),new Ct(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new M(5,115),new M(10,116)),new Y(28,new M(19,47),new M(10,48)),new Y(30,new M(15,24),new M(25,25)),new Y(30,new M(23,15),new M(25,16))),new Ct(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new M(13,115),new M(3,116)),new Y(28,new M(2,46),new M(29,47)),new Y(30,new M(42,24),new M(1,25)),new Y(30,new M(23,15),new M(28,16))),new Ct(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new M(17,115)),new Y(28,new M(10,46),new M(23,47)),new Y(30,new M(10,24),new M(35,25)),new Y(30,new M(19,15),new M(35,16))),new Ct(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new M(17,115),new M(1,116)),new Y(28,new M(14,46),new M(21,47)),new Y(30,new M(29,24),new M(19,25)),new Y(30,new M(11,15),new M(46,16))),new Ct(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new M(13,115),new M(6,116)),new Y(28,new M(14,46),new M(23,47)),new Y(30,new M(44,24),new M(7,25)),new Y(30,new M(59,16),new M(1,17))),new Ct(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new M(12,121),new M(7,122)),new Y(28,new M(12,47),new M(26,48)),new Y(30,new M(39,24),new M(14,25)),new Y(30,new M(22,15),new M(41,16))),new Ct(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new M(6,121),new M(14,122)),new Y(28,new M(6,47),new M(34,48)),new Y(30,new M(46,24),new M(10,25)),new Y(30,new M(2,15),new M(64,16))),new Ct(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new M(17,122),new M(4,123)),new Y(28,new M(29,46),new M(14,47)),new Y(30,new M(49,24),new M(10,25)),new Y(30,new M(24,15),new M(46,16))),new Ct(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new M(4,122),new M(18,123)),new Y(28,new M(13,46),new M(32,47)),new Y(30,new M(48,24),new M(14,25)),new Y(30,new M(42,15),new M(32,16))),new Ct(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new M(20,117),new M(4,118)),new Y(28,new M(40,47),new M(7,48)),new Y(30,new M(43,24),new M(22,25)),new Y(30,new M(10,15),new M(67,16))),new Ct(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new M(19,118),new M(6,119)),new Y(28,new M(18,47),new M(31,48)),new Y(30,new M(34,24),new M(34,25)),new Y(30,new M(20,15),new M(61,16)))];var Je;(function(p){p[p.DATA_MASK_000=0]="DATA_MASK_000",p[p.DATA_MASK_001=1]="DATA_MASK_001",p[p.DATA_MASK_010=2]="DATA_MASK_010",p[p.DATA_MASK_011=3]="DATA_MASK_011",p[p.DATA_MASK_100=4]="DATA_MASK_100",p[p.DATA_MASK_101=5]="DATA_MASK_101",p[p.DATA_MASK_110=6]="DATA_MASK_110",p[p.DATA_MASK_111=7]="DATA_MASK_111"})(Je||(Je={}));class Ln{constructor(e,i){this.value=e,this.isMasked=i}unmaskBitMatrix(e,i){for(let a=0;a<i;a++)for(let l=0;l<i;l++)this.isMasked(a,l)&&e.flip(l,a)}}Ln.values=new Map([[Je.DATA_MASK_000,new Ln(Je.DATA_MASK_000,(p,e)=>(p+e&1)===0)],[Je.DATA_MASK_001,new Ln(Je.DATA_MASK_001,(p,e)=>(p&1)===0)],[Je.DATA_MASK_010,new Ln(Je.DATA_MASK_010,(p,e)=>e%3===0)],[Je.DATA_MASK_011,new Ln(Je.DATA_MASK_011,(p,e)=>(p+e)%3===0)],[Je.DATA_MASK_100,new Ln(Je.DATA_MASK_100,(p,e)=>(Math.floor(p/2)+Math.floor(e/3)&1)===0)],[Je.DATA_MASK_101,new Ln(Je.DATA_MASK_101,(p,e)=>p*e%6===0)],[Je.DATA_MASK_110,new Ln(Je.DATA_MASK_110,(p,e)=>p*e%6<3)],[Je.DATA_MASK_111,new Ln(Je.DATA_MASK_111,(p,e)=>(p+e+p*e%3&1)===0)]]);class ma{constructor(e){const i=e.getHeight();if(i<21||(i&3)!==1)throw new ut;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let s=0;s<6;s++)e=this.copyBit(s,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let s=5;s>=0;s--)e=this.copyBit(8,s,e);const i=this.bitMatrix.getHeight();let a=0;const l=i-7;for(let s=i-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=i-8;s<i;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=nn.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new ut}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),i=Math.floor((e-17)/4);if(i<=6)return Ct.getVersionForNumber(i);let a=0;const l=e-11;for(let u=5;u>=0;u--)for(let c=e-9;c>=l;c--)a=this.copyBit(c,u,a);let s=Ct.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;a=0;for(let u=5;u>=0;u--)for(let c=e-9;c>=l;c--)a=this.copyBit(u,c,a);if(s=Ct.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new ut}copyBit(e,i,a){return(this.isMirror?this.bitMatrix.get(i,e):this.bitMatrix.get(e,i))?a<<1|1:a<<1}readCodewords(){const e=this.readFormatInformation(),i=this.readVersion(),a=Ln.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=i.buildFunctionPattern();let u=!0;const c=new Uint8Array(i.getTotalCodewords());let h=0,g=0,y=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let v=0;v<l;v++){const O=u?l-1-v:v;for(let _=0;_<2;_++)s.get(T-_,O)||(y++,g<<=1,this.bitMatrix.get(T-_,O)&&(g|=1),y===8&&(c[h++]=g,y=0,g=0))}u=!u}if(h!==i.getTotalCodewords())throw new ut;return c}remask(){if(this.parsedFormatInfo===null)return;const e=Ln.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,i)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let i=0,a=e.getWidth();i<a;i++)for(let l=i+1,s=e.getHeight();l<s;l++)e.get(i,l)!==e.get(l,i)&&(e.flip(l,i),e.flip(i,l))}}class yl{constructor(e,i){this.numDataCodewords=e,this.codewords=i}static getDataBlocks(e,i,a){if(e.length!==i.getTotalCodewords())throw new k;const l=i.getECBlocksForLevel(a);let s=0;const u=l.getECBlocks();for(const _ of u)s+=_.getCount();const c=new Array(s);let h=0;for(const _ of u)for(let R=0;R<_.getCount();R++){const P=_.getDataCodewords(),Q=l.getECCodewordsPerBlock()+P;c[h++]=new yl(P,new Uint8Array(Q))}const g=c[0].codewords.length;let y=c.length-1;for(;y>=0&&c[y].codewords.length!==g;)y--;y++;const T=g-l.getECCodewordsPerBlock();let v=0;for(let _=0;_<T;_++)for(let R=0;R<h;R++)c[R].codewords[_]=e[v++];for(let _=y;_<h;_++)c[_].codewords[T]=e[v++];const O=c[0].codewords.length;for(let _=T;_<O;_++)for(let R=0;R<h;R++){const P=R<y?_:_+1;c[R].codewords[P]=e[v++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Un;(function(p){p[p.TERMINATOR=0]="TERMINATOR",p[p.NUMERIC=1]="NUMERIC",p[p.ALPHANUMERIC=2]="ALPHANUMERIC",p[p.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",p[p.BYTE=4]="BYTE",p[p.ECI=5]="ECI",p[p.KANJI=6]="KANJI",p[p.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",p[p.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",p[p.HANZI=9]="HANZI"})(Un||(Un={}));class bt{constructor(e,i,a,l){this.value=e,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=l,bt.FOR_BITS.set(l,this),bt.FOR_VALUE.set(e,this)}static forBits(e){const i=bt.FOR_BITS.get(e);if(i===void 0)throw new k;return i}getCharacterCountBits(e){const i=e.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof bt))return!1;const i=e;return this.value===i.value}toString(){return this.stringValue}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.TERMINATOR=new bt(Un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),bt.NUMERIC=new bt(Un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),bt.ALPHANUMERIC=new bt(Un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),bt.STRUCTURED_APPEND=new bt(Un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),bt.BYTE=new bt(Un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),bt.ECI=new bt(Un.ECI,"ECI",Int32Array.from([0,0,0]),7),bt.KANJI=new bt(Un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),bt.FNC1_FIRST_POSITION=new bt(Un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),bt.FNC1_SECOND_POSITION=new bt(Un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),bt.HANZI=new bt(Un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Oe{static decode(e,i,a,l){const s=new qn(e);let u=new Pt;const c=new Array;let h=-1,g=-1;try{let y=null,T=!1,v;do{if(s.available()<4)v=bt.TERMINATOR;else{const O=s.readBits(4);v=bt.forBits(O)}switch(v){case bt.TERMINATOR:break;case bt.FNC1_FIRST_POSITION:case bt.FNC1_SECOND_POSITION:T=!0;break;case bt.STRUCTURED_APPEND:if(s.available()<16)throw new ut;h=s.readBits(8),g=s.readBits(8);break;case bt.ECI:const O=Oe.parseECIValue(s);if(y=q.getCharacterSetECIByValue(O),y===null)throw new ut;break;case bt.HANZI:const _=s.readBits(4),R=s.readBits(v.getCharacterCountBits(i));_===Oe.GB2312_SUBSET&&Oe.decodeHanziSegment(s,u,R);break;default:const P=s.readBits(v.getCharacterCountBits(i));switch(v){case bt.NUMERIC:Oe.decodeNumericSegment(s,u,P);break;case bt.ALPHANUMERIC:Oe.decodeAlphanumericSegment(s,u,P,T);break;case bt.BYTE:Oe.decodeByteSegment(s,u,P,y,c,l);break;case bt.KANJI:Oe.decodeKanjiSegment(s,u,P);break;default:throw new ut}break}}while(v!==bt.TERMINATOR)}catch{throw new ut}return new be(e,u.toString(),c.length===0?null:c,a===null?null:a.toString(),h,g)}static decodeHanziSegment(e,i,a){if(a*13>e.available())throw new ut;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=e.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,l[s]=c>>8&255,l[s+1]=c&255,s+=2,a--}try{i.append(Ce.decode(l,Tt.GB2312))}catch(u){throw new ut(u)}}static decodeKanjiSegment(e,i,a){if(a*13>e.available())throw new ut;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=e.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,l[s]=c>>8,l[s+1]=c,s+=2,a--}try{i.append(Ce.decode(l,Tt.SHIFT_JIS))}catch(u){throw new ut(u)}}static decodeByteSegment(e,i,a,l,s,u){if(8*a>e.available())throw new ut;const c=new Uint8Array(a);for(let g=0;g<a;g++)c[g]=e.readBits(8);let h;l===null?h=Tt.guessEncoding(c,u):h=l.getName();try{i.append(Ce.decode(c,h))}catch(g){throw new ut(g)}s.push(c)}static toAlphaNumericChar(e){if(e>=Oe.ALPHANUMERIC_CHARS.length)throw new ut;return Oe.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,i,a,l){const s=i.length();for(;a>1;){if(e.available()<11)throw new ut;const u=e.readBits(11);i.append(Oe.toAlphaNumericChar(Math.floor(u/45))),i.append(Oe.toAlphaNumericChar(u%45)),a-=2}if(a===1){if(e.available()<6)throw new ut;i.append(Oe.toAlphaNumericChar(e.readBits(6)))}if(l)for(let u=s;u<i.length();u++)i.charAt(u)==="%"&&(u<i.length()-1&&i.charAt(u+1)==="%"?i.deleteCharAt(u+1):i.setCharAt(u,""))}static decodeNumericSegment(e,i,a){for(;a>=3;){if(e.available()<10)throw new ut;const l=e.readBits(10);if(l>=1e3)throw new ut;i.append(Oe.toAlphaNumericChar(Math.floor(l/100))),i.append(Oe.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Oe.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(e.available()<7)throw new ut;const l=e.readBits(7);if(l>=100)throw new ut;i.append(Oe.toAlphaNumericChar(Math.floor(l/10))),i.append(Oe.toAlphaNumericChar(l%10))}else if(a===1){if(e.available()<4)throw new ut;const l=e.readBits(4);if(l>=10)throw new ut;i.append(Oe.toAlphaNumericChar(l))}}static parseECIValue(e){const i=e.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=e.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=e.readBits(16);return(i&31)<<16&4294967295|a}throw new ut}}Oe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Oe.GB2312_SUBSET=1;class ds{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const i=e[0];e[0]=e[2],e[2]=i}}class To{constructor(){this.rsDecoder=new ai(Bt.QR_CODE_FIELD_256)}decodeBooleanArray(e,i){return this.decodeBitMatrix(Ae.parseFromBooleanArray(e),i)}decodeBitMatrix(e,i){const a=new ma(e);let l=null;try{return this.decodeBitMatrixParser(a,i)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,i);return s.setOther(new ds(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(e,i){const a=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),s=e.readCodewords(),u=yl.getDataBlocks(s,a,l);let c=0;for(const y of u)c+=y.getNumDataCodewords();const h=new Uint8Array(c);let g=0;for(const y of u){const T=y.getCodewords(),v=y.getNumDataCodewords();this.correctErrors(T,v);for(let O=0;O<v;O++)h[g++]=T[O]}return Oe.decode(h,a,l,i)}correctErrors(e,i){const a=new Int32Array(e);try{this.rsDecoder.decode(a,e.length-i)}catch{throw new xt}for(let l=0;l<i;l++)e[l]=a[l]}}class Ea extends mt{constructor(e,i,a){super(e,i),this.estimatedModuleSize=a}aboutEquals(e,i,a){if(Math.abs(i-this.getY())<=e&&Math.abs(a-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,i,a){const l=(this.getX()+i)/2,s=(this.getY()+e)/2,u=(this.estimatedModuleSize+a)/2;return new Ea(l,s,u)}}class ya{constructor(e,i,a,l,s,u,c){this.image=e,this.startX=i,this.startY=a,this.width=l,this.height=s,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,i=this.height,a=this.width,l=e+a,s=this.startY+i/2,u=new Int32Array(3),c=this.image;for(let h=0;h<i;h++){const g=s+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let y=e;for(;y<l&&!c.get(y,g);)y++;let T=0;for(;y<l;){if(c.get(y,g))if(T===1)u[1]++;else if(T===2){if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,g,y);if(v!==null)return v}u[0]=u[2],u[1]=1,u[2]=0,T=1}else u[++T]++;else T===1&&T++,u[T]++;y++}if(this.foundPatternCross(u)){const v=this.handlePossibleCenter(u,g,l);if(v!==null)return v}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(e,i){return i-e[2]-e[1]/2}foundPatternCross(e){const i=this.moduleSize,a=i/2;for(let l=0;l<3;l++)if(Math.abs(i-e[l])>=a)return!1;return!0}crossCheckVertical(e,i,a,l){const s=this.image,u=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let h=e;for(;h>=0&&s.get(i,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&!s.get(i,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=e+1;h<u&&s.get(i,h)&&c[1]<=a;)c[1]++,h++;if(h===u||c[1]>a)return NaN;for(;h<u&&!s.get(i,h)&&c[2]<=a;)c[2]++,h++;if(c[2]>a)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-l)>=2*l?NaN:this.foundPatternCross(c)?ya.centerFromEnd(c,h):NaN}handlePossibleCenter(e,i,a){const l=e[0]+e[1]+e[2],s=ya.centerFromEnd(e,a),u=this.crossCheckVertical(i,s,2*e[1],l);if(!isNaN(u)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,u,s))return g.combineEstimate(u,s,c);const h=new Ea(s,u,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class nr extends mt{constructor(e,i,a,l){super(e,i),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,i,a){if(Math.abs(i-this.getY())<=e&&Math.abs(a-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,i,a){const l=this.count+1,s=(this.count*this.getX()+i)/l,u=(this.count*this.getY()+e)/l,c=(this.count*this.estimatedModuleSize+a)/l;return new nr(s,u,c,l)}}class Ca{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ue{constructor(e,i){this.image=e,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const i=e!=null&&e.get(Lt.TRY_HARDER)!==void 0,a=e!=null&&e.get(Lt.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),u=l.getWidth();let c=Math.floor(3*s/(4*Ue.MAX_MODULES));(c<Ue.MIN_SKIP||i)&&(c=Ue.MIN_SKIP);let h=!1;const g=new Int32Array(5);for(let T=c-1;T<s&&!h;T+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let v=0;for(let O=0;O<u;O++)if(l.get(O,T))(v&1)===1&&v++,g[v]++;else if((v&1)===0)if(v===4)if(Ue.foundPatternCross(g)){if(this.handlePossibleCenter(g,T,O,a)===!0)if(c=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const R=this.findRowSkip();R>g[2]&&(T+=R-g[2]-c,O=u-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,v=3;continue}v=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,v=3;else g[++v]++;else g[v]++;Ue.foundPatternCross(g)&&this.handlePossibleCenter(g,T,u,a)===!0&&(c=g[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return mt.orderBestPatterns(y),new Ca(y)}static centerFromEnd(e,i){return i-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let i=0;for(let s=0;s<5;s++){const u=e[s];if(u===0)return!1;i+=u}if(i<7)return!1;const a=i/7,l=a/2;return Math.abs(a-e[0])<l&&Math.abs(a-e[1])<l&&Math.abs(3*a-e[2])<3*l&&Math.abs(a-e[3])<l&&Math.abs(a-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,i,a,l){const s=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;e>=u&&i>=u&&c.get(i-u,e-u);)s[2]++,u++;if(e<u||i<u)return!1;for(;e>=u&&i>=u&&!c.get(i-u,e-u)&&s[1]<=a;)s[1]++,u++;if(e<u||i<u||s[1]>a)return!1;for(;e>=u&&i>=u&&c.get(i-u,e-u)&&s[0]<=a;)s[0]++,u++;if(s[0]>a)return!1;const h=c.getHeight(),g=c.getWidth();for(u=1;e+u<h&&i+u<g&&c.get(i+u,e+u);)s[2]++,u++;if(e+u>=h||i+u>=g)return!1;for(;e+u<h&&i+u<g&&!c.get(i+u,e+u)&&s[3]<a;)s[3]++,u++;if(e+u>=h||i+u>=g||s[3]>=a)return!1;for(;e+u<h&&i+u<g&&c.get(i+u,e+u)&&s[4]<a;)s[4]++,u++;if(s[4]>=a)return!1;const y=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(y-l)<2*l&&Ue.foundPatternCross(s)}crossCheckVertical(e,i,a,l){const s=this.image,u=s.getHeight(),c=this.getCrossCheckStateCount();let h=e;for(;h>=0&&s.get(i,h);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(i,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(i,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=e+1;h<u&&s.get(i,h);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(i,h)&&c[3]<a;)c[3]++,h++;if(h===u||c[3]>=a)return NaN;for(;h<u&&s.get(i,h)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-l)>=2*l?NaN:Ue.foundPatternCross(c)?Ue.centerFromEnd(c,h):NaN}crossCheckHorizontal(e,i,a,l){const s=this.image,u=s.getWidth(),c=this.getCrossCheckStateCount();let h=e;for(;h>=0&&s.get(h,i);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,i)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(h,i)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=e+1;h<u&&s.get(h,i);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(h,i)&&c[3]<a;)c[3]++,h++;if(h===u||c[3]>=a)return NaN;for(;h<u&&s.get(h,i)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-l)>=l?NaN:Ue.foundPatternCross(c)?Ue.centerFromEnd(c,h):NaN}handlePossibleCenter(e,i,a,l){const s=e[0]+e[1]+e[2]+e[3]+e[4];let u=Ue.centerFromEnd(e,a),c=this.crossCheckVertical(i,Math.floor(u),e[2],s);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),e[2],s),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),e[2],s)))){const h=s/7;let g=!1;const y=this.possibleCenters;for(let T=0,v=y.length;T<v;T++){const O=y[T];if(O.aboutEquals(h,c,u)){y[T]=O.combineEstimate(c,u,h),g=!0;break}}if(!g){const T=new nr(u,c,h);y.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=Ue.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,i=0;const a=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Ue.CENTER_QUORUM&&(e++,i+=u.getEstimatedModuleSize());if(e<3)return!1;const l=i/a;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-l);return s<=.05*i}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new j;const i=this.possibleCenters;let a;if(e>3){let l=0,s=0;for(const h of this.possibleCenters){const g=h.getEstimatedModuleSize();l+=g,s+=g*g}a=l/e;let u=Math.sqrt(s/e-a*a);i.sort((h,g)=>{const y=Math.abs(g.getEstimatedModuleSize()-a),T=Math.abs(h.getEstimatedModuleSize()-a);return y<T?-1:y>T?1:0});const c=Math.max(.2*a,u);for(let h=0;h<i.length&&i.length>3;h++){const g=i[h];Math.abs(g.getEstimatedModuleSize()-a)>c&&(i.splice(h,1),h--)}}if(i.length>3){let l=0;for(const s of i)l+=s.getEstimatedModuleSize();a=l/i.length,i.sort((s,u)=>{if(u.getCount()===s.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-a),h=Math.abs(s.getEstimatedModuleSize()-a);return c<h?1:c>h?-1:0}else return u.getCount()-s.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ue.CENTER_QUORUM=2,Ue.MIN_SKIP=3,Ue.MAX_MODULES=57;class wa{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Lt.NEED_RESULT_POINT_CALLBACK);const a=new Ue(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(a)}processFinderPatternInfo(e){const i=e.getTopLeft(),a=e.getTopRight(),l=e.getBottomLeft(),s=this.calculateModuleSize(i,a,l);if(s<1)throw new j("No pattern found in proccess finder.");const u=wa.computeDimension(i,a,l,s),c=Ct.getProvisionalVersionForDimension(u),h=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const O=a.getX()-i.getX()+l.getX(),_=a.getY()-i.getY()+l.getY(),R=1-3/h,P=Math.floor(i.getX()+R*(O-i.getX())),Q=Math.floor(i.getY()+R*(_-i.getY()));for(let rt=4;rt<=16;rt<<=1)try{g=this.findAlignmentInRegion(s,P,Q,rt);break}catch(st){if(!(st instanceof j))throw st}}const y=wa.createTransform(i,a,l,g,u),T=wa.sampleGrid(this.image,y,u);let v;return g===null?v=[l,i,a]:v=[l,i,a,g],new Mr(T,v)}static createTransform(e,i,a,l,s){const u=s-3.5;let c,h,g,y;return l!==null?(c=l.getX(),h=l.getY(),g=u-3,y=g):(c=i.getX()-e.getX()+a.getX(),h=i.getY()-e.getY()+a.getY(),g=u,y=u),jn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,g,y,3.5,u,e.getX(),e.getY(),i.getX(),i.getY(),c,h,a.getX(),a.getY())}static sampleGrid(e,i,a){return Zn.getInstance().sampleGridWithTransform(e,a,a,i)}static computeDimension(e,i,a,l){const s=Kt.round(mt.distance(e,i)/l),u=Kt.round(mt.distance(e,a)/l);let c=Math.floor((s+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new j("Dimensions could be not found.")}return c}calculateModuleSize(e,i,a){return(this.calculateModuleSizeOneWay(e,i)+this.calculateModuleSizeOneWay(e,a))/2}calculateModuleSizeOneWay(e,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,i,a,l){let s=this.sizeOfBlackWhiteBlackRun(e,i,a,l),u=1,c=e-(a-e);c<0?(u=e/(e-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let h=Math.floor(i-(l-i)*u);return u=1,h<0?(u=i/(i-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),c=Math.floor(e+(c-e)*u),s+=this.sizeOfBlackWhiteBlackRun(e,i,c,h),s-1}sizeOfBlackWhiteBlackRun(e,i,a,l){const s=Math.abs(l-i)>Math.abs(a-e);if(s){let O=e;e=i,i=O,O=a,a=l,l=O}const u=Math.abs(a-e),c=Math.abs(l-i);let h=-u/2;const g=e<a?1:-1,y=i<l?1:-1;let T=0;const v=a+g;for(let O=e,_=i;O!==v;O+=g){const R=s?_:O,P=s?O:_;if(T===1===this.image.get(R,P)){if(T===2)return Kt.distance(O,_,e,i);T++}if(h+=c,h>0){if(_===l)break;_+=y,h-=u}}return T===2?Kt.distance(a+g,l,e,i):NaN}findAlignmentInRegion(e,i,a,l){const s=Math.floor(l*e),u=Math.max(0,i-s),c=Math.min(this.image.getWidth()-1,i+s);if(c-u<e*3)throw new j("Alignment top exceeds estimated module size.");const h=Math.max(0,a-s),g=Math.min(this.image.getHeight()-1,a+s);if(g-h<e*3)throw new j("Alignment bottom exceeds estimated module size.");return new ya(this.image,u,h,c-u,g-h,e,this.resultPointCallback).find()}}class li{constructor(){this.decoder=new To}getDecoder(){return this.decoder}decode(e,i){let a,l;if(i!=null&&i.get(Lt.PURE_BARCODE)!==void 0){const h=li.extractPureBits(e.getBlackMatrix());a=this.decoder.decodeBitMatrix(h,i),l=li.NO_POINTS}else{const h=new wa(e.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(h.getBits(),i),l=h.getPoints()}a.getOther()instanceof ds&&a.getOther().applyMirroredCorrection(l);const s=new ct(a.getText(),a.getRawBytes(),void 0,l,lt.QR_CODE,void 0),u=a.getByteSegments();u!==null&&s.putMetadata(Mt.BYTE_SEGMENTS,u);const c=a.getECLevel();return c!==null&&s.putMetadata(Mt.ERROR_CORRECTION_LEVEL,c),a.hasStructuredAppend()&&(s.putMetadata(Mt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(Mt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(e){const i=e.getTopLeftOnBit(),a=e.getBottomRightOnBit();if(i===null||a===null)throw new j;const l=this.moduleSize(i,e);let s=i[1],u=a[1],c=i[0],h=a[0];if(c>=h||s>=u)throw new j;if(u-s!==h-c&&(h=c+(u-s),h>=e.getWidth()))throw new j;const g=Math.round((h-c+1)/l),y=Math.round((u-s+1)/l);if(g<=0||y<=0)throw new j;if(y!==g)throw new j;const T=Math.floor(l/2);s+=T,c+=T;const v=c+Math.floor((g-1)*l)-h;if(v>0){if(v>T)throw new j;c-=v}const O=s+Math.floor((y-1)*l)-u;if(O>0){if(O>T)throw new j;s-=O}const _=new Ae(g,y);for(let R=0;R<y;R++){const P=s+Math.floor(R*l);for(let Q=0;Q<g;Q++)e.get(c+Math.floor(Q*l),P)&&_.set(Q,R)}return _}static moduleSize(e,i){const a=i.getHeight(),l=i.getWidth();let s=e[0],u=e[1],c=!0,h=0;for(;s<l&&u<a;){if(c!==i.get(s,u)){if(++h===5)break;c=!c}s++,u++}if(s===l||u===a)throw new j;return(s-e[0])/7}}li.NO_POINTS=new Array;class It{PDF417Common(){}static getBitCountSum(e){return Kt.sum(e)}static toIntArray(e){if(e==null||!e.length)return It.EMPTY_INT_ARRAY;const i=new Int32Array(e.length);let a=0;for(const l of e)i[a++]=l;return i}static getCodeword(e){const i=Nt.binarySearch(It.SYMBOL_TABLE,e&262143);return i<0?-1:(It.CODEWORD_TABLE[i]-1)%It.NUMBER_OF_CODEWORDS}}It.NUMBER_OF_CODEWORDS=929,It.MAX_CODEWORDS_IN_BARCODE=It.NUMBER_OF_CODEWORDS-1,It.MIN_ROWS_IN_BARCODE=3,It.MAX_ROWS_IN_BARCODE=90,It.MODULES_IN_CODEWORD=17,It.MODULES_IN_STOP_PATTERN=18,It.BARS_IN_MODULE=8,It.EMPTY_INT_ARRAY=new Int32Array([]),It.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),It.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ir{constructor(e,i){this.bits=e,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class zt{static detectMultiple(e,i,a){let l=e.getBlackMatrix(),s=zt.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=zt.detect(a,l)),new ir(l,s)}static detect(e,i){const a=new Array;let l=0,s=0,u=!1;for(;l<i.getHeight();){const c=zt.findVertices(i,l,s);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,s=0;for(const h of a)h[1]!=null&&(l=Math.trunc(Math.max(l,h[1].getY()))),h[3]!=null&&(l=Math.max(l,Math.trunc(h[3].getY())));l+=zt.ROW_STEP;continue}if(u=!0,a.push(c),!e)break;c[2]!=null?(s=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return a}static findVertices(e,i,a){const l=e.getHeight(),s=e.getWidth(),u=new Array(8);return zt.copyToResult(u,zt.findRowsWithPattern(e,l,s,i,a,zt.START_PATTERN),zt.INDEXES_START_PATTERN),u[4]!=null&&(a=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),zt.copyToResult(u,zt.findRowsWithPattern(e,l,s,i,a,zt.STOP_PATTERN),zt.INDEXES_STOP_PATTERN),u}static copyToResult(e,i,a){for(let l=0;l<a.length;l++)e[a[l]]=i[l]}static findRowsWithPattern(e,i,a,l,s,u){const c=new Array(4);let h=!1;const g=new Int32Array(u.length);for(;l<i;l+=zt.ROW_STEP){let T=zt.findGuardPattern(e,s,l,a,!1,u,g);if(T!=null){for(;l>0;){const v=zt.findGuardPattern(e,s,--l,a,!1,u,g);if(v!=null)T=v;else{l++;break}}c[0]=new mt(T[0],l),c[1]=new mt(T[1],l),h=!0;break}}let y=l+1;if(h){let T=0,v=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;y<i;y++){const O=zt.findGuardPattern(e,v[0],y,a,!1,u,g);if(O!=null&&Math.abs(v[0]-O[0])<zt.MAX_PATTERN_DRIFT&&Math.abs(v[1]-O[1])<zt.MAX_PATTERN_DRIFT)v=O,T=0;else{if(T>zt.SKIPPED_ROW_COUNT_MAX)break;T++}}y-=T+1,c[2]=new mt(v[0],y),c[3]=new mt(v[1],y)}return y-l<zt.BARCODE_MIN_HEIGHT&&Nt.fill(c,null),c}static findGuardPattern(e,i,a,l,s,u,c){Nt.fillWithin(c,0,c.length,0);let h=i,g=0;for(;e.get(h,a)&&h>0&&g++<zt.MAX_PIXEL_DRIFT;)h--;let y=h,T=0,v=u.length;for(let O=s;y<l;y++)if(e.get(y,a)!==O)c[T]++;else{if(T===v-1){if(zt.patternMatchVariance(c,u,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=c[0]+c[1],St.arraycopy(c,2,c,0,T-1),c[T-1]=0,c[T]=0,T--}else T++;c[T]=1,O=!O}return T===v-1&&zt.patternMatchVariance(c,u,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(e,i,a){let l=e.length,s=0,u=0;for(let g=0;g<l;g++)s+=e[g],u+=i[g];if(s<u)return 1/0;let c=s/u;a*=c;let h=0;for(let g=0;g<l;g++){let y=e[g],T=i[g]*c,v=y>T?y-T:T-y;if(v>a)return 1/0;h+=v}return h/s}}zt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),zt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),zt.MAX_AVG_VARIANCE=.42,zt.MAX_INDIVIDUAL_VARIANCE=.8,zt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),zt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),zt.MAX_PIXEL_DRIFT=3,zt.MAX_PATTERN_DRIFT=5,zt.SKIPPED_ROW_COUNT_MAX=25,zt.ROW_STEP=5,zt.BARCODE_MIN_HEIGHT=10;class Pe{constructor(e,i){if(i.length===0)throw new k;this.field=e;let a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),St.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let i=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)i=this.field.add(this.field.multiply(e,i),this.coefficients[l]);return i}add(e){if(!this.field.equals(e.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let i=this.coefficients,a=e.coefficients;if(i.length>a.length){let u=i;i=a,a=u}let l=new Int32Array(a.length),s=a.length-i.length;St.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=this.field.add(i[u-s],a[u]);return new Pe(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new k("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Pe?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Pe(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,l=e.coefficients,s=l.length,u=new Int32Array(a+s-1);for(let c=0;c<a;c++){let h=i[c];for(let g=0;g<s;g++)u[c+g]=this.field.add(u[c+g],this.field.multiply(h,l[g]))}return new Pe(this.field,u)}negative(){let e=this.coefficients.length,i=new Int32Array(e);for(let a=0;a<e;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new Pe(this.field,i)}multiplyScalar(e){if(e===0)return new Pe(this.field,new Int32Array([0]));if(e===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.multiply(this.coefficients[l],e);return new Pe(this.field,a)}multiplyByMonomial(e,i){if(e<0)throw new k;if(i===0)return new Pe(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+e);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],i);return new Pe(this.field,l)}toString(){let e=new Pt;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(e.append(" - "),a=-a):e.length()>0&&e.append(" + "),(i===0||a!==1)&&e.append(a),i!==0&&(i===1?e.append("x"):(e.append("x^"),e.append(i))))}return e.toString()}}class Oi{add(e,i){return(e+i)%this.modulus}subtract(e,i){return(this.modulus+e-i)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new k;return this.logTable[e]}inverse(e){if(e===0)throw new Mn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,i){return e===0||i===0?0:this.expTable[(this.logTable[e]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class ar extends Oi{constructor(e,i){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let a=1;for(let l=0;l<e;l++)this.expTable[l]=a,a=a*i%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Pe(this,new Int32Array([0])),this.one=new Pe(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,i){if(e<0)throw new k;if(i===0)return this.zero;let a=new Int32Array(e+1);return a[0]=i,new Pe(this,a)}}ar.PDF417_GF=new ar(It.NUMBER_OF_CODEWORDS,3);class rr{constructor(){this.field=ar.PDF417_GF}decode(e,i,a){let l=new Pe(this.field,e),s=new Int32Array(i),u=!1;for(let _=i;_>0;_--){let R=l.evaluateAt(this.field.exp(_));s[i-_]=R,R!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(a!=null)for(const _ of a){let R=this.field.exp(e.length-1-_),P=new Pe(this.field,new Int32Array([this.field.subtract(0,R),1]));c=c.multiply(P)}let h=new Pe(this.field,s),g=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),y=g[0],T=g[1],v=this.findErrorLocations(y),O=this.findErrorMagnitudes(T,y,v);for(let _=0;_<v.length;_++){let R=e.length-1-this.field.log(v[_]);if(R<0)throw xt.getChecksumInstance();e[R]=this.field.subtract(e[R],O[_])}return v.length}runEuclideanAlgorithm(e,i,a){if(e.getDegree()<i.getDegree()){let v=e;e=i,i=v}let l=e,s=i,u=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let v=l,O=u;if(l=s,u=c,l.isZero())throw xt.getChecksumInstance();s=v;let _=this.field.getZero(),R=l.getCoefficient(l.getDegree()),P=this.field.inverse(R);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let Q=s.getDegree()-l.getDegree(),rt=this.field.multiply(s.getCoefficient(s.getDegree()),P);_=_.add(this.field.buildMonomial(Q,rt)),s=s.subtract(l.multiplyByMonomial(Q,rt))}c=_.multiply(u).subtract(O).negative()}let h=c.getCoefficient(0);if(h===0)throw xt.getChecksumInstance();let g=this.field.inverse(h),y=c.multiply(g),T=s.multiply(g);return[y,T]}findErrorLocations(e){let i=e.getDegree(),a=new Int32Array(i),l=0;for(let s=1;s<this.field.getSize()&&l<i;s++)e.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==i)throw xt.getChecksumInstance();return a}findErrorMagnitudes(e,i,a){let l=i.getDegree(),s=new Int32Array(l);for(let g=1;g<=l;g++)s[l-g]=this.field.multiply(g,i.getCoefficient(g));let u=new Pe(this.field,s),c=a.length,h=new Int32Array(c);for(let g=0;g<c;g++){let y=this.field.inverse(a[g]),T=this.field.subtract(0,e.evaluateAt(y)),v=this.field.inverse(u.evaluateAt(y));h[g]=this.field.multiply(T,v)}return h}}class Ii{constructor(e,i,a,l,s){e instanceof Ii?this.constructor_2(e):this.constructor_1(e,i,a,l,s)}constructor_1(e,i,a,l,s){const u=i==null||a==null,c=l==null||s==null;if(u&&c)throw new j;u?(i=new mt(0,l.getY()),a=new mt(0,s.getY())):c&&(l=new mt(e.getWidth()-1,i.getY()),s=new mt(e.getWidth()-1,a.getY())),this.image=e,this.topLeft=i,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,i){return e==null?i:i==null?e:new Ii(e.image,e.topLeft,e.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(e,i,a){let l=this.topLeft,s=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(e>0){let h=a?this.topLeft:this.topRight,g=Math.trunc(h.getY()-e);g<0&&(g=0);let y=new mt(h.getX(),g);a?l=y:u=y}if(i>0){let h=a?this.bottomLeft:this.bottomRight,g=Math.trunc(h.getY()+i);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let y=new mt(h.getX(),g);a?s=y:c=y}return new Ii(this.image,l,s,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Lr{constructor(e,i,a,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _i{constructor(){this.buffer=""}static form(e,i){let a=-1;function l(u,c,h,g,y,T){if(u==="%%")return"%";if(i[++a]===void 0)return;u=g?parseInt(g.substr(1)):void 0;let v=y?parseInt(y.substr(1)):void 0,O;switch(T){case"s":O=i[a];break;case"c":O=i[a][0];break;case"f":O=parseFloat(i[a]).toFixed(u);break;case"p":O=parseFloat(i[a]).toPrecision(u);break;case"e":O=parseFloat(i[a]).toExponential(u);break;case"x":O=parseInt(i[a]).toString(v||16);break;case"d":O=parseFloat(parseInt(i[a],v||10).toPrecision(u)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(v);let _=parseInt(h),R=h&&h[0]+""=="0"?"0":" ";for(;O.length<_;)O=c!==void 0?O+R:R+O;return O}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(s,l)}format(e,...i){this.buffer+=_i.form(e,i)}toString(){return this.buffer}}class Sa{constructor(e){this.boundingBox=new Ii(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let i=this.getCodeword(e);if(i!=null)return i;for(let a=1;a<Sa.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(e)-a;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(e)+a,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,i){this.codewords[this.imageRowToCodewordIndex(e)]=i}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new _i;let i=0;for(const a of this.codewords){if(a==null){e.format("%3d:    |   %n",i++);continue}e.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return e.toString()}}Sa.MAX_NEARBY_DISTANCE=5;class an{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let i=this.values.get(e);i==null&&(i=0),i++,this.values.set(e,i)}getValue(){let e=-1,i=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>e?(e=s.getValue(),i=[],i.push(s.getKey())):s.getValue()===e&&i.push(s.getKey())}return It.toIntArray(i)}getConfidence(e){return this.values.get(e)}}class Di extends Sa{constructor(e,i){super(e),this._isLeft=i}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,e);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,g=1,y=0;for(let T=u;T<c;T++){if(i[T]==null)continue;let v=i[T],O=v.getRowNumber()-h;if(O===0)y++;else if(O===1)g=Math.max(g,y),y=1,h=v.getRowNumber();else if(O<0||v.getRowNumber()>=e.getRowCount()||O>T)i[T]=null;else{let _;g>2?_=(g-2)*O:_=O;let R=_>=T;for(let P=1;P<=_&&!R;P++)R=i[T-P]!=null;R?i[T]=null:(h=v.getRowNumber(),y=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let i=new Int32Array(e.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(e){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),h=-1;for(let g=s;g<u;g++){if(c[g]==null)continue;let y=c[g];y.setRowNumberAsRowIndicatorColumn();let T=y.getRowNumber()-h;T===0||(T===1?h=y.getRowNumber():y.getRowNumber()>=e.getRowCount()?c[g]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),i=new an,a=new an,l=new an,s=new an;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let h=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:a.setValue(h*3+1);break;case 1:s.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<It.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>It.MAX_ROWS_IN_BARCODE)return null;let u=new Lr(i.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,i){for(let a=0;a<e.length;a++){let l=e[a];if(e[a]==null)continue;let s=l.getValue()%30,u=l.getRowNumber();if(u>i.getRowCount()){e[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==i.getRowCountUpperPart()&&(e[a]=null);break;case 1:(Math.trunc(s/3)!==i.getErrorCorrectionLevel()||s%3!==i.getRowCountLowerPart())&&(e[a]=null);break;case 2:s+1!==i.getColumnCount()&&(e[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ri{constructor(e,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=It.MAX_CODEWORDS_IN_BARCODE,i;do i=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,a))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<e.length;a++)if(e[a]!=null&&i[a]!=null&&e[a].getRowNumber()===i[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(e[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=Ri.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=Ri.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(e)?(a.setRowNumber(e),i=0):++i),i}adjustRowNumbers(e,i,a){if(!this.detectionResultColumns[e-1])return;let l=a[i],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=s[i],c[3]=u[i],i>0&&(c[0]=a[i-1],c[4]=s[i-1],c[5]=u[i-1]),i>1&&(c[8]=a[i-2],c[10]=s[i-2],c[11]=u[i-2]),i<a.length-1&&(c[1]=a[i+1],c[6]=s[i+1],c[7]=u[i+1]),i<a.length-2&&(c[9]=a[i+2],c[12]=s[i+2],c[13]=u[i+2]);for(let h of c)if(Ri.adjustRowNumber(l,h))return}static adjustRowNumber(e,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===e.getBucket()?(e.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,i){this.detectionResultColumns[e]=i}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new _i;for(let a=0;a<e.getCodewords().length;a++){i.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){i.format("    |   ");continue}i.format(" %3d|%3d",s.getRowNumber(),s.getValue())}i.format("%n")}return i.toString()}}class Ci{constructor(e,i,a,l){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let e=0;e<It.SYMBOL_TABLE.length;e++){let i=It.SYMBOL_TABLE[e],a=i&1;for(let l=0;l<It.BARS_IN_MODULE;l++){let s=0;for(;(i&1)===a;)s+=1,i>>=1;a=i&1,_n.RATIOS_TABLE[e]||(_n.RATIOS_TABLE[e]=new Array(It.BARS_IN_MODULE)),_n.RATIOS_TABLE[e][It.BARS_IN_MODULE-l-1]=Math.fround(s/It.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let i=_n.getDecodedCodewordValue(_n.sampleBitCounts(e));return i!==-1?i:_n.getClosestDecodedValue(e)}static sampleBitCounts(e){let i=Kt.sum(e),a=new Int32Array(It.BARS_IN_MODULE),l=0,s=0;for(let u=0;u<It.MODULES_IN_CODEWORD;u++){let c=i/(2*It.MODULES_IN_CODEWORD)+u*i/It.MODULES_IN_CODEWORD;s+e[l]<=c&&(s+=e[l],l++),a[l]++}return a}static getDecodedCodewordValue(e){let i=_n.getBitValue(e);return It.getCodeword(i)===-1?-1:i}static getBitValue(e){let i=0;for(let a=0;a<e.length;a++)for(let l=0;l<e[a];l++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(e){let i=Kt.sum(e),a=new Array(It.BARS_IN_MODULE);if(i>1)for(let u=0;u<a.length;u++)a[u]=Math.fround(e[u]/i);let l=ha.MAX_VALUE,s=-1;this.bSymbolTableReady||_n.initialize();for(let u=0;u<_n.RATIOS_TABLE.length;u++){let c=0,h=_n.RATIOS_TABLE[u];for(let g=0;g<It.BARS_IN_MODULE;g++){let y=Math.fround(h[g]-a[g]);if(c+=Math.fround(y*y),c>=l)break}c<l&&(l=c,s=It.SYMBOL_TABLE[u])}return s}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(It.SYMBOL_TABLE.length).map(p=>new Array(It.BARS_IN_MODULE));class Ur{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class zr{static parseLong(e,i=void 0){return parseInt(e,i)}}class pa extends S{}pa.kind="NullPointerException";class Fr{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,i,a){if(e==null)throw new pa;if(i<0||i>e.length||a<0||i+a>e.length||i+a<0)throw new Ut;if(a===0)return;for(let l=0;l<a;l++)this.write(e[i+l])}flush(){}close(){}}class gs extends S{}class bo extends Fr{constructor(e=32){if(super(),this.count=0,e<0)throw new k("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let a=this.buf.length<<1;if(a-e<0&&(a=e),a<0){if(e<0)throw new gs;a=Et.MAX_VALUE}this.buf=Nt.copyOfUint8Array(this.buf,a)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,i,a){if(i<0||i>e.length||a<0||i+a-e.length>0)throw new Ut;this.ensureCapacity(this.count+a),St.arraycopy(e,i,this.buf,this.count,a),this.count+=a}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Nt.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ye;(function(p){p[p.ALPHA=0]="ALPHA",p[p.LOWER=1]="LOWER",p[p.MIXED=2]="MIXED",p[p.PUNCT=3]="PUNCT",p[p.ALPHA_SHIFT=4]="ALPHA_SHIFT",p[p.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ye||(ye={}));function xs(){if(typeof window<"u")return window.BigInt||null;if(typeof mo<"u")return mo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ta;function Bi(p){if(typeof Ta>"u"&&(Ta=xs()),Ta===null)throw new Error("BigInt is not supported!");return Ta(p)}function vo(){let p=[];p[0]=Bi(1);let e=Bi(900);p[1]=e;for(let i=2;i<16;i++)p[i]=p[i-1]*e;return p}class Z{static decode(e,i){let a=new Pt(""),l=q.ISO8859_1;a.enableDecoding(l);let s=1,u=e[s++],c=new Ur;for(;s<e[0];){switch(u){case Z.TEXT_COMPACTION_MODE_LATCH:s=Z.textCompaction(e,s,a);break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:s=Z.byteCompaction(u,e,l,s,a);break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(e[s++]);break;case Z.NUMERIC_COMPACTION_MODE_LATCH:s=Z.numericCompaction(e,s,a);break;case Z.ECI_CHARSET:q.getCharacterSetECIByValue(e[s++]);break;case Z.ECI_GENERAL_PURPOSE:s+=2;break;case Z.ECI_USER_DEFINED:s++;break;case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=Z.decodeMacroBlock(e,s,c);break;case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:throw new ut;default:s--,s=Z.textCompaction(e,s,a);break}if(s<e.length)u=e[s++];else throw ut.getFormatInstance()}if(a.length()===0)throw ut.getFormatInstance();let h=new be(null,a.toString(),null,i);return h.setOther(c),h}static decodeMacroBlock(e,i,a){if(i+Z.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ut.getFormatInstance();let l=new Int32Array(Z.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<Z.NUMBER_OF_SEQUENCE_CODEWORDS;c++,i++)l[c]=e[i];a.setSegmentIndex(Et.parseInt(Z.decodeBase900toBase10(l,Z.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Pt;i=Z.textCompaction(e,i,s),a.setFileId(s.toString());let u=-1;for(e[i]===Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<e[0];)switch(e[i]){case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,e[i]){case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Pt;i=Z.textCompaction(e,i+1,c),a.setFileName(c.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Pt;i=Z.textCompaction(e,i+1,h),a.setSender(h.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Pt;i=Z.textCompaction(e,i+1,g),a.setAddressee(g.toString());break;case Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Pt;i=Z.numericCompaction(e,i+1,y),a.setSegmentCount(Et.parseInt(y.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new Pt;i=Z.numericCompaction(e,i+1,T),a.setTimestamp(zr.parseLong(T.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let v=new Pt;i=Z.numericCompaction(e,i+1,v),a.setChecksum(Et.parseInt(v.toString()));break;case Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new Pt;i=Z.numericCompaction(e,i+1,O),a.setFileSize(zr.parseLong(O.toString()));break;default:throw ut.getFormatInstance()}break;case Z.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw ut.getFormatInstance()}if(u!==-1){let c=i-u;a.isLastSegment()&&c--,a.setOptionalData(Nt.copyOfRange(e,u,u+c))}return i}static textCompaction(e,i,a){let l=new Int32Array((e[0]-i)*2),s=new Int32Array((e[0]-i)*2),u=0,c=!1;for(;i<e[0]&&!c;){let h=e[i++];if(h<Z.TEXT_COMPACTION_MODE_LATCH)l[u]=h/30,l[u+1]=h%30,u+=2;else switch(h){case Z.TEXT_COMPACTION_MODE_LATCH:l[u++]=Z.TEXT_COMPACTION_MODE_LATCH;break;case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,c=!0;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=e[i++],s[u]=h,u++;break}}return Z.decodeTextCompaction(l,s,u,a),i}static decodeTextCompaction(e,i,a,l){let s=ye.ALPHA,u=ye.ALPHA,c=0;for(;c<a;){let h=e[c],g="";switch(s){case ye.ALPHA:if(h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case Z.LL:s=ye.LOWER;break;case Z.ML:s=ye.MIXED;break;case Z.PS:u=s,s=ye.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Z.TEXT_COMPACTION_MODE_LATCH:s=ye.ALPHA;break}break;case ye.LOWER:if(h<26)g=String.fromCharCode(97+h);else switch(h){case 26:g=" ";break;case Z.AS:u=s,s=ye.ALPHA_SHIFT;break;case Z.ML:s=ye.MIXED;break;case Z.PS:u=s,s=ye.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Z.TEXT_COMPACTION_MODE_LATCH:s=ye.ALPHA;break}break;case ye.MIXED:if(h<Z.PL)g=Z.MIXED_CHARS[h];else switch(h){case Z.PL:s=ye.PUNCT;break;case 26:g=" ";break;case Z.LL:s=ye.LOWER;break;case Z.AL:s=ye.ALPHA;break;case Z.PS:u=s,s=ye.PUNCT_SHIFT;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Z.TEXT_COMPACTION_MODE_LATCH:s=ye.ALPHA;break}break;case ye.PUNCT:if(h<Z.PAL)g=Z.PUNCT_CHARS[h];else switch(h){case Z.PAL:s=ye.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Z.TEXT_COMPACTION_MODE_LATCH:s=ye.ALPHA;break}break;case ye.ALPHA_SHIFT:if(s=u,h<26)g=String.fromCharCode(65+h);else switch(h){case 26:g=" ";break;case Z.TEXT_COMPACTION_MODE_LATCH:s=ye.ALPHA;break}break;case ye.PUNCT_SHIFT:if(s=u,h<Z.PAL)g=Z.PUNCT_CHARS[h];else switch(h){case Z.PAL:s=ye.ALPHA;break;case Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Z.TEXT_COMPACTION_MODE_LATCH:s=ye.ALPHA;break}break}g!==""&&l.append(g),c++}}static byteCompaction(e,i,a,l,s){let u=new bo,c=0,h=0,g=!1;switch(e){case Z.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),T=i[l++];for(;l<i[0]&&!g;)switch(y[c++]=T,h=900*h+T,T=i[l++],T){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:l--,g=!0;break;default:if(c%5===0&&c>0){for(let v=0;v<6;++v)u.write(Number(Bi(h)>>Bi(8*(5-v))));h=0,c=0}break}l===i[0]&&T<Z.TEXT_COMPACTION_MODE_LATCH&&(y[c++]=T);for(let v=0;v<c;v++)u.write(y[v]);break;case Z.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!g;){let v=i[l++];if(v<Z.TEXT_COMPACTION_MODE_LATCH)c++,h=900*h+v;else switch(v){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.NUMERIC_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:l--,g=!0;break}if(c%5===0&&c>0){for(let O=0;O<6;++O)u.write(Number(Bi(h)>>Bi(8*(5-O))));h=0,c=0}}break}return s.append(Ce.decode(u.toByteArray(),a)),l}static numericCompaction(e,i,a){let l=0,s=!1,u=new Int32Array(Z.MAX_NUMERIC_CODEWORDS);for(;i<e[0]&&!s;){let c=e[i++];if(i===e[0]&&(s=!0),c<Z.TEXT_COMPACTION_MODE_LATCH)u[l]=c,l++;else switch(c){case Z.TEXT_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH:case Z.BYTE_COMPACTION_MODE_LATCH_6:case Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Z.MACRO_PDF417_TERMINATOR:i--,s=!0;break}(l%Z.MAX_NUMERIC_CODEWORDS===0||c===Z.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(Z.decodeBase900toBase10(u,l)),l=0)}return i}static decodeBase900toBase10(e,i){let a=Bi(0);for(let s=0;s<i;s++)a+=Z.EXP900[i-s-1]*Bi(e[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new ut;return l.substring(1)}}Z.TEXT_COMPACTION_MODE_LATCH=900,Z.BYTE_COMPACTION_MODE_LATCH=901,Z.NUMERIC_COMPACTION_MODE_LATCH=902,Z.BYTE_COMPACTION_MODE_LATCH_6=924,Z.ECI_USER_DEFINED=925,Z.ECI_GENERAL_PURPOSE=926,Z.ECI_CHARSET=927,Z.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Z.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Z.MACRO_PDF417_TERMINATOR=922,Z.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Z.MAX_NUMERIC_CODEWORDS=15,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Z.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Z.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Z.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Z.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Z.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Z.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Z.PL=25,Z.LL=27,Z.AS=27,Z.ML=28,Z.AL=28,Z.PS=29,Z.PAL=29,Z.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Z.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Z.EXP900=xs()?vo():[],Z.NUMBER_OF_SEQUENCE_CODEWORDS=2;class jt{constructor(){}static decode(e,i,a,l,s,u,c){let h=new Ii(e,i,a,l,s),g=null,y=null,T;for(let _=!0;;_=!1){if(i!=null&&(g=jt.getRowIndicatorColumn(e,h,i,!0,u,c)),l!=null&&(y=jt.getRowIndicatorColumn(e,h,l,!1,u,c)),T=jt.merge(g,y),T==null)throw j.getNotFoundInstance();let R=T.getBoundingBox();if(_&&R!=null&&(R.getMinY()<h.getMinY()||R.getMaxY()>h.getMaxY()))h=R;else break}T.setBoundingBox(h);let v=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,g),T.setDetectionResultColumn(v,y);let O=g!=null;for(let _=1;_<=v;_++){let R=O?_:v-_;if(T.getDetectionResultColumn(R)!==void 0)continue;let P;R===0||R===v?P=new Di(h,R===0):P=new Sa(h),T.setDetectionResultColumn(R,P);let Q=-1,rt=Q;for(let st=h.getMinY();st<=h.getMaxY();st++){if(Q=jt.getStartColumn(T,R,st,O),Q<0||Q>h.getMaxX()){if(rt===-1)continue;Q=rt}let nt=jt.detectCodeword(e,h.getMinX(),h.getMaxX(),O,Q,st,u,c);nt!=null&&(P.setCodeword(st,nt),rt=Q,u=Math.min(u,nt.getWidth()),c=Math.max(c,nt.getWidth()))}}return jt.createDecoderResult(T)}static merge(e,i){if(e==null&&i==null)return null;let a=jt.getBarcodeMetadata(e,i);if(a==null)return null;let l=Ii.merge(jt.adjustBoundingBox(e),jt.adjustBoundingBox(i));return new Ri(a,l)}static adjustBoundingBox(e){if(e==null)return null;let i=e.getRowHeights();if(i==null)return null;let a=jt.getMax(i),l=0;for(let c of i)if(l+=a-c,c>0)break;let s=e.getCodewords();for(let c=0;l>0&&s[c]==null;c++)l--;let u=0;for(let c=i.length-1;c>=0&&(u+=a-i[c],!(i[c]>0));c--);for(let c=s.length-1;u>0&&s[c]==null;c--)u--;return e.getBoundingBox().addMissingRows(l,u,e.isLeft())}static getMax(e){let i=-1;for(let a of e)i=Math.max(i,a);return i}static getBarcodeMetadata(e,i){let a;if(e==null||(a=e.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(e,i,a,l,s,u){let c=new Di(i,l);for(let h=0;h<2;h++){let g=h===0?1:-1,y=Math.trunc(Math.trunc(a.getX()));for(let T=Math.trunc(Math.trunc(a.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=g){let v=jt.detectCodeword(e,0,e.getWidth(),l,y,T,s,u);v!=null&&(c.setCodeword(T,v),l?y=v.getStartX():y=v.getEndX())}}return c}static adjustCodewordCount(e,i){let a=i[0][1],l=a.getValue(),s=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-jt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(s<1||s>It.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(e){let i=jt.createBarcodeMatrix(e);jt.adjustCodewordCount(e,i);let a=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),s=[],u=new Array;for(let h=0;h<e.getBarcodeRowCount();h++)for(let g=0;g<e.getBarcodeColumnCount();g++){let y=i[h][g+1].getValue(),T=h*e.getBarcodeColumnCount()+g;y.length===0?a.push(T):y.length===1?l[T]=y[0]:(u.push(T),s.push(y))}let c=new Array(s.length);for(let h=0;h<c.length;h++)c[h]=s[h];return jt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,It.toIntArray(a),It.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(e,i,a,l,s){let u=new Int32Array(l.length),c=100;for(;c-- >0;){for(let h=0;h<u.length;h++)i[l[h]]=s[h][u[h]];try{return jt.decodeCodewords(i,e,a)}catch(h){if(!(h instanceof xt))throw h}if(u.length===0)throw xt.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<s[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw xt.getChecksumInstance()}throw xt.getChecksumInstance()}static createBarcodeMatrix(e){let i=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let s=0;s<i[l].length;s++)i[l][s]=new an;let a=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][a].setValue(s.getValue())}}}a++}return i}static isValidBarcodeColumn(e,i){return i>=0&&i<=e.getBarcodeColumnCount()+1}static getStartColumn(e,i,a,l){let s=l?1:-1,u=null;if(jt.isValidBarcodeColumn(e,i-s)&&(u=e.getDetectionResultColumn(i-s).getCodeword(a)),u!=null)return l?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(i).getCodewordNearby(a),u!=null)return l?u.getStartX():u.getEndX();if(jt.isValidBarcodeColumn(e,i-s)&&(u=e.getDetectionResultColumn(i-s).getCodewordNearby(a)),u!=null)return l?u.getEndX():u.getStartX();let c=0;for(;jt.isValidBarcodeColumn(e,i-s);){i-=s;for(let h of e.getDetectionResultColumn(i).getCodewords())if(h!=null)return(l?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX());c++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,i,a,l,s,u,c,h){s=jt.adjustCodewordStartColumn(e,i,a,l,s,u);let g=jt.getModuleBitCount(e,i,a,l,s,u);if(g==null)return null;let y,T=Kt.sum(g);if(l)y=s+T;else{for(let _=0;_<g.length/2;_++){let R=g[_];g[_]=g[g.length-1-_],g[g.length-1-_]=R}y=s,s=y-T}if(!jt.checkCodewordSkew(T,c,h))return null;let v=_n.getDecodedValue(g),O=It.getCodeword(v);return O===-1?null:new Ci(s,y,jt.getCodewordBucketNumber(v),O)}static getModuleBitCount(e,i,a,l,s,u){let c=s,h=new Int32Array(8),g=0,y=l?1:-1,T=l;for(;(l?c<a:c>=i)&&g<h.length;)e.get(c,u)===T?(h[g]++,c+=y):(g++,T=!T);return g===h.length||c===(l?a:i)&&g===h.length-1?h:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,i,a,l,s,u){let c=s,h=l?-1:1;for(let g=0;g<2;g++){for(;(l?c>=i:c<a)&&l===e.get(c,u);){if(Math.abs(s-c)>jt.CODEWORD_SKEW_SIZE)return s;c+=h}h=-h,l=!l}return c}static checkCodewordSkew(e,i,a){return i-jt.CODEWORD_SKEW_SIZE<=e&&e<=a+jt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,i,a){if(e.length===0)throw ut.getFormatInstance();let l=1<<i+1,s=jt.correctErrors(e,a,l);jt.verifyCodewordCount(e,l);let u=Z.decode(e,""+i);return u.setErrorsCorrected(s),u.setErasures(a.length),u}static correctErrors(e,i,a){if(i!=null&&i.length>a/2+jt.MAX_ERRORS||a<0||a>jt.MAX_EC_CODEWORDS)throw xt.getChecksumInstance();return jt.errorCorrection.decode(e,a,i)}static verifyCodewordCount(e,i){if(e.length<4)throw ut.getFormatInstance();let a=e[0];if(a>e.length)throw ut.getFormatInstance();if(a===0)if(i<e.length)e[0]=e.length-i;else throw ut.getFormatInstance()}static getBitCountForCodeword(e){let i=new Int32Array(8),a=0,l=i.length-1;for(;!((e&1)!==a&&(a=e&1,l--,l<0));)i[l]++,e>>=1;return i}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return jt.getCodewordBucketNumber(jt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let i=new _i;for(let a=0;a<e.length;a++){i.format("Row %2d: ",a);for(let l=0;l<e[a].length;l++){let s=e[a][l];s.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}i.format("%n")}return i.toString()}}jt.CODEWORD_SKEW_SIZE=2,jt.MAX_ERRORS=3,jt.MAX_EC_CODEWORDS=512,jt.errorCorrection=new rr;class un{decode(e,i=null){let a=un.decode(e,i,!1);if(a==null||a.length===0||a[0]==null)throw j.getNotFoundInstance();return a[0]}decodeMultiple(e,i=null){try{return un.decode(e,i,!0)}catch(a){throw a instanceof ut||a instanceof xt?j.getNotFoundInstance():a}}static decode(e,i,a){const l=new Array,s=zt.detectMultiple(e,i,a);for(const u of s.getPoints()){const c=jt.decode(s.getBits(),u[4],u[5],u[6],u[7],un.getMinCodewordWidth(u),un.getMaxCodewordWidth(u)),h=new ct(c.getText(),c.getRawBytes(),void 0,u,lt.PDF_417);h.putMetadata(Mt.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&h.putMetadata(Mt.PDF417_EXTRA_METADATA,g),l.push(h)}return l.map(u=>u)}static getMaxWidth(e,i){return e==null||i==null?0:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMinWidth(e,i){return e==null||i==null?Et.MAX_VALUE:Math.trunc(Math.abs(e.getX()-i.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(un.getMaxWidth(e[0],e[4]),un.getMaxWidth(e[6],e[2])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN),Math.max(un.getMaxWidth(e[1],e[5]),un.getMaxWidth(e[7],e[3])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(un.getMinWidth(e[0],e[4]),un.getMinWidth(e[6],e[2])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN),Math.min(un.getMinWidth(e[1],e[5]),un.getMinWidth(e[7],e[3])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN)))}reset(){}}class lr extends S{}lr.kind="ReaderException";class As{constructor(e,i){this.verbose=e===!0,i&&this.setHints(i)}decode(e,i){return i&&this.setHints(i),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const i=!E(e)&&e.get(Lt.TRY_HARDER)===!0,a=E(e)?null:e.get(Lt.POSSIBLE_FORMATS),l=new Array;if(!E(a)){const s=a.some(u=>u===lt.UPC_A||u===lt.UPC_E||u===lt.EAN_13||u===lt.EAN_8||u===lt.CODABAR||u===lt.CODE_39||u===lt.CODE_93||u===lt.CODE_128||u===lt.ITF||u===lt.RSS_14||u===lt.RSS_EXPANDED);s&&!i&&l.push(new In(e,this.verbose)),a.includes(lt.QR_CODE)&&l.push(new li),a.includes(lt.DATA_MATRIX)&&l.push(new yi),a.includes(lt.AZTEC)&&l.push(new Or),a.includes(lt.PDF_417)&&l.push(new un),s&&i&&l.push(new In(e,this.verbose))}l.length===0&&(i||l.push(new In(e,this.verbose)),l.push(new li),l.push(new yi),l.push(new Or),l.push(new un),i&&l.push(new In(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new lr("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(e,this.hints)}catch(a){if(a instanceof lr)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class No extends wt{constructor(e=null,i=500){const a=new As;a.setHints(e),super(a,i)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Mo extends wt{constructor(e=500){super(new un,e)}}class Oo extends wt{constructor(e=500){super(new li,e)}}var sr;(function(p){p[p.ERROR_CORRECTION=0]="ERROR_CORRECTION",p[p.CHARACTER_SET=1]="CHARACTER_SET",p[p.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",p[p.MIN_SIZE=3]="MIN_SIZE",p[p.MAX_SIZE=4]="MAX_SIZE",p[p.MARGIN=5]="MARGIN",p[p.PDF417_COMPACT=6]="PDF417_COMPACT",p[p.PDF417_COMPACTION=7]="PDF417_COMPACTION",p[p.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",p[p.AZTEC_LAYERS=9]="AZTEC_LAYERS",p[p.QR_VERSION=10]="QR_VERSION"})(sr||(sr={}));var $e=sr;class Cl{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new re(e,Int32Array.from([1])))}buildGenerator(e){const i=this.cachedGenerators;if(e>=i.length){let a=i[i.length-1];const l=this.field;for(let s=i.length;s<=e;s++){const u=a.multiply(new re(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));i.push(u),a=u}}return i[e]}encode(e,i){if(i===0)throw new k("No error correction bytes");const a=e.length-i;if(a<=0)throw new k("No data bytes provided");const l=this.buildGenerator(i),s=new Int32Array(a);St.arraycopy(e,0,s,0,a);let u=new re(this.field,s);u=u.multiplyByMonomial(i,1);const h=u.divide(l)[1].getCoefficients(),g=i-h.length;for(let y=0;y<g;y++)e[a+y]=0;St.arraycopy(h,0,e,a+g,h.length)}}class Fe{constructor(){}static applyMaskPenaltyRule1(e){return Fe.applyMaskPenaltyRule1Internal(e,!0)+Fe.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let i=0;const a=e.getArray(),l=e.getWidth(),s=e.getHeight();for(let u=0;u<s-1;u++){const c=a[u];for(let h=0;h<l-1;h++){const g=c[h];g===c[h+1]&&g===a[u+1][h]&&g===a[u+1][h+1]&&i++}}return Fe.N2*i}static applyMaskPenaltyRule3(e){let i=0;const a=e.getArray(),l=e.getWidth(),s=e.getHeight();for(let u=0;u<s;u++)for(let c=0;c<l;c++){const h=a[u];c+6<l&&h[c]===1&&h[c+1]===0&&h[c+2]===1&&h[c+3]===1&&h[c+4]===1&&h[c+5]===0&&h[c+6]===1&&(Fe.isWhiteHorizontal(h,c-4,c)||Fe.isWhiteHorizontal(h,c+7,c+11))&&i++,u+6<s&&a[u][c]===1&&a[u+1][c]===0&&a[u+2][c]===1&&a[u+3][c]===1&&a[u+4][c]===1&&a[u+5][c]===0&&a[u+6][c]===1&&(Fe.isWhiteVertical(a,c,u-4,u)||Fe.isWhiteVertical(a,c,u+7,u+11))&&i++}return i*Fe.N3}static isWhiteHorizontal(e,i,a){i=Math.max(i,0),a=Math.min(a,e.length);for(let l=i;l<a;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,i,a,l){a=Math.max(a,0),l=Math.min(l,e.length);for(let s=a;s<l;s++)if(e[s][i]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let i=0;const a=e.getArray(),l=e.getWidth(),s=e.getHeight();for(let h=0;h<s;h++){const g=a[h];for(let y=0;y<l;y++)g[y]===1&&i++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(i*2-u)*10/u)*Fe.N4}static getDataMaskBit(e,i,a){let l,s;switch(e){case 0:l=a+i&1;break;case 1:l=a&1;break;case 2:l=i%3;break;case 3:l=(a+i)%3;break;case 4:l=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:s=a*i,l=(s&1)+s%3;break;case 6:s=a*i,l=(s&1)+s%3&1;break;case 7:s=a*i,l=s%3+(a+i&1)&1;break;default:throw new k("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,i){let a=0;const l=i?e.getHeight():e.getWidth(),s=i?e.getWidth():e.getHeight(),u=e.getArray();for(let c=0;c<l;c++){let h=0,g=-1;for(let y=0;y<s;y++){const T=i?u[c][y]:u[y][c];T===g?h++:(h>=5&&(a+=Fe.N1+(h-5)),h=1,g=T)}h>=5&&(a+=Fe.N1+(h-5))}return a}}Fe.N1=3,Fe.N2=3,Fe.N3=40,Fe.N4=10;class or{constructor(e,i){this.width=e,this.height=i;const a=new Array(i);for(let l=0;l!==i;l++)a[l]=new Uint8Array(e);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(e,i){return this.bytes[i][e]}getArray(){return this.bytes}setNumber(e,i,a){this.bytes[i][e]=a}setBoolean(e,i,a){this.bytes[i][e]=a?1:0}clear(e){for(const i of this.bytes)Nt.fill(i,e)}equals(e){if(!(e instanceof or))return!1;const i=e;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],u=i.bytes[a];for(let c=0,h=this.width;c<h;++c)if(s[c]!==u[c])return!1}return!0}toString(){const e=new Pt;for(let i=0,a=this.height;i<a;++i){const l=this.bytes[i];for(let s=0,u=this.width;s<u;++s)switch(l[s]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Vi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Pt;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Vi.NUM_MASK_PATTERNS}}Vi.NUM_MASK_PATTERNS=8;class Se extends S{}Se.kind="WriterException";class Ot{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,i,a,l,s){Ot.clearMatrix(s),Ot.embedBasicPatterns(a,s),Ot.embedTypeInfo(i,l,s),Ot.maybeEmbedVersionInfo(a,s),Ot.embedDataBits(e,l,s)}static embedBasicPatterns(e,i){Ot.embedPositionDetectionPatternsAndSeparators(i),Ot.embedDarkDotAtLeftBottomCorner(i),Ot.maybeEmbedPositionAdjustmentPatterns(e,i),Ot.embedTimingPatterns(i)}static embedTypeInfo(e,i,a){const l=new kt;Ot.makeTypeInfoBits(e,i,l);for(let s=0,u=l.getSize();s<u;++s){const c=l.get(l.getSize()-1-s),h=Ot.TYPE_INFO_COORDINATES[s],g=h[0],y=h[1];if(a.setBoolean(g,y,c),s<8){const T=a.getWidth()-s-1;a.setBoolean(T,8,c)}else{const v=a.getHeight()-7+(s-8);a.setBoolean(8,v,c)}}}static maybeEmbedVersionInfo(e,i){if(e.getVersionNumber()<7)return;const a=new kt;Ot.makeVersionInfoBits(e,a);let l=6*3-1;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const c=a.get(l);l--,i.setBoolean(s,i.getHeight()-11+u,c),i.setBoolean(i.getHeight()-11+u,s,c)}}static embedDataBits(e,i,a){let l=0,s=-1,u=a.getWidth()-1,c=a.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<a.getHeight();){for(let h=0;h<2;++h){const g=u-h;if(!Ot.isEmpty(a.get(g,c)))continue;let y;l<e.getSize()?(y=e.get(l),++l):y=!1,i!==255&&Fe.getDataMaskBit(i,g,c)&&(y=!y),a.setBoolean(g,c,y)}c+=s}s=-s,c+=s,u-=2}if(l!==e.getSize())throw new Se("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-Et.numberOfLeadingZeros(e)}static calculateBCHCode(e,i){if(i===0)throw new k("0 polynomial");const a=Ot.findMSBSet(i);for(e<<=a-1;Ot.findMSBSet(e)>=a;)e^=i<<Ot.findMSBSet(e)-a;return e}static makeTypeInfoBits(e,i,a){if(!Vi.isValidMaskPattern(i))throw new Se("Invalid mask pattern");const l=e.getBits()<<3|i;a.appendBits(l,5);const s=Ot.calculateBCHCode(l,Ot.TYPE_INFO_POLY);a.appendBits(s,10);const u=new kt;if(u.appendBits(Ot.TYPE_INFO_MASK_PATTERN,15),a.xor(u),a.getSize()!==15)throw new Se("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(e,i){i.appendBits(e.getVersionNumber(),6);const a=Ot.calculateBCHCode(e.getVersionNumber(),Ot.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Se("should not happen but we got: "+i.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let i=8;i<e.getWidth()-8;++i){const a=(i+1)%2;Ot.isEmpty(e.get(i,6))&&e.setNumber(i,6,a),Ot.isEmpty(e.get(6,i))&&e.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Se;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,i,a){for(let l=0;l<8;++l){if(!Ot.isEmpty(a.get(e+l,i)))throw new Se;a.setNumber(e+l,i,0)}}static embedVerticalSeparationPattern(e,i,a){for(let l=0;l<7;++l){if(!Ot.isEmpty(a.get(e,i+l)))throw new Se;a.setNumber(e,i+l,0)}}static embedPositionAdjustmentPattern(e,i,a){for(let l=0;l<5;++l){const s=Ot.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)a.setNumber(e+u,i+l,s[u])}}static embedPositionDetectionPattern(e,i,a){for(let l=0;l<7;++l){const s=Ot.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)a.setNumber(e+u,i+l,s[u])}}static embedPositionDetectionPatternsAndSeparators(e){const i=Ot.POSITION_DETECTION_PATTERN[0].length;Ot.embedPositionDetectionPattern(0,0,e),Ot.embedPositionDetectionPattern(e.getWidth()-i,0,e),Ot.embedPositionDetectionPattern(0,e.getWidth()-i,e);const a=8;Ot.embedHorizontalSeparationPattern(0,a-1,e),Ot.embedHorizontalSeparationPattern(e.getWidth()-a,a-1,e),Ot.embedHorizontalSeparationPattern(0,e.getWidth()-a,e);const l=7;Ot.embedVerticalSeparationPattern(l,0,e),Ot.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ot.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,i){if(e.getVersionNumber()<2)return;const a=e.getVersionNumber()-1,l=Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,u=l.length;s!==u;s++){const c=l[s];if(c>=0)for(let h=0;h!==u;h++){const g=l[h];g>=0&&Ot.isEmpty(i.get(g,c))&&Ot.embedPositionAdjustmentPattern(g-2,c-2,i)}}}}Ot.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ot.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ot.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ot.VERSION_INFO_POLY=7973,Ot.TYPE_INFO_POLY=1335,Ot.TYPE_INFO_MASK_PATTERN=21522;class Io{constructor(e,i){this.dataBytes=e,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ie{constructor(){}static calculateMaskPenalty(e){return Fe.applyMaskPenaltyRule1(e)+Fe.applyMaskPenaltyRule2(e)+Fe.applyMaskPenaltyRule3(e)+Fe.applyMaskPenaltyRule4(e)}static encode(e,i,a=null){let l=Ie.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get($e.CHARACTER_SET)!==void 0;s&&(l=a.get($e.CHARACTER_SET).toString());const u=this.chooseMode(e,l),c=new kt;if(u===bt.BYTE&&(s||Ie.DEFAULT_BYTE_MODE_ENCODING!==l)){const st=q.getCharacterSetECIByName(l);st!==void 0&&this.appendECI(st,c)}this.appendModeInfo(u,c);const h=new kt;this.appendBytes(e,u,h,l);let g;if(a!==null&&a.get($e.QR_VERSION)!==void 0){const st=Number.parseInt(a.get($e.QR_VERSION).toString(),10);g=Ct.getVersionForNumber(st);const nt=this.calculateBitsNeeded(u,c,h,g);if(!this.willFit(nt,g,i))throw new Se("Data too big for requested version")}else g=this.recommendVersion(i,u,c,h);const y=new kt;y.appendBitArray(c);const T=u===bt.BYTE?h.getSizeInBytes():e.length;this.appendLengthInfo(T,g,u,y),y.appendBitArray(h);const v=g.getECBlocksForLevel(i),O=g.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(O,y);const _=this.interleaveWithECBytes(y,g.getTotalCodewords(),O,v.getNumBlocks()),R=new Vi;R.setECLevel(i),R.setMode(u),R.setVersion(g);const P=g.getDimensionForVersion(),Q=new or(P,P),rt=this.chooseMaskPattern(_,i,g,Q);return R.setMaskPattern(rt),Ot.buildMatrix(_,i,g,rt,Q),R.setMatrix(Q),R}static recommendVersion(e,i,a,l){const s=this.calculateBitsNeeded(i,a,l,Ct.getVersionForNumber(1)),u=this.chooseVersion(s,e),c=this.calculateBitsNeeded(i,a,l,u);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,i,a,l){return i.getSize()+e.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(e){return e<Ie.ALPHANUMERIC_TABLE.length?Ie.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,i=null){if(q.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(e))return bt.KANJI;let a=!1,l=!1;for(let s=0,u=e.length;s<u;++s){const c=e.charAt(s);if(Ie.isDigit(c))a=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return bt.BYTE}return l?bt.ALPHANUMERIC:a?bt.NUMERIC:bt.BYTE}static isOnlyDoubleByteKanji(e){let i;try{i=Ce.encode(e,q.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=i[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(e,i,a,l){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<Vi.NUM_MASK_PATTERNS;c++){Ot.buildMatrix(e,i,a,c,l);let h=this.calculateMaskPenalty(l);h<s&&(s=h,u=c)}return u}static chooseVersion(e,i){for(let a=1;a<=40;a++){const l=Ct.getVersionForNumber(a);if(Ie.willFit(e,l,i))return l}throw new Se("Data too big")}static willFit(e,i,a){const l=i.getTotalCodewords(),u=i.getECBlocksForLevel(a).getTotalECCodewords(),c=l-u,h=(e+7)/8;return c>=h}static terminateBits(e,i){const a=e*8;if(i.getSize()>a)throw new Se("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let u=0;u<4&&i.getSize()<a;++u)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let u=l;u<8;u++)i.appendBit(!1);const s=e-i.getSizeInBytes();for(let u=0;u<s;++u)i.appendBits((u&1)===0?236:17,8);if(i.getSize()!==a)throw new Se("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,i,a,l,s,u){if(l>=a)throw new Se("Block ID too large");const c=e%a,h=a-c,g=Math.floor(e/a),y=g+1,T=Math.floor(i/a),v=T+1,O=g-T,_=y-v;if(O!==_)throw new Se("EC bytes mismatch");if(a!==h+c)throw new Se("RS blocks mismatch");if(e!==(T+O)*h+(v+_)*c)throw new Se("Total bytes mismatch");l<h?(s[0]=T,u[0]=O):(s[0]=v,u[0]=_)}static interleaveWithECBytes(e,i,a,l){if(e.getSizeInBytes()!==a)throw new Se("Number of bits and data bytes does not match");let s=0,u=0,c=0;const h=new Array;for(let y=0;y<l;++y){const T=new Int32Array(1),v=new Int32Array(1);Ie.getNumDataBytesAndNumECBytesForBlockID(i,a,l,y,T,v);const O=T[0],_=new Uint8Array(O);e.toBytes(8*s,_,0,O);const R=Ie.generateECBytes(_,v[0]);h.push(new Io(_,R)),u=Math.max(u,O),c=Math.max(c,R.length),s+=T[0]}if(a!==s)throw new Se("Data bytes does not match offset");const g=new kt;for(let y=0;y<u;++y)for(const T of h){const v=T.getDataBytes();y<v.length&&g.appendBits(v[y],8)}for(let y=0;y<c;++y)for(const T of h){const v=T.getErrorCorrectionBytes();y<v.length&&g.appendBits(v[y],8)}if(i!==g.getSizeInBytes())throw new Se("Interleaving error: "+i+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,i){const a=e.length,l=new Int32Array(a+i);for(let u=0;u<a;u++)l[u]=e[u]&255;new Cl(Bt.QR_CODE_FIELD_256).encode(l,i);const s=new Uint8Array(i);for(let u=0;u<i;u++)s[u]=l[a+u];return s}static appendModeInfo(e,i){i.appendBits(e.getBits(),4)}static appendLengthInfo(e,i,a,l){const s=a.getCharacterCountBits(i);if(e>=1<<s)throw new Se(e+" is bigger than "+((1<<s)-1));l.appendBits(e,s)}static appendBytes(e,i,a,l){switch(i){case bt.NUMERIC:Ie.appendNumericBytes(e,a);break;case bt.ALPHANUMERIC:Ie.appendAlphanumericBytes(e,a);break;case bt.BYTE:Ie.append8BitBytes(e,a,l);break;case bt.KANJI:Ie.appendKanjiBytes(e,a);break;default:throw new Se("Invalid mode: "+i)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const i=Ie.getDigit(e);return i>=0&&i<=9}static appendNumericBytes(e,i){const a=e.length;let l=0;for(;l<a;){const s=Ie.getDigit(e.charAt(l));if(l+2<a){const u=Ie.getDigit(e.charAt(l+1)),c=Ie.getDigit(e.charAt(l+2));i.appendBits(s*100+u*10+c,10),l+=3}else if(l+1<a){const u=Ie.getDigit(e.charAt(l+1));i.appendBits(s*10+u,7),l+=2}else i.appendBits(s,4),l++}}static appendAlphanumericBytes(e,i){const a=e.length;let l=0;for(;l<a;){const s=Ie.getAlphanumericCode(e.charCodeAt(l));if(s===-1)throw new Se;if(l+1<a){const u=Ie.getAlphanumericCode(e.charCodeAt(l+1));if(u===-1)throw new Se;i.appendBits(s*45+u,11),l+=2}else i.appendBits(s,6),l++}}static append8BitBytes(e,i,a){let l;try{l=Ce.encode(e,a)}catch(s){throw new Se(s)}for(let s=0,u=l.length;s!==u;s++){const c=l[s];i.appendBits(c,8)}}static appendKanjiBytes(e,i){let a;try{a=Ce.encode(e,q.SJIS)}catch(s){throw new Se(s)}const l=a.length;for(let s=0;s<l;s+=2){const u=a[s]&255,c=a[s+1]&255,h=u<<8&4294967295|c;let g=-1;if(h>=33088&&h<=40956?g=h-33088:h>=57408&&h<=60351&&(g=h-49472),g===-1)throw new Se("Invalid byte sequence");const y=(g>>8)*192+(g&255);i.appendBits(y,13)}}static appendECI(e,i){i.appendBits(bt.ECI.getBits(),4),i.appendBits(e.getValue(),8)}}Ie.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ie.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Xi{write(e,i,a,l=null){if(e.length===0)throw new k("Found empty contents");if(i<0||a<0)throw new k("Requested dimensions are too small: "+i+"x"+a);let s=Xt.L,u=Xi.QUIET_ZONE_SIZE;l!==null&&(l.get($e.ERROR_CORRECTION)!==void 0&&(s=Xt.fromString(l.get($e.ERROR_CORRECTION).toString())),l.get($e.MARGIN)!==void 0&&(u=Number.parseInt(l.get($e.MARGIN).toString(),10)));const c=Ie.encode(e,s,l);return this.renderResult(c,i,a,u)}writeToDom(e,i,a,l,s=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(i,a,l,s);e&&e.appendChild(u)}renderResult(e,i,a,l){const s=e.getMatrix();if(s===null)throw new yn;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,g=c+l*2,y=Math.max(i,h),T=Math.max(a,g),v=Math.min(Math.floor(y/h),Math.floor(T/g)),O=Math.floor((y-u*v)/2),_=Math.floor((T-c*v)/2),R=this.createSVGElement(y,T);for(let P=0,Q=_;P<c;P++,Q+=v)for(let rt=0,st=O;rt<u;rt++,st+=v)if(s.get(rt,P)===1){const nt=this.createSvgRectElement(st,Q,v,v);R.appendChild(nt)}return R}createSVGElement(e,i){const a=document.createElementNS(Xi.SVG_NS,"svg");return a.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(e,i,a,l){const s=document.createElementNS(Xi.SVG_NS,"rect");return s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Xi.QUIET_ZONE_SIZE=4,Xi.SVG_NS="http://www.w3.org/2000/svg";class ba{encode(e,i,a,l,s){if(e.length===0)throw new k("Found empty contents");if(i!==lt.QR_CODE)throw new k("Can only encode QR_CODE, but got "+i);if(a<0||l<0)throw new k(`Requested dimensions are too small: ${a}x${l}`);let u=Xt.L,c=ba.QUIET_ZONE_SIZE;s!==null&&(s.get($e.ERROR_CORRECTION)!==void 0&&(u=Xt.fromString(s.get($e.ERROR_CORRECTION).toString())),s.get($e.MARGIN)!==void 0&&(c=Number.parseInt(s.get($e.MARGIN).toString(),10)));const h=Ie.encode(e,u,s);return ba.renderResult(h,a,l,c)}static renderResult(e,i,a,l){const s=e.getMatrix();if(s===null)throw new yn;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,g=c+l*2,y=Math.max(i,h),T=Math.max(a,g),v=Math.min(Math.floor(y/h),Math.floor(T/g)),O=Math.floor((y-u*v)/2),_=Math.floor((T-c*v)/2),R=new Ae(y,T);for(let P=0,Q=_;P<c;P++,Q+=v)for(let rt=0,st=O;rt<u;rt++,st+=v)s.get(rt,P)===1&&R.setRegion(st,Q,v,v);return R}}ba.QUIET_ZONE_SIZE=4;class _o{encode(e,i,a,l,s){let u;switch(i){case lt.QR_CODE:u=new ba;break;default:throw new k("No encoder available for format "+i)}return u.encode(e,i,a,l,s)}}class si extends ht{constructor(e,i,a,l,s,u,c,h){if(super(u,c),this.yuvData=e,this.dataWidth=i,this.dataHeight=a,this.left=l,this.top=s,l+u>i||s+c>a)throw new k("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,c)}getRow(e,i){if(e<0||e>=this.getHeight())throw new k("Requested row is outside the image: "+e);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(e+this.top)*this.dataWidth+this.left;return St.arraycopy(this.yuvData,l,i,0,a),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=e*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return St.arraycopy(this.yuvData,s,l,0,a),l;for(let u=0;u<i;u++){const c=u*e;St.arraycopy(this.yuvData,s,l,c,e),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,i,a,l){return new si(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+i,a,l,!1)}renderThumbnail(){const e=this.getWidth()/si.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/si.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(e*i),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<i;u++){const c=u*e;for(let h=0;h<e;h++){const g=l[s+h*si.THUMBNAIL_SCALE_FACTOR]&255;a[c+h]=4278190080|g*65793}s+=this.dataWidth*si.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/si.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/si.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,i){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<i;l++,s+=this.dataWidth){const u=s+e/2;for(let c=s,h=s+e-1;c<u;c++,h--){const g=a[c];a[c]=a[h],a[h]=g}}}invert(){return new Wt(this)}}si.THUMBNAIL_SCALE_FACTOR=2;class ur extends ht{constructor(e,i,a,l,s,u,c){if(super(i,a),this.dataWidth=l,this.dataHeight=s,this.left=u,this.top=c,e.BYTES_PER_ELEMENT===4){const h=i*a,g=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const T=e[y],v=T>>16&255,O=T>>7&510,_=T&255;g[y]=(v+O+_)/4&255}this.luminances=g}else this.luminances=e;if(l===void 0&&(this.dataWidth=i),s===void 0&&(this.dataHeight=a),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new k("Crop rectangle does not fit within image data.")}getRow(e,i){if(e<0||e>=this.getHeight())throw new k("Requested row is outside the image: "+e);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(e+this.top)*this.dataWidth+this.left;return St.arraycopy(this.luminances,l,i,0,a),i}getMatrix(){const e=this.getWidth(),i=this.getHeight();if(e===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=e*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return St.arraycopy(this.luminances,s,l,0,a),l;for(let u=0;u<i;u++){const c=u*e;St.arraycopy(this.luminances,s,l,c,e),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,i,a,l){return new ur(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+e,this.top+i)}invert(){return new Wt(this)}}class va extends q{static forName(e){return this.getCharacterSetECIByName(e)}}class wl{}wl.ISO_8859_1=q.ISO8859_1;class Sl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class pl{static singletonList(e){return[e]}static min(e,i){return e.sort(i)[0]}}class ms{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Zi extends ms{constructor(e,i,a){super(e),this.value=i,this.bitCount=a}appendTo(e,i){e.appendBits(this.value,this.bitCount)}add(e,i){return new Zi(this,e,i)}addBinaryShift(e,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zi(this,e,i)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+Et.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class kr extends Zi{constructor(e,i,a){super(e,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(e,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):a===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(e,i){return new kr(this,e,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Na(p,e,i){return new kr(p,e,i)}function cr(p,e,i){return new Zi(p,e,i)}const Do=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Li=0,fr=1,zn=2,Ma=3,Dn=4,Ro=new Zi(null,0,0),Oa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Es(p){for(let e of p)Nt.fill(e,-1);return p[Li][Dn]=0,p[fr][Dn]=0,p[fr][Li]=28,p[Ma][Dn]=0,p[zn][Dn]=0,p[zn][Li]=15,p}const Tl=Es(Nt.createInt32Array(6,6));class Gn{constructor(e,i,a,l){this.token=e,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,i){let a=this.bitCount,l=this.token;if(e!==this.mode){let u=Oa[this.mode][e];l=cr(l,u&65535,u>>16),a+=u>>16}let s=e===zn?4:5;return l=cr(l,i,s),new Gn(l,e,0,a+s)}shiftAndAppend(e,i){let a=this.token,l=this.mode===zn?4:5;return a=cr(a,Tl[this.mode][e],l),a=cr(a,i,5),new Gn(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let i=this.token,a=this.mode,l=this.bitCount;if(this.mode===Dn||this.mode===zn){let c=Oa[a][Li];i=cr(i,c&65535,c>>16),l+=c>>16,a=Li}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Gn(i,a,this.binaryShiftByteCount+1,l+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Na(i,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let i=this.bitCount+(Oa[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?i+=Gn.calculateBinaryShiftCost(e)-Gn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(i+=10),i<=e.bitCount}toBitArray(e){let i=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())i.unshift(l);let a=new kt;for(const l of i)l.appendTo(a,e);return a}toString(){return Tt.format("%s bits=%d bytes=%d",Do[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Gn.INITIAL_STATE=new Gn(Ro,Li,0,0);function bl(p){const e=Tt.getCharCode(" "),i=Tt.getCharCode("."),a=Tt.getCharCode(",");p[Li][e]=1;const l=Tt.getCharCode("Z"),s=Tt.getCharCode("A");for(let v=s;v<=l;v++)p[Li][v]=v-s+2;p[fr][e]=1;const u=Tt.getCharCode("z"),c=Tt.getCharCode("a");for(let v=c;v<=u;v++)p[fr][v]=v-c+2;p[zn][e]=1;const h=Tt.getCharCode("9"),g=Tt.getCharCode("0");for(let v=g;v<=h;v++)p[zn][v]=v-g+2;p[zn][a]=12,p[zn][i]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let v=0;v<y.length;v++)p[Ma][Tt.getCharCode(y[v])]=v;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let v=0;v<T.length;v++)Tt.getCharCode(T[v])>0&&(p[Dn][Tt.getCharCode(T[v])]=v);return p}const Hr=bl(Nt.createInt32Array(5,256));class Ia{constructor(e){this.text=e}encode(){const e=Tt.getCharCode(" "),i=Tt.getCharCode(`
`);let a=pl.singletonList(Gn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let u,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case Tt.getCharCode("\r"):u=c===i?2:0;break;case Tt.getCharCode("."):u=c===e?3:0;break;case Tt.getCharCode(","):u=c===e?4:0;break;case Tt.getCharCode(":"):u=c===e?5:0;break;default:u=0}u>0?(a=Ia.updateStateListForPair(a,s,u),s++):a=this.updateStateListForChar(a,s)}return pl.min(a,(s,u)=>s.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,i){const a=[];for(let l of e)this.updateStateForChar(l,i,a);return Ia.simplifyStates(a)}updateStateForChar(e,i,a){let l=this.text[i]&255,s=Hr[e.getMode()][l]>0,u=null;for(let c=0;c<=Dn;c++){let h=Hr[c][l];if(h>0){if(u==null&&(u=e.endBinaryShift(i)),!s||c===e.getMode()||c===zn){const g=u.latchAndAppend(c,h);a.push(g)}if(!s&&Tl[e.getMode()][c]>=0){const g=u.shiftAndAppend(c,h);a.push(g)}}}if(e.getBinaryShiftByteCount()>0||Hr[e.getMode()][l]===0){let c=e.addBinaryShiftChar(i);a.push(c)}}static updateStateListForPair(e,i,a){const l=[];for(let s of e)this.updateStateForPair(s,i,a,l);return this.simplifyStates(l)}static updateStateForPair(e,i,a,l){let s=e.endBinaryShift(i);if(l.push(s.latchAndAppend(Dn,a)),e.getMode()!==Dn&&l.push(s.shiftAndAppend(Dn,a)),a===3||a===4){let u=s.latchAndAppend(zn,16-a).latchAndAppend(zn,1);l.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(u)}}static simplifyStates(e){let i=[];for(const a of e){let l=!0;for(const s of i){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(i=i.filter(u=>u!==s))}l&&i.push(a)}return i}}class ae{constructor(){}static encodeBytes(e){return ae.encode(e,ae.DEFAULT_EC_PERCENT,ae.DEFAULT_AZTEC_LAYERS)}static encode(e,i,a){let l=new Ia(e).encode(),s=Et.truncDivision(l.getSize()*i,100)+11,u=l.getSize()+s,c,h,g,y,T;if(a!==ae.DEFAULT_AZTEC_LAYERS){if(c=a<0,h=Math.abs(a),h>(c?ae.MAX_NB_BITS_COMPACT:ae.MAX_NB_BITS))throw new k(Tt.format("Illegal value %s for layers",a));g=ae.totalBitsInLayer(h,c),y=ae.WORD_SIZE[h];let nt=g-g%y;if(T=ae.stuffBits(l,y),T.getSize()+s>nt)throw new k("Data to large for user specified layer");if(c&&T.getSize()>y*64)throw new k("Data to large for user specified layer")}else{y=0,T=null;for(let nt=0;;nt++){if(nt>ae.MAX_NB_BITS)throw new k("Data too large for an Aztec code");if(c=nt<=3,h=c?nt+1:nt,g=ae.totalBitsInLayer(h,c),u>g)continue;(T==null||y!==ae.WORD_SIZE[h])&&(y=ae.WORD_SIZE[h],T=ae.stuffBits(l,y));let Zt=g-g%y;if(!(c&&T.getSize()>y*64)&&T.getSize()+s<=Zt)break}}let v=ae.generateCheckWords(T,g,y),O=T.getSize()/y,_=ae.generateModeMessage(c,h,O),R=(c?11:14)+h*4,P=new Int32Array(R),Q;if(c){Q=R;for(let nt=0;nt<P.length;nt++)P[nt]=nt}else{Q=R+1+2*Et.truncDivision(Et.truncDivision(R,2)-1,15);let nt=Et.truncDivision(R,2),Zt=Et.truncDivision(Q,2);for(let _t=0;_t<nt;_t++){let pn=_t+Et.truncDivision(_t,15);P[nt-_t-1]=Zt-pn-1,P[nt+_t]=Zt+pn+1}}let rt=new Ae(Q);for(let nt=0,Zt=0;nt<h;nt++){let _t=(h-nt)*4+(c?9:12);for(let pn=0;pn<_t;pn++){let Vn=pn*2;for(let Tn=0;Tn<2;Tn++)v.get(Zt+Vn+Tn)&&rt.set(P[nt*2+Tn],P[nt*2+pn]),v.get(Zt+_t*2+Vn+Tn)&&rt.set(P[nt*2+pn],P[R-1-nt*2-Tn]),v.get(Zt+_t*4+Vn+Tn)&&rt.set(P[R-1-nt*2-Tn],P[R-1-nt*2-pn]),v.get(Zt+_t*6+Vn+Tn)&&rt.set(P[R-1-nt*2-pn],P[nt*2+Tn])}Zt+=_t*8}if(ae.drawModeMessage(rt,c,Q,_),c)ae.drawBullsEye(rt,Et.truncDivision(Q,2),5);else{ae.drawBullsEye(rt,Et.truncDivision(Q,2),7);for(let nt=0,Zt=0;nt<Et.truncDivision(R,2)-1;nt+=15,Zt+=16)for(let _t=Et.truncDivision(Q,2)&1;_t<Q;_t+=2)rt.set(Et.truncDivision(Q,2)-Zt,_t),rt.set(Et.truncDivision(Q,2)+Zt,_t),rt.set(_t,Et.truncDivision(Q,2)-Zt),rt.set(_t,Et.truncDivision(Q,2)+Zt)}let st=new Sl;return st.setCompact(c),st.setSize(Q),st.setLayers(h),st.setCodeWords(O),st.setMatrix(rt),st}static drawBullsEye(e,i,a){for(let l=0;l<a;l+=2)for(let s=i-l;s<=i+l;s++)e.set(s,i-l),e.set(s,i+l),e.set(i-l,s),e.set(i+l,s);e.set(i-a,i-a),e.set(i-a+1,i-a),e.set(i-a,i-a+1),e.set(i+a,i-a),e.set(i+a,i-a+1),e.set(i+a,i+a-1)}static generateModeMessage(e,i,a){let l=new kt;return e?(l.appendBits(i-1,2),l.appendBits(a-1,6),l=ae.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(a-1,11),l=ae.generateCheckWords(l,40,4)),l}static drawModeMessage(e,i,a,l){let s=Et.truncDivision(a,2);if(i)for(let u=0;u<7;u++){let c=s-3+u;l.get(u)&&e.set(c,s-5),l.get(u+7)&&e.set(s+5,c),l.get(20-u)&&e.set(c,s+5),l.get(27-u)&&e.set(s-5,c)}else for(let u=0;u<10;u++){let c=s-5+u+Et.truncDivision(u,5);l.get(u)&&e.set(c,s-7),l.get(u+10)&&e.set(s+7,c),l.get(29-u)&&e.set(c,s+7),l.get(39-u)&&e.set(s-7,c)}}static generateCheckWords(e,i,a){let l=e.getSize()/a,s=new Cl(ae.getGF(a)),u=Et.truncDivision(i,a),c=ae.bitsToWords(e,a,u);s.encode(c,u-l);let h=i%a,g=new kt;g.appendBits(0,h);for(const y of Array.from(c))g.appendBits(y,a);return g}static bitsToWords(e,i,a){let l=new Int32Array(a),s,u;for(s=0,u=e.getSize()/i;s<u;s++){let c=0;for(let h=0;h<i;h++)c|=e.get(s*i+h)?1<<i-h-1:0;l[s]=c}return l}static getGF(e){switch(e){case 4:return Bt.AZTEC_PARAM;case 6:return Bt.AZTEC_DATA_6;case 8:return Bt.AZTEC_DATA_8;case 10:return Bt.AZTEC_DATA_10;case 12:return Bt.AZTEC_DATA_12;default:throw new k("Unsupported word size "+e)}}static stuffBits(e,i){let a=new kt,l=e.getSize(),s=(1<<i)-2;for(let u=0;u<l;u+=i){let c=0;for(let h=0;h<i;h++)(u+h>=l||e.get(u+h))&&(c|=1<<i-1-h);(c&s)===s?(a.appendBits(c&s,i),u--):(c&s)===0?(a.appendBits(c|1,i),u--):a.appendBits(c,i)}return a}static totalBitsInLayer(e,i){return((i?88:112)+16*e)*e}}ae.DEFAULT_EC_PERCENT=33,ae.DEFAULT_AZTEC_LAYERS=0,ae.MAX_NB_BITS=32,ae.MAX_NB_BITS_COMPACT=4,ae.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Pr{encode(e,i,a,l){return this.encodeWithHints(e,i,a,l,null)}encodeWithHints(e,i,a,l,s){let u=wl.ISO_8859_1,c=ae.DEFAULT_EC_PERCENT,h=ae.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has($e.CHARACTER_SET)&&(u=va.forName(s.get($e.CHARACTER_SET).toString())),s.has($e.ERROR_CORRECTION)&&(c=Et.parseInt(s.get($e.ERROR_CORRECTION).toString())),s.has($e.AZTEC_LAYERS)&&(h=Et.parseInt(s.get($e.AZTEC_LAYERS).toString()))),Pr.encodeLayers(e,i,a,l,u,c,h)}static encodeLayers(e,i,a,l,s,u,c){if(i!==lt.AZTEC)throw new k("Can only encode AZTEC, but got "+i);let h=ae.encode(Tt.getBytes(e,s),u,c);return Pr.renderResult(h,a,l)}static renderResult(e,i,a){let l=e.getMatrix();if(l==null)throw new yn;let s=l.getWidth(),u=l.getHeight(),c=Math.max(i,s),h=Math.max(a,u),g=Math.min(c/s,h/u),y=(c-s*g)/2,T=(h-u*g)/2,v=new Ae(c,h);for(let O=0,_=T;O<u;O++,_+=g)for(let R=0,P=y;R<s;R++,P+=g)l.get(R,O)&&v.setRegion(P,_,g,g);return v}}x.AbstractExpandedDecoder=dn,x.ArgumentException=z,x.ArithmeticException=Mn,x.AztecCode=Sl,x.AztecCodeReader=Or,x.AztecCodeWriter=Pr,x.AztecDecoder=me,x.AztecDetector=xl,x.AztecDetectorResult=fs,x.AztecEncoder=ae,x.AztecHighLevelEncoder=Ia,x.AztecPoint=Cn,x.BarcodeFormat=lt,x.Binarizer=te,x.BinaryBitmap=At,x.BitArray=kt,x.BitMatrix=Ae,x.BitSource=qn,x.BrowserAztecCodeReader=Co,x.BrowserBarcodeReader=So,x.BrowserCodeReader=wt,x.BrowserDatamatrixCodeReader=Br,x.BrowserMultiFormatReader=No,x.BrowserPDF417Reader=Mo,x.BrowserQRCodeReader=Oo,x.BrowserQRCodeSvgWriter=Xi,x.CharacterSetECI=q,x.ChecksumException=xt,x.Code128Reader=ot,x.Code39Reader=We,x.DataMatrixDecodedBitStreamParser=Ei,x.DataMatrixReader=yi,x.DecodeHintType=Lt,x.DecoderResult=be,x.DefaultGridSampler=gl,x.DetectorResult=Mr,x.EAN13Reader=ri,x.EncodeHintType=$e,x.Exception=S,x.FormatException=ut,x.GenericGF=Bt,x.GenericGFPoly=re,x.GlobalHistogramBinarizer=J,x.GridSampler=dl,x.GridSamplerInstance=Zn,x.HTMLCanvasElementLuminanceSource=B,x.HybridBinarizer=et,x.ITFReader=ee,x.IllegalArgumentException=k,x.IllegalStateException=yn,x.InvertedLuminanceSource=Wt,x.LuminanceSource=ht,x.MathUtils=Kt,x.MultiFormatOneDReader=In,x.MultiFormatReader=As,x.MultiFormatWriter=_o,x.NotFoundException=j,x.OneDReader=De,x.PDF417DecodedBitStreamParser=Z,x.PDF417DecoderErrorCorrection=rr,x.PDF417Reader=un,x.PDF417ResultMetadata=Ur,x.PerspectiveTransform=jn,x.PlanarYUVLuminanceSource=si,x.QRCodeByteMatrix=or,x.QRCodeDataMask=Ln,x.QRCodeDecodedBitStreamParser=Oe,x.QRCodeDecoderErrorCorrectionLevel=Xt,x.QRCodeDecoderFormatInformation=nn,x.QRCodeEncoder=Ie,x.QRCodeEncoderQRCode=Vi,x.QRCodeMaskUtil=Fe,x.QRCodeMatrixUtil=Ot,x.QRCodeMode=bt,x.QRCodeReader=li,x.QRCodeVersion=Ct,x.QRCodeWriter=ba,x.RGBLuminanceSource=ur,x.RSS14Reader=we,x.RSSExpandedReader=tt,x.ReaderException=lr,x.ReedSolomonDecoder=ai,x.ReedSolomonEncoder=Cl,x.ReedSolomonException=Pn,x.Result=ct,x.ResultMetadataType=Mt,x.ResultPoint=mt,x.StringUtils=Tt,x.UnsupportedOperationException=Vt,x.VideoInputDevice=at,x.WhiteRectangleDetector=en,x.WriterException=Se,x.ZXingArrays=Nt,x.ZXingCharset=va,x.ZXingInteger=Et,x.ZXingStandardCharsets=wl,x.ZXingStringBuilder=Pt,x.ZXingStringEncoding=Ce,x.ZXingSystem=St,x.createAbstractExpandedDecoder=Yi,Object.defineProperty(x,"__esModule",{value:!0})})}(cs,cs.exports)),cs.exports}var ze=wd();const Sd=sd(ze),pd=ld({__proto__:null,default:Sd},[ze]);var Mf=function(){function m(A,x,E){if(this.formatMap=new Map([[gt.QR_CODE,ze.BarcodeFormat.QR_CODE],[gt.AZTEC,ze.BarcodeFormat.AZTEC],[gt.CODABAR,ze.BarcodeFormat.CODABAR],[gt.CODE_39,ze.BarcodeFormat.CODE_39],[gt.CODE_93,ze.BarcodeFormat.CODE_93],[gt.CODE_128,ze.BarcodeFormat.CODE_128],[gt.DATA_MATRIX,ze.BarcodeFormat.DATA_MATRIX],[gt.MAXICODE,ze.BarcodeFormat.MAXICODE],[gt.ITF,ze.BarcodeFormat.ITF],[gt.EAN_13,ze.BarcodeFormat.EAN_13],[gt.EAN_8,ze.BarcodeFormat.EAN_8],[gt.PDF_417,ze.BarcodeFormat.PDF_417],[gt.RSS_14,ze.BarcodeFormat.RSS_14],[gt.RSS_EXPANDED,ze.BarcodeFormat.RSS_EXPANDED],[gt.UPC_A,ze.BarcodeFormat.UPC_A],[gt.UPC_E,ze.BarcodeFormat.UPC_E],[gt.UPC_EAN_EXTENSION,ze.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!pd)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=x,this.logger=E;var b=this.createZXingFormats(A),w=new Map;w.set(ze.DecodeHintType.POSSIBLE_FORMATS,b),w.set(ze.DecodeHintType.TRY_HARDER,!1),this.hints=w}return m.prototype.decodeAsync=function(A){var x=this;return new Promise(function(E,b){try{E(x.decode(A))}catch(w){b(w)}})},m.prototype.decode=function(A){var x=new ze.MultiFormatReader(this.verbose,this.hints),E=new ze.HTMLCanvasElementLuminanceSource(A),b=new ze.BinaryBitmap(new ze.HybridBinarizer(E)),w=x.decode(b);return{text:w.text,format:kf.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},m.prototype.createReverseFormatMap=function(){var A=new Map;return this.formatMap.forEach(function(x,E,b){A.set(x,E)}),A},m.prototype.toHtml5QrcodeSupportedFormats=function(A){if(!this.reverseFormatMap.has(A))throw"reverseFormatMap doesn't have ".concat(A);return this.reverseFormatMap.get(A)},m.prototype.createZXingFormats=function(A){for(var x=[],E=0,b=A;E<b.length;E++){var w=b[E];this.formatMap.has(w)?x.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return x},m.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},m}(),Td=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},bd=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Of=function(){function m(A,x,E){if(this.formatMap=new Map([[gt.QR_CODE,"qr_code"],[gt.AZTEC,"aztec"],[gt.CODABAR,"codabar"],[gt.CODE_39,"code_39"],[gt.CODE_93,"code_93"],[gt.CODE_128,"code_128"],[gt.DATA_MATRIX,"data_matrix"],[gt.ITF,"itf"],[gt.EAN_13,"ean_13"],[gt.EAN_8,"ean_8"],[gt.PDF_417,"pdf417"],[gt.UPC_A,"upc_a"],[gt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!m.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=x,this.logger=E;var b=this.createBarcodeDetectorFormats(A);if(this.detector=new BarcodeDetector(b),!this.detector)throw"BarcodeDetector detector not supported"}return m.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var A=new BarcodeDetector({formats:["qr_code"]});return typeof A<"u"},m.prototype.decodeAsync=function(A){return Td(this,void 0,void 0,function(){var x,E;return bd(this,function(b){switch(b.label){case 0:return[4,this.detector.detect(A)];case 1:if(x=b.sent(),!x||x.length===0)throw"No barcode or QR code detected.";return E=this.selectLargestBarcode(x),[2,{text:E.rawValue,format:kf.create(this.toHtml5QrcodeSupportedFormats(E.format)),debugData:this.createDebugData()}]}})})},m.prototype.selectLargestBarcode=function(A){for(var x=null,E=0,b=0,w=A;b<w.length;b++){var D=w[b],V=D.boundingBox.width*D.boundingBox.height;V>E&&(E=V,x=D)}if(!x)throw"No largest barcode found";return x},m.prototype.createBarcodeDetectorFormats=function(A){for(var x=[],E=0,b=A;E<b.length;E++){var w=b[E];this.formatMap.has(w)?x.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:x}},m.prototype.toHtml5QrcodeSupportedFormats=function(A){if(!this.reverseFormatMap.has(A))throw"reverseFormatMap doesn't have ".concat(A);return this.reverseFormatMap.get(A)},m.prototype.createReverseFormatMap=function(){var A=new Map;return this.formatMap.forEach(function(x,E,b){A.set(x,E)}),A},m.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},m}(),If=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},_f=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},vd=function(){function m(A,x,E,b){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=E,x&&Of.isSupported()?(this.primaryDecoder=new Of(A,E,b),this.secondaryDecoder=new Mf(A,E,b)):this.primaryDecoder=new Mf(A,E,b)}return m.prototype.decodeAsync=function(A){return If(this,void 0,void 0,function(){var x;return _f(this,function(E){switch(E.label){case 0:x=performance.now(),E.label=1;case 1:return E.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(A)];case 2:return[2,E.sent()];case 3:return this.possiblyLogPerformance(x),[7];case 4:return[2]}})})},m.prototype.decodeRobustlyAsync=function(A){return If(this,void 0,void 0,function(){var x,E;return _f(this,function(b){switch(b.label){case 0:x=performance.now(),b.label=1;case 1:return b.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(A)];case 2:return[2,b.sent()];case 3:if(E=b.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(A)];throw E;case 4:return this.possiblyLogPerformance(x),[7];case 5:return[2]}})})},m.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},m.prototype.possiblyLogPerformance=function(A){if(this.verbose){var x=performance.now()-A;this.executionResults.push(x),this.executions++,this.possiblyFlushPerformanceReport()}},m.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var A=0,x=0,E=this.executionResults;x<E.length;x++){var b=E[x];A+=b}var w=A/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},m}(),vc=function(){var m=function(A,x){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(E[w]=b[w])},m(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");m(A,x);function E(){this.constructor=A}A.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}}(),Eo=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},yo=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Yf=function(){function m(A,x){this.name=A,this.track=x}return m.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},m.prototype.apply=function(A){var x={};x[this.name]=A;var E={advanced:[x]};return this.track.applyConstraints(E)},m.prototype.value=function(){var A=this.track.getSettings();if(this.name in A){var x=A[this.name];return x}return null},m}(),Nd=function(m){vc(A,m);function A(x,E){return m.call(this,x,E)||this}return A.prototype.min=function(){return this.getCapabilities().min},A.prototype.max=function(){return this.getCapabilities().max},A.prototype.step=function(){return this.getCapabilities().step},A.prototype.apply=function(x){var E={};E[this.name]=x;var b={advanced:[E]};return this.track.applyConstraints(b)},A.prototype.getCapabilities=function(){this.failIfNotSupported();var x=this.track.getCapabilities(),E=x[this.name];return{min:E.min,max:E.max,step:E.step}},A.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},A}(Yf),Md=function(m){vc(A,m);function A(x){return m.call(this,"zoom",x)||this}return A}(Nd),Od=function(m){vc(A,m);function A(x){return m.call(this,"torch",x)||this}return A}(Yf),Id=function(){function m(A){this.track=A}return m.prototype.zoomFeature=function(){return new Md(this.track)},m.prototype.torchFeature=function(){return new Od(this.track)},m}(),_d=function(){function m(A,x,E){this.isClosed=!1,this.parentElement=A,this.mediaStream=x,this.callbacks=E,this.surface=this.createVideoElement(this.parentElement.clientWidth),A.append(this.surface)}return m.prototype.createVideoElement=function(A){var x=document.createElement("video");return x.style.width="".concat(A,"px"),x.style.display="block",x.muted=!0,x.setAttribute("muted","true"),x.playsInline=!0,x},m.prototype.setupSurface=function(){var A=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var x=function(){var E=A.surface.clientWidth,b=A.surface.clientHeight;A.callbacks.onRenderSurfaceReady(E,b),A.surface.removeEventListener("playing",x)};this.surface.addEventListener("playing",x),this.surface.srcObject=this.mediaStream,this.surface.play()},m.create=function(A,x,E,b){return Eo(this,void 0,void 0,function(){var w,D;return yo(this,function(V){switch(V.label){case 0:return w=new m(A,x,b),E.aspectRatio?(D={aspectRatio:E.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(D)]):[3,2];case 1:V.sent(),V.label=2;case 2:return w.setupSurface(),[2,w]}})})},m.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},m.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},m.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},m.prototype.resume=function(A){this.failIfClosed();var x=this,E=function(){setTimeout(A,200),x.surface.removeEventListener("playing",E)};this.surface.addEventListener("playing",E),this.surface.play()},m.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},m.prototype.getSurface=function(){return this.failIfClosed(),this.surface},m.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},m.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},m.prototype.applyVideoConstraints=function(A){return Eo(this,void 0,void 0,function(){return yo(this,function(x){if("aspectRatio"in A)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(A)]})})},m.prototype.close=function(){if(this.isClosed)return Promise.resolve();var A=this;return new Promise(function(x,E){var b=A.mediaStream.getVideoTracks(),w=b.length,D=0;A.mediaStream.getVideoTracks().forEach(function(V){A.mediaStream.removeTrack(V),V.stop(),++D,D>=w&&(A.isClosed=!0,A.parentElement.removeChild(A.surface),x())})})},m.prototype.getCapabilities=function(){return new Id(this.getFirstTrackOrFail())},m}(),Dd=function(){function m(A){this.mediaStream=A}return m.prototype.render=function(A,x,E){return Eo(this,void 0,void 0,function(){return yo(this,function(b){return[2,_d.create(A,this.mediaStream,x,E)]})})},m.create=function(A){return Eo(this,void 0,void 0,function(){var x,E;return yo(this,function(b){switch(b.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return x={audio:!1,video:A},[4,navigator.mediaDevices.getUserMedia(x)];case 1:return E=b.sent(),[2,new m(E)]}})})},m}(),Df=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},Rf=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Rd=function(){function m(){}return m.failIfNotSupported=function(){return Df(this,void 0,void 0,function(){return Rf(this,function(A){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new m]})})},m.prototype.create=function(A){return Df(this,void 0,void 0,function(){return Rf(this,function(x){return[2,Dd.create(A)]})})},m}(),Bd=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},Ld=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Ud=function(){function m(){}return m.retrieve=function(){if(navigator.mediaDevices)return m.getCamerasFromMediaDevices();var A=MediaStreamTrack;return MediaStreamTrack&&A.getSources?m.getCamerasFromMediaStreamTrack():m.rejectWithError()},m.rejectWithError=function(){var A=hl.unableToQuerySupportedDevices();return m.isHttpsOrLocalhost()||(A=hl.insecureContextCameraQueryError()),Promise.reject(A)},m.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var A=location.host.split(":")[0];return A==="127.0.0.1"||A==="localhost"},m.getCamerasFromMediaDevices=function(){return Bd(this,void 0,void 0,function(){var A,x,E,b,w,D,V;return Ld(this,function(F){switch(F.label){case 0:return A=function(S){for(var z=S.getVideoTracks(),k=0,At=z;k<At.length;k++){var xt=At[k];xt.enabled=!1,xt.stop(),S.removeTrack(xt)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return x=F.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(E=F.sent(),b=[],w=0,D=E;w<D.length;w++)V=D[w],V.kind==="videoinput"&&b.push({id:V.deviceId,label:V.label});return A(x),[2,b]}})})},m.getCamerasFromMediaStreamTrack=function(){return new Promise(function(A,x){var E=function(w){for(var D=[],V=0,F=w;V<F.length;V++){var S=F[V];S.kind==="video"&&D.push({id:S.id,label:S.label})}A(D)},b=MediaStreamTrack;b.getSources(E)})},m}(),Qe;(function(m){m[m.UNKNOWN=0]="UNKNOWN",m[m.NOT_STARTED=1]="NOT_STARTED",m[m.SCANNING=2]="SCANNING",m[m.PAUSED=3]="PAUSED"})(Qe||(Qe={}));var zd=function(){function m(){this.state=Qe.NOT_STARTED,this.onGoingTransactionNewState=Qe.UNKNOWN}return m.prototype.directTransition=function(A){this.failIfTransitionOngoing(),this.validateTransition(A),this.state=A},m.prototype.startTransition=function(A){return this.failIfTransitionOngoing(),this.validateTransition(A),this.onGoingTransactionNewState=A,this},m.prototype.execute=function(){if(this.onGoingTransactionNewState===Qe.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var A=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Qe.UNKNOWN,this.directTransition(A)},m.prototype.cancel=function(){if(this.onGoingTransactionNewState===Qe.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Qe.UNKNOWN},m.prototype.getState=function(){return this.state},m.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Qe.UNKNOWN)throw"Cannot transition to a new state, already under transition"},m.prototype.validateTransition=function(A){switch(this.state){case Qe.UNKNOWN:throw"Transition from unknown is not allowed";case Qe.NOT_STARTED:this.failIfNewStateIs(A,[Qe.PAUSED]);break;case Qe.SCANNING:break;case Qe.PAUSED:break}},m.prototype.failIfNewStateIs=function(A,x){for(var E=0,b=x;E<b.length;E++){var w=b[E];if(A===w)throw"Cannot transition from ".concat(this.state," to ").concat(A)}},m}(),Fd=function(){function m(A){this.stateManager=A}return m.prototype.startTransition=function(A){return this.stateManager.startTransition(A)},m.prototype.directTransition=function(A){this.stateManager.directTransition(A)},m.prototype.getState=function(){return this.stateManager.getState()},m.prototype.canScanFile=function(){return this.stateManager.getState()===Qe.NOT_STARTED},m.prototype.isScanning=function(){return this.stateManager.getState()!==Qe.NOT_STARTED},m.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Qe.SCANNING},m.prototype.isPaused=function(){return this.stateManager.getState()===Qe.PAUSED},m}(),kd=function(){function m(){}return m.create=function(){return new Fd(new zd)},m}(),Hd=function(){var m=function(A,x){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,b){E.__proto__=b}||function(E,b){for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(E[w]=b[w])},m(A,x)};return function(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");m(A,x);function E(){this.constructor=A}A.prototype=x===null?Object.create(x):(E.prototype=x.prototype,new E)}}(),ei=function(m){Hd(A,m);function A(){return m!==null&&m.apply(this,arguments)||this}return A.DEFAULT_WIDTH=300,A.DEFAULT_WIDTH_OFFSET=2,A.FILE_SCAN_MIN_HEIGHT=300,A.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,A.MIN_QR_BOX_SIZE=50,A.SHADED_LEFT=1,A.SHADED_RIGHT=2,A.SHADED_TOP=3,A.SHADED_BOTTOM=4,A.SHADED_REGION_ELEMENT_ID="qr-shaded-region",A.VERBOSE=!1,A.BORDER_SHADER_DEFAULT_COLOR="#ffffff",A.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",A}(Ti),Pd=function(){function m(A,x){this.logger=x,this.fps=ei.SCAN_DEFAULT_FPS,A?(A.fps&&(this.fps=A.fps),this.disableFlip=A.disableFlip===!0,this.qrbox=A.qrbox,this.aspectRatio=A.aspectRatio,this.videoConstraints=A.videoConstraints):this.disableFlip=ei.DEFAULT_DISABLE_FLIP}return m.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?jf.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},m.prototype.isShadedBoxEnabled=function(){return!Pi(this.qrbox)},m.create=function(A,x){return new m(A,x)},m}(),Bf=function(){function m(A,x){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(A))throw"HTML Element with id=".concat(A," not found");this.elementId=A,this.verbose=!1;var E;typeof x=="boolean"?this.verbose=x===!0:x&&(E=x,this.verbose=E.verbose===!0,E.experimentalFeatures),this.logger=new Pf(this.verbose),this.qrcode=new vd(this.getSupportedFormats(x),this.getUseBarCodeDetectorIfSupported(E),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=kd.create()}return m.prototype.start=function(A,x,E,b){var w=this;if(!A)throw"cameraIdOrConfig is required";if(!E||typeof E!="function")throw"qrCodeSuccessCallback is required and should be a function.";var D;b?D=b:D=this.verbose?this.logger.log:function(){};var V=Pd.create(x,this.logger);this.clearElement();var F=!1;V.videoConstraints&&(V.isMediaStreamConstraintsValid()?F=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var S=F,z=document.getElementById(this.elementId);z.clientWidth?z.clientWidth:ei.DEFAULT_WIDTH,z.style.position="relative",this.shouldScan=!0,this.element=z;var k=this,At=this.stateManagerProxy.startTransition(Qe.SCANNING);return new Promise(function(xt,te){var St=S?V.videoConstraints:k.createVideoConstraints(A);if(!St){At.cancel(),te("videoConstraints should be defined");return}var Ut={};(!S||V.aspectRatio)&&(Ut.aspectRatio=V.aspectRatio);var xe={onRenderSurfaceReady:function(Nt,Et){k.setupUi(Nt,Et,V),k.isScanning=!0,k.foreverScan(V,E,D)}};Rd.failIfNotSupported().then(function(Nt){Nt.create(St).then(function(Et){return Et.render(w.element,Ut,xe).then(function(kt){k.renderedCamera=kt,At.execute(),xt(null)}).catch(function(kt){At.cancel(),te(kt)})}).catch(function(Et){At.cancel(),te(hl.errorGettingUserMedia(Et))})}).catch(function(Nt){At.cancel(),te(hl.cameraStreamingNotSupported())})})},m.prototype.pause=function(A){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Qe.PAUSED),this.showPausedState(),(Pi(A)||A!==!0)&&(A=!1),A&&this.renderedCamera&&this.renderedCamera.pause()},m.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var A=this,x=function(){A.stateManagerProxy.directTransition(Qe.SCANNING),A.hidePausedState()};if(!this.renderedCamera.isPaused()){x();return}this.renderedCamera.resume(function(){x()})},m.prototype.getState=function(){return this.stateManagerProxy.getState()},m.prototype.stop=function(){var A=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var x=this.stateManagerProxy.startTransition(Qe.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var E=function(){if(A.element){var w=document.getElementById(ei.SHADED_REGION_ELEMENT_ID);w&&A.element.removeChild(w)}},b=this;return this.renderedCamera.close().then(function(){return b.renderedCamera=null,b.element&&(b.element.removeChild(b.canvasElement),b.canvasElement=null),E(),b.qrRegion&&(b.qrRegion=null),b.context&&(b.context=null),x.execute(),b.hidePausedState(),b.isScanning=!1,Promise.resolve()})},m.prototype.scanFile=function(A,x){return this.scanFileV2(A,x).then(function(E){return E.decodedText})},m.prototype.scanFileV2=function(A,x){var E=this;if(!A||!(A instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Pi(x)&&(x=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(b,w){E.possiblyCloseLastScanImageFile(),E.clearElement(),E.lastScanImageFile=URL.createObjectURL(A);var D=new Image;D.onload=function(){var V=D.width,F=D.height,S=document.getElementById(E.elementId),z=S.clientWidth?S.clientWidth:ei.DEFAULT_WIDTH,k=Math.max(S.clientHeight?S.clientHeight:F,ei.FILE_SCAN_MIN_HEIGHT),At=E.computeCanvasDrawConfig(V,F,z,k);if(x){var xt=E.createCanvasElement(z,k,"qr-canvas-visible");xt.style.display="inline-block",S.appendChild(xt);var te=xt.getContext("2d");if(!te)throw"Unable to get 2d context from canvas";te.canvas.width=z,te.canvas.height=k,te.drawImage(D,0,0,V,F,At.x,At.y,At.width,At.height)}var St=ei.FILE_SCAN_HIDDEN_CANVAS_PADDING,Ut=Math.max(D.width,At.width),xe=Math.max(D.height,At.height),Nt=Ut+2*St,Et=xe+2*St,kt=E.createCanvasElement(Nt,Et);S.appendChild(kt);var Ht=kt.getContext("2d");if(!Ht)throw"Unable to get 2d context from canvas";Ht.canvas.width=Nt,Ht.canvas.height=Et,Ht.drawImage(D,0,0,V,F,St,St,Ut,xe);try{E.qrcode.decodeRobustlyAsync(kt).then(function(Lt){b(bf.createFromQrcodeResult(Lt))}).catch(w)}catch(Lt){w("QR code parse error, error = ".concat(Lt))}},D.onerror=w,D.onabort=w,D.onstalled=w,D.onsuspend=w,D.src=URL.createObjectURL(A)})},m.prototype.clear=function(){this.clearElement()},m.getCameras=function(){return Ud.retrieve()},m.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},m.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},m.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},m.prototype.applyVideoConstraints=function(A){if(A){if(!jf.isMediaStreamConstraintsValid(A,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(A)},m.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},m.prototype.getSupportedFormats=function(A){var x=[gt.QR_CODE,gt.AZTEC,gt.CODABAR,gt.CODE_39,gt.CODE_93,gt.CODE_128,gt.DATA_MATRIX,gt.MAXICODE,gt.ITF,gt.EAN_13,gt.EAN_8,gt.PDF_417,gt.RSS_14,gt.RSS_EXPANDED,gt.UPC_A,gt.UPC_E,gt.UPC_EAN_EXTENSION];if(!A||typeof A=="boolean"||!A.formatsToSupport)return x;if(!Array.isArray(A.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(A.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var E=[],b=0,w=A.formatsToSupport;b<w.length;b++){var D=w[b];Ed(D)?E.push(D):this.logger.warn("Invalid format: ".concat(D," passed in config, ignoring."))}if(E.length===0)throw"None of formatsToSupport match supported values.";return E},m.prototype.getUseBarCodeDetectorIfSupported=function(A){if(Pi(A))return!0;if(!Pi(A.useBarCodeDetectorIfSupported))return A.useBarCodeDetectorIfSupported!==!1;if(Pi(A.experimentalFeatures))return!0;var x=A.experimentalFeatures;return Pi(x.useBarCodeDetectorIfSupported)?!0:x.useBarCodeDetectorIfSupported!==!1},m.prototype.validateQrboxSize=function(A,x,E){var b=this,w=E.qrbox;this.validateQrboxConfig(w);var D=this.toQrdimensions(A,x,w),V=function(S){if(S<ei.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ei.MIN_QR_BOX_SIZE,"px.")},F=function(S){return S>A&&(b.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),S=A),S};V(D.width),V(D.height),D.width=F(D.width)},m.prototype.validateQrboxConfig=function(A){if(typeof A!="number"&&typeof A!="function"&&(A.width===void 0||A.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},m.prototype.toQrdimensions=function(A,x,E){if(typeof E=="number")return{width:E,height:E};if(typeof E=="function")try{return E(A,x)}catch(b){throw new Error("qrbox config was passed as a function but it failed with unknown error"+b)}return E},m.prototype.setupUi=function(A,x,E){E.isShadedBoxEnabled()&&this.validateQrboxSize(A,x,E);var b=Pi(E.qrbox)?{width:A,height:x}:E.qrbox;this.validateQrboxConfig(b);var w=this.toQrdimensions(A,x,b);w.height>x&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var D=E.isShadedBoxEnabled()&&w.height<=x,V={x:0,y:0,width:A,height:x},F=D?this.getShadedRegionBounds(A,x,w):V,S=this.createCanvasElement(F.width,F.height),z={willReadFrequently:!0},k=S.getContext("2d",z);k.canvas.width=F.width,k.canvas.height=F.height,this.element.append(S),D&&this.possiblyInsertShadingElement(this.element,A,x,w),this.createScannerPausedUiElement(this.element),this.qrRegion=F,this.context=k,this.canvasElement=S},m.prototype.createScannerPausedUiElement=function(A){var x=document.createElement("div");x.innerText=hl.scannerPaused(),x.style.display="none",x.style.position="absolute",x.style.top="0px",x.style.zIndex="1",x.style.background="rgba(9, 9, 9, 0.46)",x.style.color="#FFECEC",x.style.textAlign="center",x.style.width="100%",A.appendChild(x),this.scannerPausedUiElement=x},m.prototype.scanContext=function(A,x){var E=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(b){return A(b.text,bf.createFromQrcodeResult(b)),E.possiblyUpdateShaders(!0),!0}).catch(function(b){E.possiblyUpdateShaders(!1);var w=hl.codeParseError(b);return x(w,Hf.createFrom(w)),!1})},m.prototype.foreverScan=function(A,x,E){var b=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),D=w.videoWidth/w.clientWidth,V=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var F=this.qrRegion.width*D,S=this.qrRegion.height*V,z=this.qrRegion.x*D,k=this.qrRegion.y*V;this.context.drawImage(w,z,k,F,S,0,0,this.qrRegion.width,this.qrRegion.height);var At=function(){b.foreverScanTimeout=setTimeout(function(){b.foreverScan(A,x,E)},b.getTimeoutFps(A.fps))};this.scanContext(x,E).then(function(xt){!xt&&A.disableFlip!==!0?(b.context.translate(b.context.canvas.width,0),b.context.scale(-1,1),b.scanContext(x,E).finally(function(){At()})):At()}).catch(function(xt){b.logger.logError("Error happend while scanning context",xt),At()})}},m.prototype.createVideoConstraints=function(A){if(typeof A=="string")return{deviceId:{exact:A}};if(typeof A=="object"){var x="facingMode",E="deviceId",b={user:!0,environment:!0},w="exact",D=function(te){if(te in b)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(te,"'")},V=Object.keys(A);if(V.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(V.length," keys");var F=Object.keys(A)[0];if(F!==x&&F!==E)throw"Only '".concat(x,"' and '").concat(E,"' ")+" are supported for 'cameraIdOrConfig'";if(F===x){var S=A.facingMode;if(typeof S=="string"){if(D(S))return{facingMode:S}}else if(typeof S=="object")if(w in S){if(D(S["".concat(w)]))return{facingMode:{exact:S["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var z=typeof S;throw"Invalid type of 'facingMode' = ".concat(z)}}else{var k=A.deviceId;if(typeof k=="string")return{deviceId:k};if(typeof k=="object"){if(w in k)return{deviceId:{exact:k["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var At=typeof k;throw"Invalid type of 'deviceId' = ".concat(At)}}}var xt=typeof A;throw"Invalid type of 'cameraIdOrConfig' = ".concat(xt)},m.prototype.computeCanvasDrawConfig=function(A,x,E,b){if(A<=E&&x<=b){var w=(E-A)/2,D=(b-x)/2;return{x:w,y:D,width:A,height:x}}else{var V=A,F=x;return A>E&&(x=E/A*x,A=E),x>b&&(A=b/x*A,x=b),this.logger.log("Image downsampled from "+"".concat(V,"X").concat(F)+" to ".concat(A,"X").concat(x,".")),this.computeCanvasDrawConfig(A,x,E,b)}},m.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var A=document.getElementById(this.elementId);A&&(A.innerHTML="")},m.prototype.possiblyUpdateShaders=function(A){this.qrMatch!==A&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(x){x.style.backgroundColor=A?ei.BORDER_SHADER_MATCH_COLOR:ei.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=A)},m.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},m.prototype.createCanvasElement=function(A,x,E){var b=A,w=x,D=document.createElement("canvas");return D.style.width="".concat(b,"px"),D.style.height="".concat(w,"px"),D.style.display="none",D.id=Pi(E)?"qr-canvas":E,D},m.prototype.getShadedRegionBounds=function(A,x,E){if(E.width>A||E.height>x)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(A-E.width)/2,y:(x-E.height)/2,width:E.width,height:E.height}},m.prototype.possiblyInsertShadingElement=function(A,x,E,b){if(!(x-b.width<1||E-b.height<1)){var w=document.createElement("div");w.style.position="absolute";var D=(x-b.width)/2,V=(E-b.height)/2;if(w.style.borderLeft="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(V,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(V,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(ei.SHADED_REGION_ELEMENT_ID),x-b.width<11||E-b.height<11)this.hasBorderShaders=!1;else{var F=5,S=40;this.insertShaderBorders(w,S,F,-F,null,0,!0),this.insertShaderBorders(w,S,F,-F,null,0,!1),this.insertShaderBorders(w,S,F,null,-F,0,!0),this.insertShaderBorders(w,S,F,null,-F,0,!1),this.insertShaderBorders(w,F,S+F,-F,null,-F,!0),this.insertShaderBorders(w,F,S+F,null,-F,-F,!0),this.insertShaderBorders(w,F,S+F,-F,null,-F,!1),this.insertShaderBorders(w,F,S+F,null,-F,-F,!1),this.hasBorderShaders=!0}A.append(w)}},m.prototype.insertShaderBorders=function(A,x,E,b,w,D,V){var F=document.createElement("div");F.style.position="absolute",F.style.backgroundColor=ei.BORDER_SHADER_DEFAULT_COLOR,F.style.width="".concat(x,"px"),F.style.height="".concat(E,"px"),b!==null&&(F.style.top="".concat(b,"px")),w!==null&&(F.style.bottom="".concat(w,"px")),V?F.style.left="".concat(D,"px"):F.style.right="".concat(D,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(F),A.appendChild(F)},m.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},m.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},m.prototype.getTimeoutFps=function(A){return 1e3/A},m}(),Nc="data:image/svg+xml;base64,",jd=Nc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Yd=Nc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Lf=Nc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Gd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Uf=function(){function m(){}return m.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},m}(),Vd=function(){function m(){this.data=Uf.createDefault();var A=localStorage.getItem(m.LOCAL_STORAGE_KEY);A?this.data=JSON.parse(A):this.reset()}return m.prototype.hasCameraPermissions=function(){return this.data.hasPermission},m.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},m.prototype.setHasPermission=function(A){this.data.hasPermission=A,this.flush()},m.prototype.setLastUsedCameraId=function(A){this.data.lastUsedCameraId=A,this.flush()},m.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},m.prototype.reset=function(){this.data=Uf.createDefault(),this.flush()},m.prototype.flush=function(){localStorage.setItem(m.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},m.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",m}(),Xd=function(){function m(){this.infoDiv=document.createElement("div")}return m.prototype.renderInto=function(A){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=vf.poweredBy();var x=document.createElement("a");x.innerText="ScanApp",x.href="https://scanapp.org",x.target="new",x.style.color="white",this.infoDiv.appendChild(x);var E=document.createElement("br"),b=document.createElement("br");this.infoDiv.appendChild(E),this.infoDiv.appendChild(b);var w=document.createElement("a");w.innerText=vf.reportIssues(),w.href="https://github.com/mebjas/html5-qrcode/issues",w.target="new",w.style.color="white",this.infoDiv.appendChild(w),A.appendChild(this.infoDiv)},m.prototype.show=function(){this.infoDiv.style.display="block"},m.prototype.hide=function(){this.infoDiv.style.display="none"},m}(),Zd=function(){function m(A,x){this.isShowingInfoIcon=!0,this.onTapIn=A,this.onTapOut=x,this.infoIcon=document.createElement("img")}return m.prototype.renderInto=function(A){var x=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Lf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(E){return x.onHoverIn()},this.infoIcon.onmouseout=function(E){return x.onHoverOut()},this.infoIcon.onclick=function(E){return x.onClick()},A.appendChild(this.infoIcon)},m.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},m.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},m.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Gd,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Lf,this.infoIcon.style.opacity="0.6")},m}(),Qd=function(){function m(){var A=this;this.infoDiv=new Xd,this.infoIcon=new Zd(function(){A.infoDiv.show()},function(){A.infoDiv.hide()})}return m.prototype.renderInto=function(A){this.infoDiv.renderInto(A),this.infoIcon.renderInto(A)},m}(),qd=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},Wd=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},zf=function(){function m(){}return m.hasPermissions=function(){return qd(this,void 0,void 0,function(){var A,x,E,b;return Wd(this,function(w){switch(w.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(A=w.sent(),x=0,E=A;x<E.length;x++)if(b=E[x],b.kind==="videoinput"&&b.label)return[2,!0];return[2,!1]}})})},m}(),Ka=function(){function m(A){this.supportedScanTypes=this.validateAndReturnScanTypes(A)}return m.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},m.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},m.prototype.isCameraScanRequired=function(){for(var A=0,x=this.supportedScanTypes;A<x.length;A++){var E=x[A];if(m.isCameraScanType(E))return!0}return!1},m.isCameraScanType=function(A){return A===Ja.SCAN_TYPE_CAMERA},m.isFileScanType=function(A){return A===Ja.SCAN_TYPE_FILE},m.prototype.validateAndReturnScanTypes=function(A){if(!A||A.length===0)return Ti.DEFAULT_SUPPORTED_SCAN_TYPE;var x=Ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(A.length>x)throw"Max ".concat(x," values expected for ")+"supportedScanTypes";for(var E=0,b=A;E<b.length;E++){var w=b[E];if(!Ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(w))throw"Unsupported scan type ".concat(w)}return A},m}(),ii=function(){function m(){}return m.ALL_ELEMENT_CLASS="html5-qrcode-element",m.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",m.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",m.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",m.TORCH_BUTTON_ID="html5-qrcode-button-torch",m.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",m.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",m.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",m.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",m.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",m.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",m}(),fa=function(){function m(){}return m.createElement=function(A,x){var E=document.createElement(A);return E.id=x,E.classList.add(ii.ALL_ELEMENT_CLASS),A==="button"&&E.setAttribute("type","button"),E},m}(),Gf=function(m,A,x,E){function b(w){return w instanceof x?w:new x(function(D){D(w)})}return new(x||(x=Promise))(function(w,D){function V(z){try{S(E.next(z))}catch(k){D(k)}}function F(z){try{S(E.throw(z))}catch(k){D(k)}}function S(z){z.done?w(z.value):b(z.value).then(V,F)}S((E=E.apply(m,A||[])).next())})},Vf=function(m,A){var x={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,b,w,D;return D={next:V(0),throw:V(1),return:V(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function V(S){return function(z){return F([S,z])}}function F(S){if(E)throw new TypeError("Generator is already executing.");for(;D&&(D=0,S[0]&&(x=0)),x;)try{if(E=1,b&&(w=S[0]&2?b.return:S[0]?b.throw||((w=b.return)&&w.call(b),0):b.next)&&!(w=w.call(b,S[1])).done)return w;switch(b=0,w&&(S=[S[0]&2,w.value]),S[0]){case 0:case 1:w=S;break;case 4:return x.label++,{value:S[1],done:!1};case 5:x.label++,b=S[1],S=[0];continue;case 7:S=x.ops.pop(),x.trys.pop();continue;default:if(w=x.trys,!(w=w.length>0&&w[w.length-1])&&(S[0]===6||S[0]===2)){x=0;continue}if(S[0]===3&&(!w||S[1]>w[0]&&S[1]<w[3])){x.label=S[1];break}if(S[0]===6&&x.label<w[1]){x.label=w[1],w=S;break}if(w&&x.label<w[2]){x.label=w[2],x.ops.push(S);break}w[2]&&x.ops.pop(),x.trys.pop();continue}S=A.call(m,x)}catch(z){S=[6,z],b=0}finally{E=w=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},Ff=function(){function m(A,x,E){this.isTorchOn=!1,this.torchCapability=A,this.buttonController=x,this.onTorchActionFailureCallback=E}return m.prototype.isTorchEnabled=function(){return this.isTorchOn},m.prototype.flipState=function(){return Gf(this,void 0,void 0,function(){var A,x;return Vf(this,function(E){switch(E.label){case 0:this.buttonController.disable(),A=!this.isTorchOn,E.label=1;case 1:return E.trys.push([1,3,,4]),[4,this.torchCapability.apply(A)];case 2:return E.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),A),[3,4];case 3:return x=E.sent(),this.propagateFailure(A,x),this.buttonController.enable(),[3,4];case 4:return[2]}})})},m.prototype.updateUiBasedOnLatestSettings=function(A,x){A===x?(this.buttonController.setText(x?Te.torchOffButton():Te.torchOnButton()),this.isTorchOn=x):this.propagateFailure(x),this.buttonController.enable()},m.prototype.propagateFailure=function(A,x){var E=A?Te.torchOnFailedMessage():Te.torchOffFailedMessage();x&&(E+="; Error = "+x),this.onTorchActionFailureCallback(E)},m.prototype.reset=function(){this.isTorchOn=!1},m}(),Kd=function(){function m(A,x){this.onTorchActionFailureCallback=x,this.torchButton=fa.createElement("button",ii.TORCH_BUTTON_ID),this.torchController=new Ff(A,this,x)}return m.prototype.render=function(A,x){var E=this;this.torchButton.innerText=Te.torchOnButton(),this.torchButton.style.display=x.display,this.torchButton.style.marginLeft=x.marginLeft;var b=this;this.torchButton.addEventListener("click",function(w){return Gf(E,void 0,void 0,function(){return Vf(this,function(D){switch(D.label){case 0:return[4,b.torchController.flipState()];case 1:return D.sent(),b.torchController.isTorchEnabled()?(b.torchButton.classList.remove(ii.TORCH_BUTTON_CLASS_TORCH_OFF),b.torchButton.classList.add(ii.TORCH_BUTTON_CLASS_TORCH_ON)):(b.torchButton.classList.remove(ii.TORCH_BUTTON_CLASS_TORCH_ON),b.torchButton.classList.add(ii.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),A.appendChild(this.torchButton)},m.prototype.updateTorchCapability=function(A){this.torchController=new Ff(A,this,this.onTorchActionFailureCallback)},m.prototype.getTorchButton=function(){return this.torchButton},m.prototype.hide=function(){this.torchButton.style.display="none"},m.prototype.show=function(){this.torchButton.style.display="inline-block"},m.prototype.disable=function(){this.torchButton.disabled=!0},m.prototype.enable=function(){this.torchButton.disabled=!1},m.prototype.setText=function(A){this.torchButton.innerText=A},m.prototype.reset=function(){this.torchButton.innerText=Te.torchOnButton(),this.torchController.reset()},m.create=function(A,x,E,b){var w=new m(x,b);return w.render(A,E),w},m}(),Jd=function(){function m(A,x,E){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=x?"block":"none",A.appendChild(this.fileBasedScanRegion);var b=document.createElement("label");b.setAttribute("for",this.getFileScanInputId()),b.style.display="inline-block",this.fileBasedScanRegion.appendChild(b),this.fileSelectionButton=fa.createElement("button",ii.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(V){b.click()}),b.append(this.fileSelectionButton),this.fileScanInput=fa.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",b.appendChild(this.fileScanInput);var w=this;this.fileScanInput.addEventListener("change",function(V){if(!(V==null||V.target==null)){var F=V.target;if(!(F.files&&F.files.length===0)){var S=F.files,z=S[0],k=z.name;w.setImageNameToButton(k),E(z)}}});var D=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(D),this.fileBasedScanRegion.addEventListener("dragenter",function(V){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionActiveBorder(),V.stopPropagation(),V.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(V){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionDefaultBorder(),V.stopPropagation(),V.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(V){w.fileBasedScanRegion.style.border=w.fileBasedScanRegionActiveBorder(),V.stopPropagation(),V.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(V){V.stopPropagation(),V.preventDefault(),w.fileBasedScanRegion.style.border=w.fileBasedScanRegionDefaultBorder();var F=V.dataTransfer;if(F){var S=F.files;if(!S||S.length===0)return;for(var z=!1,k=0;k<S.length;++k){var At=S.item(k);if(At){var xt=/image.*/;if(At.type.match(xt)){z=!0;var te=At.name;w.setImageNameToButton(te),E(At),D.innerText=Te.dragAndDropMessage();break}}}z||(D.innerText=Te.dragAndDropMessageOnlyImages())}})}return m.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},m.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},m.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},m.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},m.prototype.createFileBasedScanRegion=function(){var A=document.createElement("div");return A.style.textAlign="center",A.style.margin="auto",A.style.width="80%",A.style.maxWidth="600px",A.style.border=this.fileBasedScanRegionDefaultBorder(),A.style.padding="10px",A.style.marginBottom="10px",A},m.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},m.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},m.prototype.createDragAndDropMessage=function(){var A=document.createElement("div");return A.innerText=Te.dragAndDropMessage(),A.style.fontWeight="400",A},m.prototype.setImageNameToButton=function(A){var x=20;if(A.length>x){var E=A.substring(0,8),b=A.length,w=A.substring(b-8,b);A="".concat(E,"....").concat(w)}var D=Te.fileSelectionChooseAnother()+" - "+A;this.fileSelectionButton.innerText=D},m.prototype.setInitialValueToButton=function(){var A=Te.fileSelectionChooseImage()+" - "+Te.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=A},m.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},m.create=function(A,x,E){var b=new m(A,x,E);return b},m}(),$d=function(){function m(A){this.selectElement=fa.createElement("select",ii.CAMERA_SELECTION_SELECT_ID),this.cameras=A,this.options=[]}return m.prototype.render=function(A){var x=document.createElement("span");x.style.marginRight="10px";var E=this.cameras.length;if(E===0)throw new Error("No cameras found");if(E===1)x.style.display="none";else{var b=Te.selectCamera();x.innerText="".concat(b," (").concat(this.cameras.length,")  ")}for(var w=1,D=0,V=this.cameras;D<V.length;D++){var F=V[D],S=F.id,z=F.label==null?S:F.label;(!z||z==="")&&(z=[Te.anonymousCameraPrefix(),w++].join(" "));var k=document.createElement("option");k.value=S,k.innerText=z,this.options.push(k),this.selectElement.appendChild(k)}x.appendChild(this.selectElement),A.appendChild(x)},m.prototype.disable=function(){this.selectElement.disabled=!0},m.prototype.isDisabled=function(){return this.selectElement.disabled===!0},m.prototype.enable=function(){this.selectElement.disabled=!1},m.prototype.getValue=function(){return this.selectElement.value},m.prototype.hasValue=function(A){for(var x=0,E=this.options;x<E.length;x++){var b=E[x];if(b.value===A)return!0}return!1},m.prototype.setValue=function(A){if(!this.hasValue(A))throw new Error("".concat(A," is not present in the camera list."));this.selectElement.value=A},m.prototype.hasSingleItem=function(){return this.cameras.length===1},m.prototype.numCameras=function(){return this.cameras.length},m.create=function(A,x){var E=new m(x);return E.render(A),E},m}(),t2=function(){function m(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=fa.createElement("input",ii.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return m.prototype.render=function(A,x){this.zoomElementContainer.style.display=x?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",A.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var E=Te.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(E),this.rangeText.style.marginRight="10px";var b=this;this.rangeInput.addEventListener("input",function(){return b.onValueChange()}),this.rangeInput.addEventListener("change",function(){return b.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},m.prototype.onValueChange=function(){var A=Te.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(A),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},m.prototype.setValues=function(A,x,E,b){this.rangeInput.min=A.toString(),this.rangeInput.max=x.toString(),this.rangeInput.step=b.toString(),this.rangeInput.value=E.toString(),this.onValueChange()},m.prototype.show=function(){this.zoomElementContainer.style.display="block"},m.prototype.hide=function(){this.zoomElementContainer.style.display="none"},m.prototype.setOnCameraZoomValueChangeCallback=function(A){this.onChangeCallback=A},m.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},m.create=function(A,x){var E=new m;return E.render(A,x),E},m}(),ni;(function(m){m[m.STATUS_DEFAULT=0]="STATUS_DEFAULT",m[m.STATUS_SUCCESS=1]="STATUS_SUCCESS",m[m.STATUS_WARNING=2]="STATUS_WARNING",m[m.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ni||(ni={}));function e2(m){return{fps:m.fps,qrbox:m.qrbox,aspectRatio:m.aspectRatio,disableFlip:m.disableFlip,videoConstraints:m.videoConstraints}}function n2(m,A){return{formatsToSupport:m.formatsToSupport,useBarCodeDetectorIfSupported:m.useBarCodeDetectorIfSupported,experimentalFeatures:m.experimentalFeatures,verbose:A}}var i2=function(){function m(A,x,E){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=A,this.config=this.createConfig(x),this.verbose=E===!0,!document.getElementById(A))throw"HTML Element with id=".concat(A," not found");this.scanTypeSelector=new Ka(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Pf(this.verbose),this.persistedDataManager=new Vd,x.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return m.prototype.render=function(A,x){var E=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(w,D){if(A)A(w,D);else{if(E.lastMatchFound===w)return;E.lastMatchFound=w,E.setHeaderMessage(Te.lastMatch(w),ni.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(w,D){x&&x(w,D)};var b=document.getElementById(this.elementId);if(!b)throw"HTML Element with id=".concat(this.elementId," not found");b.innerHTML="",this.createBasicLayout(b),this.html5Qrcode=new Bf(this.getScanRegionId(),n2(this.config,this.verbose))},m.prototype.pause=function(A){(Pi(A)||A!==!0)&&(A=!1),this.getHtml5QrcodeOrFail().pause(A)},m.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},m.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},m.prototype.clear=function(){var A=this,x=function(){var E=document.getElementById(A.elementId);E&&(E.innerHTML="",A.resetBasicLayout(E))};return this.html5Qrcode?new Promise(function(E,b){if(!A.html5Qrcode){E();return}A.html5Qrcode.isScanning?A.html5Qrcode.stop().then(function(w){if(!A.html5Qrcode){E();return}A.html5Qrcode.clear(),x(),E()}).catch(function(w){A.verbose&&A.logger.logError("Unable to stop qrcode scanner",w),b(w)}):(A.html5Qrcode.clear(),x(),E())}):Promise.resolve()},m.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},m.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},m.prototype.applyVideoConstraints=function(A){return this.getHtml5QrcodeOrFail().applyVideoConstraints(A)},m.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},m.prototype.createConfig=function(A){return A?(A.fps||(A.fps=Ti.SCAN_DEFAULT_FPS),A.rememberLastUsedCamera!==!Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(A.rememberLastUsedCamera=Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),A.supportedScanTypes||(A.supportedScanTypes=Ti.DEFAULT_SUPPORTED_SCAN_TYPE),A):{fps:Ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ti.DEFAULT_SUPPORTED_SCAN_TYPE}},m.prototype.createBasicLayout=function(A){A.style.position="relative",A.style.padding="0px",A.style.border="1px solid silver",this.createHeader(A);var x=document.createElement("div"),E=this.getScanRegionId();x.id=E,x.style.width="100%",x.style.minHeight="100px",x.style.textAlign="center",A.appendChild(x),Ka.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var b=document.createElement("div"),w=this.getDashboardId();b.id=w,b.style.width="100%",A.appendChild(b),this.setupInitialDashboard(b)},m.prototype.resetBasicLayout=function(A){A.style.border="none"},m.prototype.setupInitialDashboard=function(A){this.createSection(A),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},m.prototype.createHeader=function(A){var x=document.createElement("div");x.style.textAlign="left",x.style.margin="0px",A.appendChild(x);var E=new Qd;E.renderInto(x);var b=document.createElement("div");b.id=this.getHeaderMessageContainerId(),b.style.display="none",b.style.textAlign="center",b.style.fontSize="14px",b.style.padding="2px 10px",b.style.margin="4px",b.style.borderTop="1px solid #f6f6f6",x.appendChild(b)},m.prototype.createSection=function(A){var x=document.createElement("div");x.id=this.getDashboardSectionId(),x.style.width="100%",x.style.padding="10px 0px 10px 0px",x.style.textAlign="left",A.appendChild(x)},m.prototype.createCameraListUi=function(A,x,E){var b=this;b.showHideScanTypeSwapLink(!1),b.setHeaderMessage(Te.cameraPermissionRequesting());var w=function(){E||b.createPermissionButton(A,x)};Bf.getCameras().then(function(D){b.persistedDataManager.setHasPermission(!0),b.showHideScanTypeSwapLink(!0),b.resetHeaderMessage(),D&&D.length>0?(A.removeChild(x),b.renderCameraSelection(D)):(b.setHeaderMessage(Te.noCameraFound(),ni.STATUS_WARNING),w())}).catch(function(D){b.persistedDataManager.setHasPermission(!1),E?E.disabled=!1:w(),b.setHeaderMessage(D,ni.STATUS_WARNING),b.showHideScanTypeSwapLink(!0)})},m.prototype.createPermissionButton=function(A,x){var E=this,b=fa.createElement("button",this.getCameraPermissionButtonId());b.innerText=Te.cameraPermissionTitle(),b.addEventListener("click",function(){b.disabled=!0,E.createCameraListUi(A,x,b)}),x.appendChild(b)},m.prototype.createPermissionsUi=function(A,x){var E=this;if(Ka.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){zf.hasPermissions().then(function(b){b?E.createCameraListUi(A,x):(E.persistedDataManager.setHasPermission(!1),E.createPermissionButton(A,x))}).catch(function(b){E.persistedDataManager.setHasPermission(!1),E.createPermissionButton(A,x)});return}this.createPermissionButton(A,x)},m.prototype.createSectionControlPanel=function(){var A=document.getElementById(this.getDashboardSectionId()),x=document.createElement("div");A.appendChild(x);var E=document.createElement("div");E.id=this.getDashboardSectionCameraScanRegionId(),E.style.display=Ka.isCameraScanType(this.currentScanType)?"block":"none",x.appendChild(E);var b=document.createElement("div");b.style.textAlign="center",E.appendChild(b),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(E,b),this.renderFileScanUi(x)},m.prototype.renderFileScanUi=function(A){var x=Ka.isFileScanType(this.currentScanType),E=this,b=function(w){if(!E.html5Qrcode)throw"html5Qrcode not defined";Ka.isFileScanType(E.currentScanType)&&(E.setHeaderMessage(Te.loadingImage()),E.html5Qrcode.scanFileV2(w,!0).then(function(D){E.resetHeaderMessage(),E.qrCodeSuccessCallback(D.decodedText,D)}).catch(function(D){E.setHeaderMessage(D,ni.STATUS_WARNING),E.qrCodeErrorCallback(D,Hf.createFrom(D))}))};this.fileSelectionUi=Jd.create(A,x,b)},m.prototype.renderCameraSelection=function(A){var x=this,E=this,b=document.getElementById(this.getDashboardSectionCameraScanRegionId());b.style.textAlign="center";var w=t2.create(b,!1),D=function(St){var Ut=St.zoomFeature();if(Ut.isSupported()){w.setOnCameraZoomValueChangeCallback(function(Nt){Ut.apply(Nt)});var xe=1;x.config.defaultZoomValueIfSupported&&(xe=x.config.defaultZoomValueIfSupported),xe=yd(xe,Ut.min(),Ut.max()),w.setValues(Ut.min(),Ut.max(),xe,Ut.step()),w.show()}},V=$d.create(b,A),F=document.createElement("span"),S=fa.createElement("button",ii.CAMERA_START_BUTTON_ID);S.innerText=Te.scanButtonStartScanningText(),F.appendChild(S);var z=fa.createElement("button",ii.CAMERA_STOP_BUTTON_ID);z.innerText=Te.scanButtonStopScanningText(),z.style.display="none",z.disabled=!0,F.appendChild(z);var k,At=function(St){if(!St.torchFeature().isSupported()){k&&k.hide();return}k?k.updateTorchCapability(St.torchFeature()):k=Kd.create(F,St.torchFeature(),{display:"none",marginLeft:"5px"},function(Ut){E.setHeaderMessage(Ut,ni.STATUS_WARNING)}),k.show()};b.appendChild(F);var xt=function(St){St||(S.style.display="none"),S.innerText=Te.scanButtonStartScanningText(),S.style.opacity="1",S.disabled=!1,St&&(S.style.display="inline-block")};if(S.addEventListener("click",function(St){S.innerText=Te.scanButtonScanningStarting(),V.disable(),S.disabled=!0,S.style.opacity="0.5",x.scanTypeSelector.hasMoreThanOneScanType()&&E.showHideScanTypeSwapLink(!1),E.resetHeaderMessage();var Ut=V.getValue();E.persistedDataManager.setLastUsedCameraId(Ut),E.html5Qrcode.start(Ut,e2(E.config),E.qrCodeSuccessCallback,E.qrCodeErrorCallback).then(function(xe){z.disabled=!1,z.style.display="inline-block",xt(!1);var Nt=E.html5Qrcode.getRunningTrackCameraCapabilities();x.config.showTorchButtonIfSupported===!0&&At(Nt),x.config.showZoomSliderIfSupported===!0&&D(Nt)}).catch(function(xe){E.showHideScanTypeSwapLink(!0),V.enable(),xt(!0),E.setHeaderMessage(xe,ni.STATUS_WARNING)})}),V.hasSingleItem()&&S.click(),z.addEventListener("click",function(St){if(!E.html5Qrcode)throw"html5Qrcode not defined";z.disabled=!0,E.html5Qrcode.stop().then(function(Ut){x.scanTypeSelector.hasMoreThanOneScanType()&&E.showHideScanTypeSwapLink(!0),V.enable(),S.disabled=!1,z.style.display="none",S.style.display="inline-block",k&&(k.reset(),k.hide()),w.removeOnCameraZoomValueChangeCallback(),w.hide(),E.insertCameraScanImageToScanRegion()}).catch(function(Ut){z.disabled=!1,E.setHeaderMessage(Ut,ni.STATUS_WARNING)})}),E.persistedDataManager.getLastUsedCameraId()){var te=E.persistedDataManager.getLastUsedCameraId();V.hasValue(te)?(V.setValue(te),S.click()):E.persistedDataManager.resetLastUsedCameraId()}},m.prototype.createSectionSwap=function(){var A=this,x=Te.textIfCameraScanSelected(),E=Te.textIfFileScanSelected(),b=document.getElementById(this.getDashboardSectionId()),w=document.createElement("div");w.style.textAlign="center";var D=fa.createElement("span",this.getDashboardSectionSwapLinkId());D.style.textDecoration="underline",D.style.cursor="pointer",D.innerText=Ka.isCameraScanType(this.currentScanType)?x:E,D.addEventListener("click",function(){if(!A.sectionSwapAllowed){A.verbose&&A.logger.logError("Section swap called when not allowed");return}A.resetHeaderMessage(),A.fileSelectionUi.resetValue(),A.sectionSwapAllowed=!1,Ka.isCameraScanType(A.currentScanType)?(A.clearScanRegion(),A.getCameraScanRegion().style.display="none",A.fileSelectionUi.show(),D.innerText=E,A.currentScanType=Ja.SCAN_TYPE_FILE,A.insertFileScanImageToScanRegion()):(A.clearScanRegion(),A.getCameraScanRegion().style.display="block",A.fileSelectionUi.hide(),D.innerText=x,A.currentScanType=Ja.SCAN_TYPE_CAMERA,A.insertCameraScanImageToScanRegion(),A.startCameraScanIfPermissionExistsOnSwap()),A.sectionSwapAllowed=!0}),w.appendChild(D),b.appendChild(w)},m.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var A=this,x=this;if(this.persistedDataManager.hasCameraPermissions()){zf.hasPermissions().then(function(E){if(E){var b=document.getElementById(x.getCameraPermissionButtonId());if(!b)throw A.logger.logError("Permission button not found, fail;"),"Permission button not found";b.click()}else x.persistedDataManager.setHasPermission(!1)}).catch(function(E){x.persistedDataManager.setHasPermission(!1)});return}},m.prototype.resetHeaderMessage=function(){var A=document.getElementById(this.getHeaderMessageContainerId());A.style.display="none"},m.prototype.setHeaderMessage=function(A,x){x||(x=ni.STATUS_DEFAULT);var E=this.getHeaderMessageDiv();switch(E.innerText=A,E.style.display="block",x){case ni.STATUS_SUCCESS:E.style.background="rgba(106, 175, 80, 0.26)",E.style.color="#477735";break;case ni.STATUS_WARNING:E.style.background="rgba(203, 36, 49, 0.14)",E.style.color="#cb2431";break;case ni.STATUS_DEFAULT:default:E.style.background="rgba(0, 0, 0, 0)",E.style.color="rgb(17, 17, 17)";break}},m.prototype.showHideScanTypeSwapLink=function(A){this.scanTypeSelector.hasMoreThanOneScanType()&&(A!==!0&&(A=!1),this.sectionSwapAllowed=A,this.getDashboardSectionSwapLink().style.display=A?"inline-block":"none")},m.prototype.insertCameraScanImageToScanRegion=function(){var A=this,x=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){x.innerHTML="<br>",x.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(E){x.innerHTML="<br>",x.appendChild(A.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=jd,this.cameraScanImage.alt=Te.cameraScanAltText()},m.prototype.insertFileScanImageToScanRegion=function(){var A=this,x=document.getElementById(this.getScanRegionId());if(this.fileScanImage){x.innerHTML="<br>",x.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(E){x.innerHTML="<br>",x.appendChild(A.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Yd,this.fileScanImage.alt=Te.fileScanAltText()},m.prototype.clearScanRegion=function(){var A=document.getElementById(this.getScanRegionId());A.innerHTML=""},m.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},m.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},m.prototype.getDashboardSectionSwapLinkId=function(){return ii.SCAN_TYPE_CHANGE_ANCHOR_ID},m.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},m.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},m.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},m.prototype.getCameraPermissionButtonId=function(){return ii.CAMERA_PERMISSION_BUTTON_ID},m.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},m.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},m.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},m}();const a2=({onScan:m})=>{const[A,x]=En.useState(!0),[E,b]=En.useState(null),[w,D]=En.useState(!1);En.useEffect(()=>{if(!A)return;const z=new i2("qr-reader",{fps:10,qrbox:{width:250,height:250}});return z.render(k=>{D(!0),x(!1),m(k),V(z)},k=>{}),b(z),()=>{V(z)}},[A,m]);const V=async z=>{try{z&&await z.clear(),F()}catch(k){console.error("Scanner cleanup error:",k)}},F=async()=>{try{const z=navigator.mediaDevices;z&&z.getUserMedia&&(await z.getUserMedia({video:!0})).getTracks().forEach(At=>At.stop())}catch(z){console.error("Error stopping camera:",z)}},S=()=>{D(!1),x(!0)};return ue.jsxs("div",{children:[ue.jsx("h2",{children:"Scan a QR Code"}),A?ue.jsx("div",{id:"qr-reader"}):ue.jsx("p",{children:"スキャンしました!"}),w&&ue.jsx("button",{onClick:S,style:{marginTop:"10px"},children:"再度スキャン"})]})},pc="https://kurachi.onrender.com",r2="390748940";function l2(){const[m,A]=En.useState([]),[x,E]=En.useState(""),[b,w]=En.useState(!1),[D,V]=En.useState(!1),[F,S]=En.useState(null),[z,k]=En.useState(""),[At,xt]=En.useState(!1),[te,St]=En.useState(!1),[Ut,xe]=En.useState(""),[Nt,Et]=En.useState(null),[kt,Ht]=En.useState("");En.useEffect(()=>{const J=new URLSearchParams(window.location.search).get("factoryValue");J&&Ht(J)},[]);const Lt=()=>{if(x.trim()===""){alert("Please enter or scan your name.");return}w(!0),Nt==="bluetooth"&&V(!0)},ut=j=>{if(!j||!b)return;const[J,et]=j.split(",");A(ht=>[...ht,{id:ht.length+1,productName:J,quantity:parseInt(et)}])},Gt=j=>{S(j),k(m[j].quantity)},q=j=>{A(J=>J.map((et,ht)=>ht===j?{...et,quantity:parseInt(z)}:et)),S(null)},Vt=j=>{A(J=>J.filter((et,ht)=>ht!==j))},Ce=async()=>{if(m.length===0){alert("No scanned data to save. / スキャンデータがありません.");return}if(!x.trim()){alert("Error: 名前入れてください.");return}xt(!0);try{(await fetch(`${pc}/saveScannedQRData`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scannedBy:x,scannedResults:m})})).ok?(alert("Data saved successfully!"),Ae(),kt==="肥田瀬"&&await Tt()):alert("Failed to save data.")}catch(j){console.error("Error saving data:",j),alert("An error occurred while saving.")}xt(!1)},Tt=async()=>{const j=`${pc}/queries`,J=new Date,et=J.getFullYear(),ht=J.getMonth()+1,Wt=new Date(et,ht-1,1),B=new Date(et,ht,0),at=Rt=>{const lt=Rt.getFullYear(),ke=String(Rt.getMonth()+1).padStart(2,"0"),Mt=String(Rt.getDate()).padStart(2,"0");return`${lt}-${ke}-${Mt}`},dt=at(Wt),wt=at(B),ct=[{$match:{工場:"肥田瀬",Date:{$gte:new Date(dt),$lte:new Date(wt)}}},{$group:{_id:"$Date",items:{$push:{品番:"$品番",quantity:"$Quantity"}},totalQuantity:{$sum:"$Quantity"}}},{$sort:{_id:1}}];try{const Rt=await fetch(j,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dbName:"submittedDB",collectionName:"inventoryDB",aggregation:ct})});if(Rt.ok){const lt=await Rt.json();console.log("Monthly Inventory Data:",lt);const ke=lt.reduce((re,Mn)=>(Mn.items.forEach(Bt=>{re[Bt.品番]||(re[Bt.品番]=0),re[Bt.品番]+=Bt.quantity}),re),{}),Mt=lt.map(re=>{const Mn=at(new Date(re._id)),Bt=re.items.map((Pn,yn)=>`${yn+1}. ${Pn.品番}: ${Pn.quantity}`).join(`
`);return`日付: ${Mn}
${Bt}`}).join(`

`),be=Object.entries(ke).map(([re,Mn],Bt)=>`${Bt+1}. ${re}: ${Mn}`).join(`
`),fe=`今月のデータ： ${dt} - ${wt}:

${Mt}

まとめ：
${be}`;await Pt(fe,r2)}else console.error("Failed to retrieve monthly data:",Rt.status,await Rt.text())}catch(Rt){console.error("Error retrieving monthly data:",Rt)}},Pt=async(j,J)=>{try{const et=await fetch(`${pc}/inventoryChat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:j,roomId:J})});if(et.ok){const ht=await et.json();console.log("Message sent successfully:",ht)}else console.error("Failed to send message:",et.status,await et.text())}catch(et){console.error("Error sending message to Chatwork:",et)}};En.useEffect(()=>{if(Nt!=="bluetooth")return;let j;const J=et=>{b&&(et.key==="Enter"?Ut.trim()!==""&&(ut(Ut.trim()),xe("")):et.key.length===1&&(xe(ht=>ht+et.key),clearTimeout(j),j=setTimeout(()=>xe(""),500)))};return window.addEventListener("keydown",J),()=>{window.removeEventListener("keydown",J),clearTimeout(j)}},[Ut,b,Nt]);const Ae=()=>{A([]),E(""),w(!1),S(null),k(""),Et(null),xe(""),V(!1)};return ue.jsxs("div",{children:[ue.jsx("h1",{children:"在庫 QR Scanner QR / スキャナー"}),!Nt&&ue.jsxs("div",{className:"scanner-selection",children:[ue.jsx("h3",{children:"Select Scanner Type:"}),ue.jsx("button",{onClick:()=>Et("camera"),children:"📷 カメラスキャン"}),ue.jsx("button",{onClick:()=>Et("bluetooth"),children:"🔵 ブルースススキャナー"})]}),Nt&&ue.jsx("div",{className:"name-input-container",children:ue.jsxs("div",{className:"name-input-row",children:[ue.jsx("input",{type:"text",value:x,onChange:j=>E(j.target.value),placeholder:"名前入れてください...",disabled:b}),ue.jsx("button",{onClick:()=>St(!0),disabled:b,children:"名前スキャン"}),ue.jsx("button",{onClick:Lt,disabled:b,children:"OK"})]})}),Nt==="bluetooth"&&b&&D&&ue.jsxs("div",{className:"bluetooth-ready-indicator",children:["✅ ",ue.jsx("strong",{children:"Bluetooth scanner is ready!"})," スキャン初めてください."]}),Nt==="camera"&&b&&ue.jsx(a2,{onScan:ut}),ue.jsx("h3",{children:"Scanned Results:"}),ue.jsx("ul",{children:m.map((j,J)=>ue.jsxs("li",{children:[ue.jsxs("strong",{children:[J+1,". 品番:"]})," ",j.productName," |",ue.jsx("strong",{children:" 収容数:"}),F===J?ue.jsx("input",{type:"number",value:z,onChange:et=>k(et.target.value)}):ue.jsxs("span",{children:[" ",j.quantity," "]}),F===J?ue.jsx("button",{onClick:()=>q(J),children:"Save"}):ue.jsx("button",{onClick:()=>Gt(J),children:"Edit"}),ue.jsx("button",{onClick:()=>Vt(J),children:"Delete"})]},J))}),ue.jsxs("div",{className:"button-group",children:[ue.jsx("button",{onClick:Ce,disabled:At,children:At?"Saving...":"保存"}),ue.jsx("button",{onClick:Ae,children:"リセット"})]})]})}md.createRoot(document.getElementById("root")).render(ue.jsx(En.StrictMode,{children:ue.jsx(l2,{})}));
